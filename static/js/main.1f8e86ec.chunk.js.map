{"version":3,"sources":["../../contracts/src/addresses.js","../../contracts/src/index.js","components/SharedStyling.js","connectors.ts","hooks.ts","helpers/EPNSCoreHelper.js","segments/Airdrop.tsx","singletons/YieldFarmingDataStore.js","components/InfoTooltip.js","components/BlockiesIdenticon.js","components/PoolCard.js","segments/YieldFarming.js","helpers/NFTHelper.js","components/DisplayNotice.js","assets/Device.js","components/ViewNFTItem.js","components/MyNFTs.js","components/AllNFTs.js","components/TransferNFT.js","segments/NFT.js","components/ViewDelegateeItem.js","segments/PushGovernance.tsx","singletons/ChannelsDataStore.js","singletons/UsersDataStore.js","pages/Home.js","components/Profile.tsx","components/Bell.js","segments/Header.tsx","App.tsx","serviceWorker.js","index.js","helpers/AirdropHelper.js","components/blockies.js"],"names":["addresses","ceaErc20","epnscore","dai","aDai","staking","yieldFarmPUSH","yieldFarmLP","epnsToken","epnsLPToken","uniswapV2Router02","WETHAddress","USDTAddress","rockstar","batchMintNFT","NFTRewards","distributor","abis","erc20","erc20Abi","ownable","ownableAbi","epnscoreAbi","daiAbi","epnsTokenAbi","stakingAbi","yieldFarming","yieldFarmingAbi","rockstarAbi","erc721","ec721Abi","MerkleDistributorAbi","UniswapV2Router02Abi","Section","styled","section","props","align","direction","theme","gradient","margin","padding","overflow","Content","div","ItemBreak","Item","wrap","position","bg","flex","self","justify","minWidth","maxWidth","size","textAlign","filter","right","left","bottom","top","width","height","border","radius","filterHover","hover","tabletAlign","tabletTextAlign","ItemH","H2","transform","arcRGB","css","h1","h2","color","weight","textTransform","spacing","family","H3","h3","Image","img","P","p","Span","span","pos","z","B","UL","ul","LI","li","Anchor","a","hoverBG","A","Button","button","FormSubmision","opacity","tabletRight","tabletLeft","tabletTop","tabletBottom","tabletTransform","tabletOpacity","form","Input","input","display","outline","cursor","hand","textarea","require","config","RPC_URLS","1","process","REACT_APP_RPC_URL_1","3","REACT_APP_RPC_URL_3","injected","InjectedConnector","supportedChainIds","walletconnect","WalletConnectConnector","rpc","bridge","qrcode","pollingInterval","ledger","LedgerConnector","chainId","url","console","log","trezor","TrezorConnector","manifestEmail","manifestAppUrl","portis","PortisConnector","dAppId","networks","EPNSCoreHelper","getOwnerInfo","contract","Promise","resolve","reject","governance","then","response","catch","err","getVotingPower","delegateeAddress","rawFormat","ethers","utils","isAddress","endsWith","decimals","getCurrentVotes","votes","Number","Math","pow","votingPower","prettyVotingPower","parseFloat","toLocaleString","toFixed","getUserInfo","user","users","mappings","addr","getChannelAddressFromID","channelID","mapAddressChannels","toString","getChannelInfo","channel","channels","getChannelEvent","startBlock","updateBlock","filters","AddChannel","block","UpdateChannel","queryFilter","filteredResponse","forEach","item","args","toUtf8String","identity","getJsonFileFromIdentity","ids","split","fetch","json","getChannelJsonFromChannelAddress","channelStartBlock","toNumber","channelUpdateBlock","getChannelJsonFromUserAddress","getTotalNumberOfChannels","channelsCount","getChannelsMetaLatestToOldest","atIndex","numChannels","channelsInfo","channelArrays","i","assignedChannelID","push","promises","map","all","getTotalNumberOfUsers","usersCount","getPublicKey","address","length","getSubscribedStatus","memberExists","getTotalSubscribedChannels","subscribedCount","getFairShareOfUserAtBlock","userActivated","calcAllChannelsRatio","getPoolFunds","poolFunds","formatBigNumberToMetric","bignumber","convertToCurrency","metricFormatter","e","num","digits","si","value","symbol","replace","dotenv","Question","Answer","ONE_PUSH","BigNumber","from","mul","tokenToBn","token","tokenBNtoNumber","tokenBn","YieldFarmingDataStore","state","account","signer","yieldFarmingPUSH","yieldFarmingLP","rewardForCurrentEpochPush","rewardForCurrentEpochLP","genesisEpochAmountPUSH","deprecationPerEpochPUSH","genesisEpochAmountLP","deprecationPerEpochLP","init","getPoolStats","getCurrentEpoch","currentEpochPUSH","getAmountsOut","pushPriceAmounts","pushPrice","balanceOf","pushAmountReserve","attach","wethAmountReserve","ethPriceAmounts","ethPrice","totalSupply","uniTotalSupply","lpToPushRatio","uniLpPrice","getPoolSize","add","pushNextPoolSize","lpNextPoolSize","totalValueLocked","epochDuration","epochStart","start","sub","epochEndTimestamp","TOTAL_DISTRIBUTED_AMOUNT","pushTotalDistributedAmount","lpTotalDistributedAmount","totalDistributedAmount","getPushRewardsDistributed","pushRewardsDistributed","currentEpoch","getPUSHPoolStats","NR_OF_EPOCHS","totalEpochPUSH","genesisEpochAmount","deprecationPerEpoch","rewardForCurrentEpoch","calcTotalAmountPerEpoch","poolBalance","stakingAPR","calcStakingAPR","getLPPoolStats","poolStats","calcLPPoolAPR","getUserData","calculateUserEpochReward","potentialUserReward","getEpochStake","epochStakeNext","totalAccumulatedReward","epochReward","lastEpochIdHarvested","totalAvailableReward","currentEpochLP","pushPoolRewardsDistributed","lpPoolRewardsDistributed","rewardForCurrentEpochPUSH","epochId","calcAnnualEpochReward","currentEpochReward","depreciate","weeks","totalStaked","apr","parseInt","annualRewards","aprFormatted","epochStake","poolSize","instance","InfoTooltip","title","Tooltip","style","marginLeft","BlockiesIdenticon","seed","this","opts","bgcolor","scale","spotcolor","draw","prevProps","blockies","render","canvas","React","createElement","ref","Component","bn","number","defaultValue","bnToInt","bnAmount","PoolCard","poolName","poolAddress","tokenAddress","pushPoolStats","userData","useWeb3React","active","error","library","useState","depositAmountToken","setDepositAmountToken","txInProgress","showDepositItem","setShowDepositItem","depositApproved","setDepositApprove","txInProgressApprDep","setTxInProgressApprDep","txInProgressDep","setTxInProgressDep","showDepSlip","setShowDepSlip","txInProgressWithdraw","setTxInProgressWithdraw","txInProgressMassHarvest","setTxInProgressMassHarvest","useEffect","checkApprDeposit","getSigner","tokenAddr","Contract","allowance","gte","fillMax","balance","approveDeposit","uintMax","approve","tx","txToast","toast","dark","msg","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","waitForTransaction","hash","update","type","TYPE","SUCCESS","name","ERROR","depositAmountTokenFarmSingleTx","deposit","withdrawAmountTokenFarmAutomatic","withdrawAmount","formatTokens","withdraw","massHarvestTokensAll","massHarvest","tokens","numberWithCommas","x","items","PoolContainer","borderBottom","PoolBoxTitle","fg","PoolBoxMsg","EpochDisplayer","MaxButton","onClick","placeholder","onChange","target","ButtonAlt","disabled","LoaderToast","h5","Toaster","ToasterMsg","StatsCard","StatsHeading","StatsContent","StatsPreview","StatsInnerTitle","StatsInnerSub","YieldFarming","setPoolStats","setPushPoolStats","lpPoolStats","setLpPoolStats","userDataPUSH","setUserDataPUSH","userDataLP","setUserDataLP","formattedDuration","setFormattedDuration","setEpnsToken","setStaking","setYieldFarmingPUSH","setYieldFarmingLP","setUniswapV2Router02","useCallback","getUserDataPUSH","getUserDataLP","setTimeout","duration","floor","Date","day","hour","minutes","seconds","getFormattedDuration","uniswapV2Router02Instance","syncData","href","NFTHelper","getNFTBalance","getTotalSupply","getOwnerOfTokenId","tokenId","ownerOf","getTokenOfOwnerByIndex","index","tokenOfOwnerByIndex","getTokenByIndex","tokenByIndex","getTokenMetadata","tokenURI","getTokenMetadatasOfOwner","owner","nftContract","rewardsContract","NFTDetails","getClaimable","claimable","metadata","id","getAllTokenDatas","getTokenData","transferNFT","to","safeTransferFrom","getClaimRewardStatus","Container","Notice","DisplayNotice","animationIn","animationOut","durationOut","Device","mobileS","mobileM","mobileL","tablet","laptop","laptopL","desktop","desktopL","NFTTextStyle","label","NFTStatus","NFTStatusTitle","NFTClaim","NFTClaimTitle","ChannelLogo","atW","atH","borderRadius","marginBottom","marginRight","ChannelLogoOuter","ChannelLogoInner","ChannelMetaBox","ChannelActions","ChannelActionButton","ActionTitle","hideit","ActionLoader","SkeletonButton","UnsubscribeButton","ViewNFTItem","NFTObject","setControlAt","nftReadProvider","nftWriteProvider","controlAt","setTokenId","NFTRewardsContract","setNFTRewardsContract","loading","setLoading","setTxInProgress","NFTRewardsInstance","handleClaim","claimReward","sendWithTxPromise","key","controls","playing","loop","ContainerInfo","Items","MyNFTs","setNftReadProvider","setNftWriteProvider","NFTObjects","setNFTObjects","contractInstance","signerInstance","fetchNFTDetails","prev","Object","keys","transitions","scaleDown","AllNFTs","activeBG","TransferNFT","toAddress","setToAddress","processing","setProcessing","processingInfo","setProcessingInfo","handleTransferNFT","preventDefault","isEmpty","txPromise","field","trim","onSubmit","required","maxlength","QnAItem","AMod","NFT","epnsReadProvider","epnsWriteProvide","showAnswers","setShowAnswers","toggleShowAnswer","newShowAnswers","userClickedAt","controlIndex","DelegateeItem","DelegateeImageOuter","DelegateeImageInner","DelegateeProfile","DelegateeWallet","ViewDelegateeItem","delegateeObject","pushBalance","isBalance","setIsBalance","delegateAction","delegate","wallet","pic","src","srcSet","alt","toLowerCase","forum","delegateesJSON","op","NomineeContainer","AbsoluteWrapper","CurvedSpan","Blocky","BlockyInner","Wallet","Delegate","setAddress","ens","setENS","ensFetched","setENSFetched","dashboardLoading","setDashboardLoading","delegateesLoading","setDelegateesLoading","setDelegateesObject","pushDelegatees","setPushDelegatees","pushNominees","setPushNominees","tokenBalance","setTokenBalance","prettyTokenBalance","setPrettyTokenBalance","showDelegateePrompt","setShowDelegateePrompt","delegatee","setDelegatee","selfVotingPower","setSelfVotingPower","newDelegateeAddress","setNewDelegateeAddress","newDelegateeVotingPower","setNewDelegateeVotingPower","lookupAddress","epnsTokenContract","getMyInfo","delegateesList","values","votingPowerSorter","b","allDelegateesPromise","oneDelegate","allDelegatees","delegateesAbove75k","votingPowerSimulate","sortedDelegatees","sort","delegateesBelow75k","sortedNominees","isValidAddress","bal","newBal","delegates","newDelegatee","substring","onePushNominee","oneDelegatee","ChannelEvents","ChannelsDataStore","channelsMeta","channelsJson","callbacks","resetChannelsListeners","initChannelsListenersAsync","getChannelsCountAsync","removeAllListeners","listenForAddChannelAnyAsync","listenForAddChannelSelfAsync","listenForUpdateChannelAnyAsync","listenForUpdateChannelSelfAsync","listenForSubscribeAnyAsync","listenForSubscribeSelfAsync","listenForUnsubscribeAnyAsync","listenForUnsubscribeSelfAsync","on","ipfs","incrementChannelsCountAsync","entries","callback","Subscribe","count","memberCount","bigNumberify","Unsubscribe","addCallbacks","callbackType","callbackID","removeCallbacks","incrementCount","getChannelsMetaAsync","channelsDummy","getChannelMetaAsync","channelAddress","getChannelMetaViaAddressAsync","getChannelJsonAsync","UserEvents","UsersDataStore","userMeta","ownerMeta","resetUsersListeners","initUsersListenersAsync","getOwnerMetaAsync","getUsersCountAsync","getUserMetaAsync","listenForSubscribedAsync","listenForUnsubscribedAsync","publicKeyRegistered","listenForPublicKeyBroadcastAsync","PublicKeyRegistered","once","incrementUsersCountAsync","Controls","ControlButton","ControlImage","ControlText","Interface","Home","setBadgeCount","bellPressed","ReactGA","pageview","epnsWriteProvider","window","open","PushGovernance","Profile","tadaaa","keyframes","BellImage","ringme","BellImageAbs","Badge","Bell","badgeCount","bellPressedCB","badge","setBadge","ring","setRing","setResetRinger","className","HeaderContainer","Logo","PrimaryTheme","ThirdTheme","Connection","phase","Header","context","deactivate","showLoginControls","setShowLoginControls","NoEthereumProviderError","UnsupportedChainIdError","UserRejectedRequestErrorInjected","getErrorMessage","web3Connectors","Injected","obj","logo","WalletConnect","Trezor","Ledger","Portis","getLibrary","provider","connector","providers","Web3Provider","App","activate","setBellPressed","initialize","activatingConnector","setActivatingConnector","triedEager","tried","setTried","isAuthorized","useEagerConnect","suppress","ethereum","handleConnect","handleChainChanged","handleAccountsChanged","accounts","handleNetworkChanged","networkId","removeListener","useInactiveListener","ParentContainer","HomeContainer","ProviderLogo","currentConnector","image","ProviderButton","ProviderImage","newestOnTop","rtl","pauseOnFocusLoss","header","ToastContainer","attrs","Boolean","location","hostname","match","client","ApolloClient","uri","cache","InMemoryCache","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","claims","AirdropHelper","combinedHash","first","second","Buffer","solidityKeccak256","compare","slice","toNode","amount","pairHex","verifyProof","proof","root","pair","equals","getNextLayer","elements","reduce","layer","el","idx","arr","getRoot","balances","nodes","layers","verifyAddress","merkleRootHex","merkleRoot","claim","verified","isClaimed","BNamount","randseed","Array","rand","t","createColor","buildOpts","newOpts","random","charCodeAt","seedrand","renderIcon","imageData","dataWidth","ceil","mirrorWidth","data","y","row","r","reverse","concat","createImageData","sqrt","cc","getContext","fillStyle","fillRect","col","api","create","module","exports"],"mappings":"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","file":"static/js/main.1f8e86ec.chunk.js","sourcesContent":["// This address points to a dummy ERC20 contract deployed on Ethereum Mainnet,\r\n// Goerli, Kovan, Rinkeby and Ropsten. Replace it with your smart contracts.\r\nconst addresses = {\r\n  ceaErc20: \"0xc1C0472c0C80bCcDC7F5D01A376Bd97a734B8815\",\r\n  epnscore: \"0xc882dA9660d29c084345083922F8a9292E58787D\",\r\n  dai: \"0xf80A32A835F79D7787E8a8ee5721D0fEaFd78108\",\r\n  aDai: \"0xcB1Fe6F440c49E9290c3eb7f158534c2dC374201\",\r\n\r\n  staking: \"0xB72ff1e675117beDefF05a7D0a472c3844cfec85\",\r\n  yieldFarmPUSH: \"0x6019B84E2eE9EB62BC42E32AB6375A7095886366\",\r\n  yieldFarmLP: \"0xbB2A70e67770D0A7F5f42d883C5BBE9b85e0DcD6\",\r\n  epnsToken: \"0xf418588522d5dd018b425E472991E52EBBeEEEEE\",\r\n  epnsLPToken: \"0xaf31fd9c3b0350424bf96e551d2d1264d8466205\",\r\n\r\n  uniswapV2Router02: \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\",\r\n\r\n  // WETHAddress: \"0xc778417e063141139fce010982780140aa0cd5ab\", // ropsten address\r\n  // USDTAddress: \"0xad6d458402f60fd3bd25163575031acdce07538d\", // ropsten address\r\n\r\n  WETHAddress: \"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\", // mainnet address\r\n  USDTAddress: \"0xdac17f958d2ee523a2206206994597c13d831ec7\", // mainnet address\r\n\r\n  rockstar: \"0x3f8C2152b79276b78315CAF66cCF951780580A8a\", //mainnet address\r\n  batchMintNFT: \"0x6BaeeD93336B277D8949Cb89161269032698f443\", //mainnet address\r\n  NFTRewards: \"0xc4708BB6EC3B797344f123126171302e4e3E68E2\", //mainnet address\r\n  distributor: \"0x64CfAb2eA55ADAe08c9040fdA247828444fB9D0D\", //mainnet address\r\n};\r\n\r\n\r\nexport default addresses;\r\n","import erc20Abi from \"./abis/erc20\";\r\nimport ownableAbi from \"./abis/ownable\";\r\nimport epnscoreAbi from \"./abis/epnscore\";\r\nimport daiAbi from \"./abis/dai\";\r\nimport epnsTokenAbi from \"./abis/EPNS.json\";\r\nimport stakingAbi from \"./abis/Staking.json\";\r\nimport yieldFarmingAbi from \"./abis/YieldFarm.json\";\r\nimport rockstarAbi from \"./abis/Rockstar.json\";\r\nimport ec721Abi from \"./abis/ERC721.json\";\r\nimport NFTRewards from \"./abis/NFTRewards.json\";\r\nimport MerkleDistributorAbi from \"./abis/MerkleDistributor.json\";\r\nimport UniswapV2Router02Abi from \"./abis/UniswapV2Router02.json\";\r\n\r\nexport const abis = {\r\n  erc20: erc20Abi,\r\n  ownable: ownableAbi,\r\n  epnscore: epnscoreAbi,\r\n  dai: daiAbi,\r\n  epnsToken: epnsTokenAbi,\r\n  staking: stakingAbi,\r\n  yieldFarming: yieldFarmingAbi,\r\n  rockstar: rockstarAbi,\r\n  erc721: ec721Abi,\r\n  NFTRewards: NFTRewards,\r\n  distributor: MerkleDistributorAbi,\r\n  uniswapV2Router02: UniswapV2Router02Abi,\r\n};\r\n\r\nexport { default as addresses } from \"./addresses\";\r\n","import styled, { css } from 'styled-components';\r\n\r\nexport const Section = styled.section`\r\n  display: flex;\r\n  align-self: stretch;\r\n  justify-content: center;\r\n  align-items: ${props => props.align || 'initial'};\r\n  flex-direction: ${props => props.direction || 'column'};\r\n  background: ${props => props.theme || 'transparent'};\r\n  background: ${props => props.gradient || 'undefined'};\r\n  margin: ${props => props.margin || '0px'};\r\n  padding: ${props => props.padding || '0px'};\r\n  overflow: ${props => props.overflow || 'initial'};\r\n  flex: 1;\r\n  position: relative;\r\n`\r\n\r\nexport const SectionFS = styled(Section)`\r\n  min-height: 100vh;\r\n`\r\n\r\nexport const SectionFSHero = styled(Section)`\r\n  min-height: 100vh;\r\n  background: rgb(31,23,47);\r\n  background: linear-gradient(283deg, rgba(31,23,47,1) 0%, rgba(62,9,40,1) 45%, rgba(17,58,72,1) 100%);\r\n`\r\n\r\nexport const SectionHero = styled(Section)`\r\n  background: rgb(31,23,47);\r\n  background: linear-gradient(283deg, rgba(31,23,47,1) 0%, rgba(62,9,40,1) 45%, rgba(17,58,72,1) 100%);\r\n`\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: ${props => props.padding || \"40px 0px\"};\r\n  background: ${props => props.theme || 'transparent'};\r\n  background: ${props => props.gradient || 'undefined'};\r\n  position: relative;\r\n`\r\n\r\nexport const ItemBreak = styled.div`\r\n  flex-basis: 100%;\r\n`\r\n\r\nexport const Item = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: ${props => props.wrap || 'wrap'};\r\n  position: ${props => props.position || 'relative'};\r\n  justify-content: center;\r\n  background: ${props => props.bg || 'transparent'};\r\n  flex: ${props => props.flex || '1'};\r\n  flex-direction: ${props => props.direction || 'column'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  margin: ${props => props.margin || '0px'};\r\n  min-width: ${props => props.minWidth || 'auto'};\r\n  max-width: ${props => props.maxWidth || 'initial'};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-align: ${props => props.textAlign || \"inherit\"};\r\n  filter: ${props => props.filter || \"none\"};\r\n\r\n  right: ${props => props.right || 'auto'};\r\n  left: ${props => props.left || 'auto'};\r\n  bottom: ${props => props.bottom || 'auto'};\r\n  top: ${props => props.top || 'auto'};\r\n\r\n  width: ${props => props.width || \"auto\" };\r\n  height: ${props => props.height || \"auto\" };\r\n\r\n  border: ${props => props.border || \"none\"};\r\n\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  overflow: ${props => props.overflow || \"initial\"};\r\n\r\n  &:hover & {\r\n    filter: ${props => (props.filterHover ? props.filterHover : (props.hover ? props.hover : \"none\")) || \"none\"};\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    align-items: ${props => (props.tabletAlign ? props.tabletAlign : (props.align ? props.align : \"center\")) || \"center\"};\r\n    text-align: ${props => (props.tabletTextAlign ? props.tabletTextAlign : (props.textAlign ? props.textAlign : \"inherit\")) || \"inherit\"};\r\n  }\r\n\r\n  ${ItemBreak} {\r\n    width: 0;\r\n  }\r\n`\r\n\r\nexport const ItemH = styled(Item)`\r\n  flex-direction: row;\r\n  flex: ${props => props.flex || '1'};\r\n\r\n  ${ItemBreak} {\r\n    width: auto;\r\n    height: 0;\r\n  }\r\n`\r\n\r\nexport const WaveOuter = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: ${props => props.bottom || '-70px'};\r\n  top: ${props => props.top || 'auto'};\r\n  transform: ${props => props.transform || 'initial'};\r\n`;\r\n\r\nexport const WaveInner = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  transform: ${props => props.transform || 'initial'};\r\n`;\r\n\r\nexport const Arc = styled.div`\r\n  position: absolute;\r\n\toverflow: hidden;\r\n\twidth: 100%;\r\n\theight: 300px;\r\n\r\n  bottom: ${props => props.bottom || 'auto'};\r\n  top: ${props => props.top || 'auto'};\r\n\r\n  &:after {\r\n    content: '';\r\n    position: absolute;\r\n  \twidth: 300%;\r\n  \theight: 300%;\r\n  \ttop: -25%;\r\n  \tleft: -100%;\r\n\r\n\r\n    ${ props => props.arcRGB && css`\r\n      \tbackground: radial-gradient(ellipse at center, ${props.arcRGB}00 0%, ${props.arcRGB}00 50%, ${props.arcRGB}ff 50%, ${props.arcRGB}ff 100%);\r\n    `};\r\n  }\r\n`\r\n\r\nexport const H1 = styled.h1`\r\n  @media (max-width: 480px) {\r\n    font-size: 2.1rem;\r\n  }\r\n`\r\n\r\nexport const H2 = styled.h2`\r\n  color: ${props => props.color || '#000'};\r\n  font-weight: ${props => props.weight || 600};\r\n  font-size: ${props => props.size || \"2rem\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  margin: ${props => props.margin || \"20px 0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  font-family: ${props => props.family || \"'Source Sans Pro', Helvetica, sans-serif\"};\r\n  text-align: ${props => props.textAlign || \"inherit\"};\r\n`\r\n\r\nexport const H3 = styled.h3`\r\n  color: ${props => props.color || 'rgb(0 0 0 / 0.5)'};\r\n  font-weight: ${props => props.weight || 300};\r\n  font-size: ${props => props.size || \"1rem\"};\r\n  text-transform: ${props => props.textTransform || \"uppercase\"};\r\n  margin: ${props => props.margin || \"-15px 0px 20px 0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"0.1em\"};\r\n  font-family: ${props => props.family || \"'Source Sans Pro', Helvetica, sans-serif\"};\r\n  text-align: ${props => props.textAlign || \"inherit\"};\r\n  max-width: ${props => props.maxWidth || 'initial'};\r\n`\r\n\r\nexport const Image = styled.img`\r\n  width: 100%;\r\n  height: auto;\r\n  display: flex;\r\n`\r\n\r\nexport const P = styled.p`\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n\r\n  color: ${props => props.color || '#000'};\r\n  background: ${props => props.bg || 'transparent'};\r\n  font-weight: ${props => props.weight || 300};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  margin: ${props => props.margin || \"20px 0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  text-align: ${props => props.textAlign || \"initial\"};\r\n`\r\n\r\nexport const Para = styled(P)`\r\n  font-weight: ${props => props.weight || 300};\r\n  letter-spacing: ${props => props.spacing || \"0.02em\"};\r\n  font-size: ${props => props.size || \"1.1em\"};\r\n  color: ${props => props.color || \"#000000ee\"};\r\n`\r\n\r\nexport const Span = styled.span`\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n\r\n  color: ${props => props.color || '#000'};\r\n  background: ${props => props.bg || 'transparent'};\r\n  font-weight: ${props => props.weight || 300};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  margin: ${props => props.margin || \"0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  text-align: ${props => props.textAlign || \"initial\"};\r\n\r\n  position: ${props => props.pos || 'initial'};\r\n  right: ${props => props.right || 'auto'};\r\n  left: ${props => props.left || 'auto'};\r\n  bottom: ${props => props.bottom || 'auto'};\r\n  top: ${props => props.top || 'auto'};\r\n\r\n  z-index: ${props => props.z || 'auto'};\r\n`\r\n\r\nexport const B = styled.span`\r\n  color: ${props => props.color || '#000'};\r\n  font-weight: ${props => props.weight || 'bold'};\r\n`\r\n\r\nexport const UL = styled.ul`\r\n\r\n`\r\n\r\nexport const LI = styled.li`\r\n  margin: 10px 0px;\r\n`\r\n\r\nexport const Anchor = styled.a`\r\n  display: flex;\r\n  flex-direction: ${props => props.direction || 'row'};\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  font-weight: ${props => props.weight || 400};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  color: ${props => props.color || \"#fff\"};\r\n  background: ${props => props.bg || \"transparent\"};\r\n  margin: ${props => props.margin || \"0\"};\r\n  padding: ${props => props.padding || \"10px 15px\"};\r\n  letter-spacing: ${props => props.spacing || \"0.2em\"};\r\n  border: ${props => props.border || \"none\"};\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  width: ${props => props.width || \"initial\" };\r\n\r\n  position: relative;\r\n  text-decoration: none;\r\n  overflow: ${props => props.overflow || \"hidden\"};\r\n  z-index: 3;\r\n\r\n  filter: ${props => props.filter || \"none\"};\r\n\r\n  cursor: pointer;\r\n  pointer: hand;\r\n\r\n  &:hover & {\r\n    filter: ${props => (props.filterHover ? props.filterHover : (props.hover ? props.hover : \"none\")) || \"none\"};\r\n  }\r\n\r\n  &:before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${props => props.hover || (props.bg ? props.bg : \"transparent\")};\r\n    display: none;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${props => props.hoverBG || \"#000\"};\r\n    opacity: 0;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:hover:before {\r\n    display: block;\r\n  }\r\n\r\n  &:hover:after {\r\n    opacity: 0.08;\r\n  }\r\n  &:active:after {\r\n    opacity: 0.15;\r\n  }\r\n`\r\n\r\nexport const A = styled(Anchor)`\r\n  display: inline;\r\n  color: #e1087f;\r\n  background: transparent;\r\n  padding: 0px;\r\n  letter-spacing: inherit;\r\n  text-transform: initial;\r\n`\r\n\r\nexport const Button = styled.button`\r\n  display: flex;\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  font-weight: ${props => props.weight || 400};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  color: ${props => props.color || \"#fff\"};\r\n  background: ${props => props.bg || \"tranparent\"};\r\n  margin: ${props => props.margin || \"0\"};\r\n  padding: ${props => props.padding || \"10px 15px\"};\r\n  letter-spacing: ${props => props.spacing || \"initial\"};\r\n  border: ${props => props.border || \"none\"};\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  text-transform: ${props => props.textTransform || \"initial\"};\r\n\r\n  position: relative;\r\n  text-decoration: none;\r\n  overflow: ${props => props.overflow || \"hidden\"};\r\n  z-index: 3;\r\n\r\n  cursor: pointer;\r\n  pointer: hand;\r\n\r\n  &:before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${props => props.hover || (props.bg ? props.bg : \"transparent\")};\r\n    display: none;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${props => props.hoverBG || \"#000\"};\r\n    opacity: 0;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:hover:before {\r\n    display: block;\r\n  }\r\n\r\n  &:hover:after {\r\n    opacity: 0.08;\r\n  }\r\n  &:active:after {\r\n    opacity: 0.15;\r\n  }\r\n\r\n  & > div {\r\n    display: flex;\r\n  }\r\n`\r\n\r\nexport const Showoff = styled.div`\r\n  position: absolute;\r\n  right: ${props => props.right || 'auto'};\r\n  left: ${props => props.left || 'auto'};\r\n  bottom: ${props => props.bottom || 'auto'};\r\n  top: ${props => props.top || 'auto'};\r\n  transform: ${props => props.transform || 'initial'};\r\n  opacity: ${props => props.opacity || 'initial'};\r\n\r\n  @media (max-width: 768px) {\r\n    align-items: ${props => (props.tabletAlign ? props.tabletAlign : (props.align ? props.align : \"center\")) || \"center\"};\r\n\r\n    right: ${props => (props.tabletRight ? props.tabletRight : (props.right ? props.right : \"auto\")) || \"auto\"};\r\n    left: ${props => (props.tabletLeft ? props.tabletLeft : (props.left ? props.left : \"auto\")) || \"auto\"};\r\n    top: ${props => (props.tabletTop ? props.tabletTop : (props.top ? props.top : \"auto\")) || \"auto\"};\r\n    bottom: ${props => (props.tabletBottom ? props.tabletBottom : (props.bottom ? props.bottom : \"auto\")) || \"auto\"};\r\n\r\n    transform: ${props => (props.tabletTransform ? props.tabletTransform : (props.transform ? props.transform : \"auto\")) || \"auto\"};\r\n\r\n    opacity: ${props => (props.tabletOpacity ? props.tabletOpacity : (props.opacity ? props.opacity : \"auto\")) || \"initial\"};\r\n  }\r\n`\r\n\r\nexport const FormSubmision = styled.form`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  font-weight: ${props => props.weight || 400};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  color: ${props => props.color || \"#fff\"};\r\n  background: ${props => props.bg || \"transparent\"};\r\n  margin: ${props => props.margin || \"0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  border: ${props => props.border || \"none\"};\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  position: relative;\r\n`\r\n\r\nexport const Input = styled.input`\r\n  display: ${props => props.display || 'flex'};\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  font-weight: ${props => props.weight || 300};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  color: ${props => props.color || \"#000\"};\r\n  background: ${props => props.bg || \"transparent\"};\r\n  margin: ${props => props.margin || \"0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  border: ${props => props.border || \"none\"};\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  outline: ${props => props.outline || \"none\"};\r\n  overflow: ${props => props.overflow || \"hidden\"};\r\n  position: relative;\r\n\r\n  cursor: ${props => props.cursor || \"initial\"};\r\n  pointer: ${props => props.hand || \"initial\"};\r\n\r\n  &:focus + span {\r\n    opacity: 0;\r\n\r\n    -webkit-transition: all 0.2s ease-in-out;\r\n    -moz-transition: all 0.2s ease-in-out;\r\n    -o-transition: all 0.2s ease-in-out;\r\n    transition: all 0.2s ease-in-out;\r\n  }\r\n`\r\n\r\nexport const TextField = styled.textarea`\r\n  display: flex;\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  font-weight: ${props => props.weight || 300};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  color: ${props => props.color || \"#000\"};\r\n  background: ${props => props.bg || \"transparent\"};\r\n  margin: ${props => props.margin || \"0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  border: ${props => props.border || \"none\"};\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  outline: ${props => props.outline || \"none\"};\r\n  overflow: ${props => props.overflow || \"hidden\"};\r\n  position: relative;\r\n  resize: vertical;\r\n\r\n  &:focus + span {\r\n    opacity: 0;\r\n\r\n    -webkit-transition: all 0.2s ease-in-out;\r\n    -moz-transition: all 0.2s ease-in-out;\r\n    -o-transition: all 0.2s ease-in-out;\r\n    transition: all 0.2s ease-in-out;\r\n  }\r\n`\r\n","import { InjectedConnector } from '@web3-react/injected-connector'\r\nimport { PortisConnector } from '@web3-react/portis-connector'\r\n// import { NetworkConnector } from '@web3-react/network-connector'\r\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\r\n// import { WalletLinkConnector } from '@web3-react/walletlink-connector'\r\nimport { LedgerConnector } from '@web3-react/ledger-connector'\r\nimport { TrezorConnector } from '@web3-react/trezor-connector'\r\n// import { FrameConnector } from '@web3-react/frame-connector'\r\n// import { AuthereumConnector } from '@web3-react/authereum-connector'\r\n// import { FortmaticConnector } from '@web3-react/fortmatic-connector'\r\n// import { SquarelinkConnector } from '@web3-react/squarelink-connector'\r\n// import { TorusConnector } from '@web3-react/torus-connector'\r\n\r\nrequire('dotenv').config();\r\n\r\nconst POLLING_INTERVAL = 12000\r\nconst RPC_URLS: { [chainId: number]: string } = {\r\n  1: process.env.REACT_APP_RPC_URL_1 as string,\r\n  3: process.env.REACT_APP_RPC_URL_3 as string\r\n}\r\n\r\nexport const injected = new InjectedConnector({ supportedChainIds: [1] })\r\n\r\n// export const network = new NetworkConnector({\r\n//   urls: { 3: RPC_URLS[3] },\r\n//   defaultChainId: 3,\r\n//   pollingInterval: POLLING_INTERVAL\r\n// })\r\n\r\nexport const walletconnect = new WalletConnectConnector({\r\n  rpc: { 1: RPC_URLS[1] },\r\n  bridge: 'https://bridge.walletconnect.org',\r\n  qrcode: true,\r\n  pollingInterval: POLLING_INTERVAL\r\n})\r\n//\r\n// export const walletlink = new WalletLinkConnector({\r\n//   url: RPC_URLS[1],\r\n//   appName: 'web3-react example'\r\n// })\r\n//\r\nexport const ledger = new LedgerConnector({ chainId: 1, url: RPC_URLS[1], pollingInterval: POLLING_INTERVAL })\r\n\r\nconsole.log(RPC_URLS[1]);\r\n\r\nexport const trezor = new TrezorConnector({\r\n  chainId: 1,\r\n  url: RPC_URLS[1],\r\n  pollingInterval: POLLING_INTERVAL,\r\n  manifestEmail: 'support@epns.io',\r\n  manifestAppUrl: 'https://incentives.epns.io'\r\n})\r\n\r\n//\r\n// export const frame = new FrameConnector({ supportedChainIds: [1] })\r\n//\r\n// export const authereum = new AuthereumConnector({ chainId: 42 })\r\n//\r\n// export const fortmatic = new FortmaticConnector({ apiKey: process.env.FORTMATIC_API_KEY as string, chainId: 4 })\r\n\r\nexport const portis = new PortisConnector({ dAppId: 'cfefa032-9afd-4833-bfb4-2b0cb7ec3413' as string, networks: [1, 100] })\r\n\r\n// export const squarelink = new SquarelinkConnector({\r\n//   clientId: process.env.SQUARELINK_CLIENT_ID as string,\r\n//   networks: [1, 100]\r\n// })\r\n\r\n// export const torus = new TorusConnector({ chainId: 1 })\r\n","import { useState, useEffect } from 'react'\r\nimport { useWeb3React } from '@web3-react/core'\r\n\r\nimport { injected } from './connectors'\r\n\r\nrequire('dotenv').config();\r\n\r\nexport function useEagerConnect() {\r\n  const { activate, active } = useWeb3React()\r\n\r\n  const [tried, setTried] = useState(false)\r\n\r\n  useEffect(() => {\r\n    injected.isAuthorized().then((isAuthorized: boolean) => {\r\n      if (isAuthorized) {\r\n        activate(injected, undefined, true).catch(() => {\r\n          setTried(true)\r\n        })\r\n      } else {\r\n        setTried(true)\r\n      }\r\n    })\r\n  }, []) // intentionally only running on mount (make sure it's only mounted once :))\r\n\r\n  // if the connection worked, wait until we get confirmation of that to flip the flag\r\n  useEffect(() => {\r\n    if (!tried && active) {\r\n      setTried(true)\r\n    }\r\n  }, [tried, active])\r\n\r\n  return tried\r\n}\r\n\r\nexport function useInactiveListener(suppress: boolean = false) {\r\n  const { active, error, activate } = useWeb3React()\r\n\r\n  useEffect((): any => {\r\n    const { ethereum } = window as any\r\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\r\n      const handleConnect = () => {\r\n        console.log(\"Handling 'connect' event\")\r\n        activate(injected)\r\n      }\r\n      const handleChainChanged = (chainId: string | number) => {\r\n        console.log(\"Handling 'chainChanged' event with payload\", chainId)\r\n        activate(injected)\r\n      }\r\n      const handleAccountsChanged = (accounts: string[]) => {\r\n        console.log(\"Handling 'accountsChanged' event with payload\", accounts)\r\n        if (accounts.length > 0) {\r\n          activate(injected)\r\n        }\r\n      }\r\n      const handleNetworkChanged = (networkId: string | number) => {\r\n        console.log(\"Handling 'networkChanged' event with payload\", networkId)\r\n        activate(injected)\r\n      }\r\n\r\n      ethereum.on('connect', handleConnect)\r\n      ethereum.on('chainChanged', handleChainChanged)\r\n      ethereum.on('accountsChanged', handleAccountsChanged)\r\n      ethereum.on('networkChanged', handleNetworkChanged)\r\n\r\n      return () => {\r\n        if (ethereum.removeListener) {\r\n          ethereum.removeListener('connect', handleConnect)\r\n          ethereum.removeListener('chainChanged', handleChainChanged)\r\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\r\n          ethereum.removeListener('networkChanged', handleNetworkChanged)\r\n        }\r\n      }\r\n    }\r\n  }, [active, error, suppress, activate])\r\n}\r\n","import React from \"react\";\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { ethers } from \"ethers\";\r\nimport { parseEther, bigNumber } from 'ethers/utils'\r\n\r\n// FeedDB Helper Function\r\nconst EPNSCoreHelper = {\r\n  // To get owner info\r\n  getOwnerInfo: async (contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.governance()\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getOwnerInfo() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getOwnerInfo() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  getVotingPower : async (delegateeAddress, contract, rawFormat = false) => {\r\n    let isAddress = await ethers.utils.isAddress(delegateeAddress)\r\n    if(isAddress || delegateeAddress.endsWith('.eth')){\r\n      try{\r\n        let decimals =  await contract.decimals()\r\n        let votes = await contract.getCurrentVotes(delegateeAddress)\r\n        let votingPower = await Number(votes/Math.pow(10, decimals))\r\n        let prettyVotingPower = parseFloat(votingPower.toLocaleString()).toFixed(3);\r\n        console.log(\"🚀 ~ file: ViewDelegateeItem.js ~ line 41 ~ getVotingPower ~ prettyVotingPower\", prettyVotingPower)\r\n        return rawFormat ? votingPower : prettyVotingPower;\r\n      }\r\n      catch(err){\r\n      console.log(\"🚀 ~ file: ViewDelegateeItem.js ~ line 47 ~ getVotingPower ~ err\", err)\r\n      }\r\n    }\r\n    return \"0.000\"\r\n  },\r\n  // To get user info\r\n  getUserInfo: async (user, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.users(user)\r\n        .then(response => {\r\n          const mappings = { ...response };\r\n          mappings.addr = user;\r\n\r\n          if (enableLogs) console.log(\"getUserInfo() --> %o\", mappings);\r\n          resolve(mappings);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getUserInfo() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // To retrieve a channel address from it's id\r\n  getChannelAddressFromID: async (channelID, contract) => {\r\n    return new Promise ((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      contract.mapAddressChannels(channelID)\r\n        .then(response => {\r\n          console.log(\"getChannelAddressFromID() --> %o\", response.toString());\r\n          resolve(response.toString());\r\n        })\r\n        .catch(err => { console.log(\"!!!Error, getChannelAddressFromID() --> %o\", err); reject(err); });\r\n    })\r\n  },\r\n  // To retrieve a channel's Info from channel address\r\n  getChannelInfo: async (channel, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      contract.channels(channel)\r\n        .then(response => {\r\n          // Add an extra field for future info\r\n          const mappings = { ...response };\r\n          mappings.addr = channel;\r\n\r\n          if (enableLogs) console.log(\"getChannelInfo() --> %o\", mappings);\r\n          resolve(mappings);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getChannelInfo() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // To retrieve a channel's AddChannel event\r\n  getChannelEvent: async (channel, startBlock, updateBlock, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n\r\n      // To get channel ipfs hash from channel info\r\n      let filter = contract.filters.AddChannel(channel);\r\n      let block = startBlock;\r\n      if (startBlock != updateBlock) {\r\n        filter = contract.filters.UpdateChannel(channel);\r\n        block = updateBlock;\r\n      }\r\n\r\n      contract.queryFilter(filter, block, block)\r\n        .then(response => {\r\n          let filteredResponse;\r\n\r\n          if (enableLogs) console.log(\"getChannelEvent() --> Finding: %s in | %o |\", channel, response );\r\n\r\n          response.forEach(function (item) {\r\n            if (item.args.channel.toString() == channel.toString()) {\r\n              if (enableLogs) console.log(\"getChannelEvent() --> Selected Channel %o: \", item);\r\n              filteredResponse = ethers.utils.toUtf8String(item.args.identity);\r\n            }\r\n          });\r\n\r\n          if (enableLogs) console.log(\"getChannelEvent() --> Filtered Channel: %o\", filteredResponse);\r\n          resolve(filteredResponse);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getChannelEvent() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // Retrive IPFS File from ipfshash\r\n  getJsonFileFromIdentity: async(identity) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Split Channel Identity, delimeter of identity is \"+\"\r\n      const ids = identity.split(\"+\"); // First segment is storage type, second is the pointer to it\r\n\r\n      if (ids[0] == 1) {\r\n        // IPFS HASH\r\n        // Form Gateway URL\r\n        const url = \"https://ipfs.io/ipfs/\" + ids[1];\r\n        fetch(url)\r\n          .then(response => response.json())\r\n          .then(response => {\r\n            if (enableLogs) console.log(\"getJsonFileFromIdentity() --> %o\", response);\r\n            resolve(response);\r\n          })\r\n          .catch(err => {\r\n            console.log(\"!!!Error, getJsonFileFromIdentity() --> %o\", err);\r\n            reject(err);\r\n          });\r\n      }\r\n\r\n    });\r\n  },\r\n  // Helper to get Channel from Channel's address\r\n  getChannelJsonFromChannelAddress: async (channel, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      EPNSCoreHelper.getChannelInfo(channel, contract)\r\n        .then(response => EPNSCoreHelper.getChannelEvent(channel, response.channelStartBlock.toNumber(), response.channelUpdateBlock.toNumber(), contract))\r\n        .then(response => EPNSCoreHelper.getJsonFileFromIdentity(response))\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getChannelJsonFromChannelAddress() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getChannelJsonFromChannelAddress() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Helper to get Channel from User's address\r\n  getChannelJsonFromUserAddress: async (user, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      EPNSCoreHelper.getUserInfo(user, contract)\r\n        .then(response => EPNSCoreHelper.getChannelJsonFromChannelAddress(user, contract))\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getChannelJsonFromUserAddress() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getChannelJsonFromUserAddress() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Get Total Number of Channels\r\n  getTotalNumberOfChannels: async (contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.channelsCount()\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getTotalNumberOfChannels() --> %o\", response.toNumber());\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getTotalNumberOfChannels() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // Get channels address given number of channels, , atIndex: -1 is start from latest, numChannels: -1 is return all\r\n  getChannelsMetaLatestToOldest: async (atIndex, numChannels, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      EPNSCoreHelper.getTotalNumberOfChannels(contract)\r\n        .then(async (response) => {\r\n          let channelsInfo = [];\r\n          const channelsCount = response;\r\n\r\n          if (atIndex > channelsCount || atIndex == -1) {\r\n            atIndex = channelsCount - 1;\r\n          }\r\n\r\n          if (numChannels == -1) {\r\n            numChannels = channelsCount;\r\n          }\r\n\r\n          // Get channels\r\n          let channelArrays = [];\r\n\r\n          // prefil and then refil\r\n          let count = 0;\r\n          for (let i = numChannels - 1; i >= 0; i--) {\r\n            const assignedChannelID = atIndex - i;\r\n            channelArrays.push(assignedChannelID);\r\n          }\r\n\r\n          const promises = channelArrays.map(async (channelID) => {\r\n            await EPNSCoreHelper.getChannelAddressFromID(channelID, contract)\r\n              .then(response => EPNSCoreHelper.getChannelInfo(response, contract))\r\n              .then(response => {\r\n                if (enableLogs) console.log(\"getChannelsMetaLatestToOldest(%d, %d) --> %o\", channelID, numChannels, channelsInfo);\r\n                channelsInfo = [response, ...channelsInfo];\r\n              })\r\n              .catch(err => console.log(\"Error in channel: %d | skipping...\", channelID))\r\n          });\r\n\r\n          // wait until all promises are resolved\r\n          await Promise.all(promises);\r\n\r\n          if (enableLogs) console.log(\"getChannelsMetaLatestToOldest(Index: %d, Number: %d) --> %o\", atIndex, numChannels, channelsInfo);\r\n          resolve(channelsInfo);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getChannelsMetaLatestToOldest() --> %o\", err);\r\n          reject(err);\r\n        })\r\n    });\r\n  },\r\n  // Get Total Number of Users\r\n  getTotalNumberOfUsers: async (contract) => {\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.usersCount()\r\n        .then(response => {\r\n          console.log(\"getTotalNumberOfUsers() --> %o\", response.toNumber());\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => { console.log(\"!!!Error, getTotalNumberOfUsers() --> %o\", err); reject(err); });\r\n    })\r\n  },\r\n  // To retrieve public key of a user\r\n  getPublicKey: async (address, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // To get channel ipfs hash from channel info\r\n      let filteredResponse;\r\n      contract.queryFilter('PublicKeyRegistered')\r\n        .then(response => {\r\n\r\n          response.forEach(function (item) {\r\n            if (item.args[0] == address) {\r\n              filteredResponse = item;\r\n            }\r\n          });\r\n\r\n          if (enableLogs) console.log(\"Public Key Registry Response: \" + response);\r\n          if (enableLogs) console.log(\"Public Key Registry Filtered: \" + filteredResponse);\r\n\r\n          if (!filteredResponse || filteredResponse.length == 0) {\r\n            resolve(null)\r\n          }\r\n          else {\r\n            resolve(filteredResponse.args[1]);\r\n          }\r\n\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // Get Total Subsbribed Channels\r\n  getSubscribedStatus: async (user, channel, contract) => {\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.memberExists(user, channel)\r\n        .then(response => {\r\n          console.log(\"getSubscribedStatus() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => { console.log(\"!!!Error, getSubscribedStatus() --> %o\", err); reject(err); });\r\n    })\r\n  },\r\n  // Get Total Subsbribed Channels\r\n  getTotalSubscribedChannels: async (user, contract) => {\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.users[user].subscribedCount()\r\n        .then(response => {\r\n          console.log(\"getTotalSubscribedChannels() --> %o\", response.toNumber());\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => { console.log(\"!!!Error, getTotalSubscribedChannels() --> %o\", err); reject(err); });\r\n    })\r\n  },\r\n  // Get Fair Share\r\n  getFairShareOfUserAtBlock: async(user, block, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.users(user)\r\n        .then((response) => {\r\n          if (response.userActivated) {\r\n            contract.calcAllChannelsRatio(user, block)\r\n              .then(response => {\r\n                if (enableLogs) console.log(\"calcAllChannelsRatio() --> %o\", response);\r\n                resolve(response);\r\n              })\r\n              .catch(err => {\r\n                console.log(\"!!!Error, calcAllChannelsRatio() --> %o\", err);\r\n                reject(err);\r\n              });\r\n          }\r\n          else {\r\n            if (enableLogs) console.log(\"!!!Warning, calcAllChannelsRatio() --> User not activated\");\r\n            reject(\"User not activated\");\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, calcAllChannelsRatio() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // Get Pool Funds\r\n  getPoolFunds: async(contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      contract.poolFunds()\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getPoolFunds() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getPoolFunds() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // Helper Functions\r\n  // To format Big Number\r\n  formatBigNumberToMetric: (bignumber, convertToCurrency) => {\r\n    try {\r\n      if (convertToCurrency) {\r\n        bignumber = bignumber.div(100000000000000);\r\n        bignumber = bignumber.div(10000);\r\n      }\r\n      bignumber = bignumber.toNumber();\r\n      return EPNSCoreHelper.metricFormatter(bignumber, 2);\r\n    }\r\n    catch (e) {\r\n      console.log(e);\r\n      return \"---\";\r\n    }\r\n  },\r\n  // Metric Formatter, thanks: https://stackoverflow.com/questions/9461621/format-a-number-as-2-5k-if-a-thousand-or-more-otherwise-900\r\n  metricFormatter: (num, digits) => {\r\n    var si = [\r\n      { value: 1, symbol: \"\" },\r\n      { value: 1E3, symbol: \"k\" },\r\n      { value: 1E6, symbol: \"M\" },\r\n      { value: 1E9, symbol: \"G\" },\r\n      { value: 1E12, symbol: \"T\" },\r\n      { value: 1E15, symbol: \"P\" },\r\n      { value: 1E18, symbol: \"E\" }\r\n    ];\r\n    var rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\r\n    var i;\r\n    for (i = si.length - 1; i > 0; i--) {\r\n      if (num >= si[i].value) {\r\n        break;\r\n      }\r\n    }\r\n    return (num / si[i].value).toFixed(digits).replace(rx, \"$1\") + si[i].symbol;\r\n  },\r\n\r\n}\r\n\r\nexport default EPNSCoreHelper;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport {Section, Content, Item, ItemH, ItemBreak, Para, A, B, H1, H2, H3, Image, P, Span, Anchor, Button, Showoff, FormSubmision, Input, TextField} from 'components/SharedStyling';\r\n\r\nimport { AiFillHeart } from 'react-icons/ai';\r\nimport { BsChevronExpand } from 'react-icons/bs';\r\n\r\nimport Loader from 'react-loader-spinner'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { ethers } from \"ethers\";\r\n\r\nimport AirdropHelper from 'helpers/AirdropHelper';\r\n\r\nimport ViewInfoItem from \"components/ViewInfoItem\";\r\n\r\nimport * as dotenv from \"dotenv\";\r\nimport UsersDataStore from \"singletons/UsersDataStore\";\r\ndotenv.config();\r\n\r\n// Other Information section\r\nfunction Airdrop() {\r\n  const { account, library } = useWeb3React();\r\n\r\n  const [controlAt, setControlAt] = React.useState(0);\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [ txInProgress, setTxInProgress ] = React.useState(false);\r\n  const [distributorContract, setDistributorContract] = React.useState(null);\r\n  const [user, setUser] = React.useState(null);\r\n\r\n  const [showAnswers, setShowAnswers] = React.useState([]);\r\n\r\n  const toggleShowAnswer = (id) => {\r\n    let newShowAnswers = [...showAnswers];\r\n    newShowAnswers[id] = !newShowAnswers[id];\r\n\r\n    setShowAnswers(newShowAnswers);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (!!(library && account)) {\r\n      let signer = library.getSigner(account);\r\n      const signerInstance = new ethers.Contract(addresses.distributor, abis.distributor, signer);\r\n      setDistributorContract(signerInstance);\r\n      // const NFTRewardsInstance = new ethers.Contract(addresses.NFTRewards, abis.NFTRewards, signer);\r\n      // setNFTRewardsContract(NFTRewardsInstance);\r\n    }\r\n  }, [account,library]);\r\n\r\n  React.useEffect(() => {\r\n    if(distributorContract){\r\n      checkClaim();\r\n    }\r\n  }, [account, distributorContract]);\r\n\r\n  // to check wh\r\n  const checkClaim = async () => {\r\n    let user = await AirdropHelper.verifyAddress(account, distributorContract);\r\n    setUser(user)\r\n    if(user)\r\n    setLoading(false)\r\n  }\r\n\r\n  // to claim\r\n  const handleClaim = async (user) => {\r\n    if(distributorContract){\r\n      setTxInProgress(true)\r\n      let sendWithTxPromise\r\n      sendWithTxPromise = await distributorContract.claim(user.index, user.account, user.amount, user.proof)\r\n      const tx = await sendWithTxPromise;\r\n      console.log(tx);\r\n      console.log(\"waiting for tx to finish\");\r\n      let txToast = toast.dark(<LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\"/>, {\r\n        position: \"bottom-right\",\r\n        autoClose: false,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      try {\r\n        await library.waitForTransaction(tx.hash);\r\n\r\n        toast.update(txToast, {\r\n          render: \"Transaction Completed!\",\r\n          type: toast.TYPE.SUCCESS,\r\n          autoClose: 5000\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      }\r\n      catch(e) {\r\n        toast.update(txToast, {\r\n          render: \"Transaction Failed! (\" + e.name + \")\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      }\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  // toast customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Loader\r\n       type=\"Oval\"\r\n       color={color}\r\n       height={30}\r\n       width={30}\r\n      />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <Section margin=\"20px\">\r\n        <Content padding=\"0px 20px 0px\">\r\n          <Item align=\"flex-start\">\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span bg=\"#35c5f3\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Gratitude</Span><Span weight=\"200\"> Drop!</Span>\r\n            </H2>\r\n            <H3>We would never be here without you! Thanks for the <b>#PUSH</b>!!!</H3>\r\n          </Item>\r\n        </Content>\r\n\r\n        <Content padding=\"0px 20px 0px 20px\">\r\n          <Item align=\"flex-start\">\r\n            <Para margin=\"10px 0px 0px 0px\">Thanks for the ton of support, feedback, encouragement and helping us out in every step! As a small token of our gratitude, we are dropping <B>1200 $PUSH</B> to anyone who:</Para>\r\n\r\n            <Para margin=\"20px 0px 0px 20px\">- Donated to us on <B>Gitcoin grants round 6 or 7</B></Para>\r\n            <Para margin=\"10px 0px 0px 20px\">- Used our dApp on or before <B>20th March, 2021</B>: <AMod href=\"https://app.epns.io\" target=\"_blank\" title=\"Visit our dApp\">EPNS dApp</AMod></Para>\r\n          </Item>\r\n\r\n          <Item padding=\"40px 0px 20px 0px\">\r\n            {loading &&\r\n              <Loader\r\n               type=\"Oval\"\r\n               color=\"#35c5f3\"\r\n               height={40}\r\n               width={40}\r\n              />\r\n            }\r\n\r\n            {!loading && controlAt == 0 &&\r\n              <>\r\n              {user.verified && user.claimable &&\r\n                <EpicButton\r\n                  onClick={() => {handleClaim(user)}}\r\n                >\r\n                  Claim $PUSH Tokens\r\n                </EpicButton>\r\n              }\r\n              {user.verified && !user.claimable &&\r\n\r\n                <EpicButton\r\n                  theme=\"claimed\"\r\n                  disabled={true}\r\n                >\r\n                  $PUSH Tokens Claimed\r\n                </EpicButton>\r\n              }\r\n              {!user.verified &&\r\n                  <EpicButton\r\n                    theme=\"noteligible\"\r\n                    disabled={true}\r\n                  >\r\n                    Not eligible for Gratitude Drop\r\n                  </EpicButton>\r\n              }\r\n              </>\r\n            }\r\n          </Item>\r\n\r\n        </Content>\r\n      </Section>\r\n\r\n      {/* FAQs */}\r\n      <Section theme=\"#fcfcfc\" padding=\"0px 0px 0px 0px\">\r\n        <Content className=\"contentBox\">\r\n          <Item align=\"stretch\" justify=\"flex-start\" margin=\"-10px 20px 0px 20px\">\r\n\r\n            {/* Question */}\r\n            <Item align=\"stretch\" margin=\"0px 0px 0px 0px\">\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => {toggleShowAnswer(1)}}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span>\r\n                    What is $PUSH contract address?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n                </Question>\r\n\r\n                {showAnswers[1] &&\r\n                  <Answer>\r\n                    <Span>$PUSH token contract address is <B>0xf418588522d5dd018b425E472991E52EBBeEEEEE</B></Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => {toggleShowAnswer(2)}}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span>\r\n                    What is EPNS?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n                </Question>\r\n\r\n                {showAnswers[2] &&\r\n                  <Answer>\r\n                    <Span>Ethereum Push Notification Service (EPNS) is a decentralized protocol allowing Ethereum users to receive notifications for on-chain or off-chain activity.</Span>\r\n\r\n                    <Span>EPNS allows Web3 actors (users, dapps, service providers) to create notifications that are triggered if and when a smart contract reaches certain conditions. Other Web3 participants can search, browse, and subscribe to specific notifications and more confidently interact with dapps.</Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => {toggleShowAnswer(3)}}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span>\r\n                    Why are push notifications important for Web3?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n                </Question>\r\n\r\n                {showAnswers[3] &&\r\n                  <Answer>\r\n                    <Span>Push notifications have transformed the Web2 ecosystem. They have enabled applications to have more direct relationships with users and have yielded fundamental strategies about marketing, product fit, user behavior, and more. </Span>\r\n\r\n                    <Span>The problem with Web2 notifications, however, is that they are entirely created and prescribed by the applications themselves, and are not always net-useful to the end user. Users rarely have a choice about what kinds of notifications they wish to receive, and more often than not, notifications are purely marketing vehicles to drive revenue for the applications.</Span>\r\n\r\n                    <Span><i><B>Decentralized notifications</B></i>, on the other hand, provide the emerging Web3 ecosystem with the benefits of a robust notification ecosystem without the exploitative or centralized drawbacks of Web2 notifications.</Span>\r\n\r\n                    <Span>Applications need ways to communicate with users in more immediate and event-initiated ways than through Twitter, Discord, or email. Users deserve to control what notifications they receive, and should benefit from the open source nature of Web3 by requesting notifications about protocol behavior.</Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => {toggleShowAnswer(4)}}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span>\r\n                    How can I keep up with EPNS?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n                </Question>\r\n\r\n                {showAnswers[4] &&\r\n                  <Answer>\r\n                    <Span>Join our <AMod href=\"https://t.me/epnsproject\" target=\"_blank\" title=\"Join our EPNS's Telegram channel\">Telegram</AMod>, follow us on <AMod href=\"https://twitter.com/epnsproject\" target=\"_blank\" title=\"Join our EPNS's Twitter channel\">Twitter</AMod>, and sign up for our 5 minute <AMod href=\"https://epns.substack.com/\" target=\"_blank\" title=\"Join our EPNS's Twitter channel\">weekly product updates</AMod>.</Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n\r\n            </Item>\r\n          </Item>\r\n        </Content>\r\n      </Section>\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  max-height: 80vh;\r\n`\r\n\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`\r\nconst InfoBox = styled.div`\r\n  padding: 10px 20px;\r\n  display: block;\r\n  align-self: stretch;\r\n  background: #fafafa;\r\n`\r\nconst Continue = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #fff;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n  background: ${props => props.theme || '#674c9f'};\r\n  margin: 30px 0px 0px 0px;\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n`\r\n\r\nconst ChannelTitleLink = styled.a`\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  font-size: 20px;\r\n  &:hover {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\nconst AppLink = styled.a`\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  font-size: 20px;\r\n  &:hover {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\nconst AppLinkText = styled.div`\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  font-size: 20px;\r\n`\r\nconst ChannelInfo = styled.div`\r\n  flex: 1;\r\n  margin: 5px 10px;\r\n  min-width: 120px;\r\n  flex-grow: 4;\r\n  flex-direction: column;\r\n  display: flex;\r\n`\r\n\r\nconst ChannelTitle = styled.div`\r\n  margin-bottom: 5px;\r\n`\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`\r\nconst Question = styled(Button)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n`\r\n\r\nconst Answer = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n\r\n`\r\n\r\nconst QnAItem = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n  flex: auto;\r\n  margin: 15px 0px;\r\n  border: 1px solid #fafafa;\r\n  border-radius: 10px;\r\n  box-shadow: 0px 5px 20px -10px rgb(0 0 0 / 0.20);\r\n  overflow: hidden;\r\n\r\n  & ${Question} {\r\n    background: transparent;\r\n    justify-content: flex-start;\r\n    text-transform: uppercase;\r\n\r\n    & ${Span} {\r\n      font-weight: 400;\r\n      letter-spacing: 0.2em;\r\n      margin-left: 10px;\r\n      flex: 1;\r\n    }\r\n\r\n    &:hover {\r\n      & ${Span} {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n\r\n  & ${Answer} {\r\n    border: 1px solid #e6e6e6;\r\n    border-top: 1px solid #e6e6e6;\r\n    border-bottom-left-radius: 10px;\r\n    border-bottom-right-radius: 10px;\r\n    padding: 10px 15px;\r\n    align-items: flex-start;\r\n    background: #fff;\r\n\r\n    & ${Span} {\r\n      line-height: 1.5em;\r\n      margin: 10px;\r\n      color: #000 ;\r\n      font-size: 1.05em;\r\n    }\r\n  }\r\n`\r\n\r\nconst AMod = styled(A)`\r\n  color: #e20880;\r\n  font-weight: 500;\r\n`\r\n\r\nconst EpicButton = styled(A)`\r\n  padding: 15px 15px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  border-radius: 8px;\r\n  background: linear-gradient(273deg, #674c9f 0%, rgba(226,8,128,1) 100%);\r\n`\r\n\r\n// Export Default\r\nexport default Airdrop;\r\n","import EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\r\nimport { ethers } from \"ethers\";\r\nimport { bigNumber } from \"ethers/utils\";\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\n\r\nconst ONE_PUSH = ethers.BigNumber.from(1).mul(\r\n  ethers.BigNumber.from(10).pow(ethers.BigNumber.from(18))\r\n);\r\nconst GENESIS_EPOCH_AMOUNT_PUSH = 30000\r\nconst GENESIS_EPOCH_AMOUNT_LP = 35000\r\n\r\nconst bn = function(number, defaultValue = null) { if (number == null) { if (defaultValue == null) { return null } number = defaultValue } return ethers.BigNumber.from(number) }\r\n\r\nconst tokenToBn = (token) => {\r\n  return token.mul(ethers.BigNumber.from(10).pow(ethers.BigNumber.from(18)))\r\n}\r\n\r\nconst tokenBNtoNumber = (tokenBn) => {\r\n  return tokenBn.div(ethers.BigNumber.from(10).pow(ethers.BigNumber.from(10))).toNumber() / 100000000\r\n}\r\n\r\nconst bnToInt = function (bnAmount) { return parseInt(bnAmount.div(bn(10).pow(18))) }\r\n\r\nexport default class YieldFarmingDataStore {\r\n  static instance =\r\n    YieldFarmingDataStore.instance || new YieldFarmingDataStore();\r\n\r\n  state = {\r\n    account: null,\r\n    signer: null,\r\n    staking: null,\r\n    yieldFarmingPUSH: null,\r\n    yieldFarmingLP: null,\r\n    rewardForCurrentEpochPush: null,\r\n    rewardForCurrentEpochLP: null,\r\n\r\n    genesisEpochAmountPUSH: GENESIS_EPOCH_AMOUNT_PUSH,\r\n    deprecationPerEpochPUSH: 100,\r\n    genesisEpochAmountLP: GENESIS_EPOCH_AMOUNT_LP,\r\n    deprecationPerEpochLP: 100,\r\n  };\r\n\r\n  // init\r\n  init = (account, epnsToken, staking, yieldFarmingPUSH, yieldFarmingLP, uniswapV2Router02) => {\r\n    // set account\r\n    this.state.account = account;\r\n    this.state.epnsToken = epnsToken;\r\n    this.state.staking = staking;\r\n    this.state.yieldFarmingPUSH = yieldFarmingPUSH;\r\n    this.state.yieldFarmingLP = yieldFarmingLP;\r\n    this.state.uniswapV2Router02 = uniswapV2Router02;\r\n  };\r\n\r\n  // 1. Listen for Subscribe Async\r\n  getPoolStats = () => {\r\n    return new Promise(async (resolve, reject) => {\r\n      const yieldFarmingPUSH = this.state.yieldFarmingPUSH;\r\n      const yieldFarmingLP = this.state.yieldFarmingLP;\r\n\r\n      const currentEpochPUSH = await yieldFarmingPUSH.getCurrentEpoch();\r\n\r\n      const pushPriceAmounts = await this.state.uniswapV2Router02.getAmountsOut(ONE_PUSH.toString(), [addresses.epnsToken, addresses.WETHAddress, addresses.USDTAddress]);\r\n      const pushPrice = pushPriceAmounts[pushPriceAmounts.length -1].toNumber()/1000000;\r\n\r\n      const pushAmountReserve = tokenBNtoNumber(await this.state.epnsToken.balanceOf(addresses.epnsLPToken))\r\n      const wethAmountReserve = tokenBNtoNumber(await this.state.epnsToken.attach(addresses.WETHAddress).balanceOf(addresses.epnsLPToken)) // Using epnsToken instance for WETH instance\r\n\r\n      const ethPriceAmounts = await this.state.uniswapV2Router02.getAmountsOut(ONE_PUSH.toString(), [addresses.WETHAddress, addresses.USDTAddress]);\r\n      const ethPrice = ethPriceAmounts[ethPriceAmounts.length -1].toNumber()/1000000;\r\n\r\n      const uniTotalSupply = tokenBNtoNumber(await this.state.epnsToken.attach(addresses.epnsLPToken).totalSupply()) // Using epnsToken instance for Uni-V2 instance\r\n\r\n      const uniLpPrice = ((pushAmountReserve * pushPrice) + (wethAmountReserve * ethPrice)) / uniTotalSupply\r\n      const lpToPushRatio = uniLpPrice / pushPrice\r\n\r\n      const pushNextPoolSize = tokenBNtoNumber(await yieldFarmingPUSH.getPoolSize(currentEpochPUSH.add(1)));\r\n      const lpNextPoolSize = tokenBNtoNumber(await yieldFarmingLP.getPoolSize(currentEpochPUSH.add(1)));\r\n\r\n      const totalValueLocked = (pushNextPoolSize * pushPrice) + (lpNextPoolSize * uniLpPrice)\r\n\r\n      const epochDuration = await yieldFarmingPUSH.epochDuration();\r\n\r\n      const epochStart = await yieldFarmingPUSH.epochStart();\r\n\r\n      const start = epochStart.add(currentEpochPUSH.sub(1).mul(epochDuration));\r\n      const epochEndTimestamp = start.add(epochDuration);\r\n\r\n      const pushTotalDistributedAmount = await yieldFarmingPUSH.TOTAL_DISTRIBUTED_AMOUNT();\r\n      const lpTotalDistributedAmount = await yieldFarmingLP.TOTAL_DISTRIBUTED_AMOUNT();\r\n\r\n      const totalDistributedAmount = pushTotalDistributedAmount.add(\r\n        lpTotalDistributedAmount\r\n      );\r\n\r\n      const pushRewardsDistributed = await this.getPushRewardsDistributed();\r\n\r\n      resolve({\r\n        totalValueLocked,\r\n        pushPrice,\r\n        epochEndTimestamp,\r\n        totalDistributedAmount,\r\n        pushRewardsDistributed,\r\n        currentEpoch: currentEpochPUSH,\r\n        lpToPushRatio\r\n      });\r\n    });\r\n  };\r\n\r\n  // 1. Listen for Subscribe Async\r\n  getPUSHPoolStats = async () => {\r\n    return new Promise(async (resolve, reject) => {\r\n      const epnsToken = this.state.epnsToken;\r\n      const staking = this.state.staking;\r\n      const yieldFarmingPUSH = this.state.yieldFarmingPUSH;\r\n\r\n      const currentEpochPUSH = await yieldFarmingPUSH.getCurrentEpoch();\r\n      const totalEpochPUSH = (await yieldFarmingPUSH.NR_OF_EPOCHS()).toString();\r\n\r\n      const genesisEpochAmount = tokenToBn(ethers.BigNumber.from(this.state.genesisEpochAmountPUSH));\r\n      const deprecationPerEpoch = tokenToBn(ethers.BigNumber.from(this.state.deprecationPerEpochPUSH));\r\n\r\n      const rewardForCurrentEpoch = this.calcTotalAmountPerEpoch(\r\n        genesisEpochAmount,\r\n        currentEpochPUSH,\r\n        deprecationPerEpoch\r\n      );\r\n\r\n      this.state.rewardForCurrentEpochPush = rewardForCurrentEpoch;\r\n\r\n      const poolBalance = await yieldFarmingPUSH.getPoolSize(\r\n        currentEpochPUSH.add(1)\r\n      );\r\n\r\n      const stakingAPR = this.calcStakingAPR(\r\n        genesisEpochAmount,\r\n        currentEpochPUSH,\r\n        deprecationPerEpoch,\r\n        poolBalance,\r\n      );\r\n\r\n      resolve({\r\n        currentEpochPUSH,\r\n        totalEpochPUSH,\r\n        rewardForCurrentEpoch,\r\n        poolBalance,\r\n        stakingAPR\r\n      });\r\n    });\r\n  };\r\n\r\n  getLPPoolStats = async (poolStats) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      const epnsToken = this.state.epnsToken;\r\n      const staking = this.state.staking;\r\n      const yieldFarmingLP = this.state.yieldFarmingLP;\r\n\r\n      const currentEpochPUSH = await yieldFarmingLP.getCurrentEpoch();\r\n      const totalEpochPUSH = (await yieldFarmingLP.NR_OF_EPOCHS()).toString();\r\n      const genesisEpochAmount = tokenToBn(ethers.BigNumber.from(this.state.genesisEpochAmountLP));\r\n      const deprecationPerEpoch = tokenToBn(ethers.BigNumber.from(this.state.deprecationPerEpochLP));\r\n\r\n      const rewardForCurrentEpoch = this.calcTotalAmountPerEpoch(\r\n        genesisEpochAmount,\r\n        currentEpochPUSH,\r\n        deprecationPerEpoch\r\n      );\r\n\r\n      this.state.rewardForCurrentEpochLP = rewardForCurrentEpoch;\r\n\r\n      const poolBalance = await yieldFarmingLP.getPoolSize(\r\n        currentEpochPUSH.add(1)\r\n      );\r\n\r\n      const stakingAPR = await this.calcLPPoolAPR(\r\n        genesisEpochAmount,\r\n        currentEpochPUSH,\r\n        deprecationPerEpoch,\r\n        poolBalance,\r\n        poolStats\r\n      );\r\n\r\n      resolve({\r\n        currentEpochPUSH,\r\n        totalEpochPUSH,\r\n        rewardForCurrentEpoch,\r\n        poolBalance,\r\n        stakingAPR\r\n      });\r\n    });\r\n  };\r\n\r\n  // 1. Listen for Subscribe Async\r\n  getUserData = async (contract) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      if (this.state.account) {\r\n        const currentEpochPUSH = await contract.getCurrentEpoch();\r\n\r\n        const potentialUserReward = (await this.calculateUserEpochReward(currentEpochPUSH, contract)).toFixed(2)\r\n\r\n        const epochStakeNext = await contract.getEpochStake(\r\n          this.state.account,\r\n          currentEpochPUSH.add(1)\r\n        );\r\n\r\n        let totalAccumulatedReward = 0\r\n\r\n        for(var i=0; i<=currentEpochPUSH.sub(1).toNumber(); i++){\r\n          const epochReward = await this.calculateUserEpochReward(i, contract)\r\n          totalAccumulatedReward = totalAccumulatedReward + epochReward\r\n        }\r\n\r\n        totalAccumulatedReward = totalAccumulatedReward.toFixed(2)\r\n        const lastEpochIdHarvested = (await contract.lastEpochIdHarvested(this.state.account)).toNumber()\r\n\r\n        let totalAvailableReward = 0\r\n\r\n        for(var i = lastEpochIdHarvested + 1; i<=currentEpochPUSH.sub(1).toNumber(); i++){\r\n          const epochReward = await this.calculateUserEpochReward(i, contract)\r\n          totalAvailableReward = totalAvailableReward + epochReward\r\n        }\r\n        totalAvailableReward = totalAvailableReward.toFixed(2)\r\n\r\n        resolve({\r\n          potentialUserReward,\r\n          epochStakeNext,\r\n          totalAccumulatedReward,\r\n          totalAvailableReward\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  getPushRewardsDistributed = async () => {\r\n    const yieldFarmingPUSH = this.state.yieldFarmingPUSH;\r\n    const yieldFarmingLP = this.state.yieldFarmingLP;\r\n\r\n    const currentEpochPUSH = await yieldFarmingPUSH.getCurrentEpoch();\r\n    const genesisEpochAmountPUSH = tokenToBn(ethers.BigNumber.from(this.state.genesisEpochAmountPUSH))\r\n    const deprecationPerEpochPUSH = tokenToBn(ethers.BigNumber.from(this.state.deprecationPerEpochPUSH))\r\n    const currentEpochLP = await yieldFarmingLP.getCurrentEpoch();\r\n    const genesisEpochAmountLP = tokenToBn(ethers.BigNumber.from(this.state.genesisEpochAmountLP))\r\n    const deprecationPerEpochLP = tokenToBn(ethers.BigNumber.from(this.state.deprecationPerEpochLP))\r\n\r\n    let pushPoolRewardsDistributed = ethers.BigNumber.from(0);\r\n    let lpPoolRewardsDistributed = ethers.BigNumber.from(0);\r\n\r\n    for(var i=0; i<currentEpochLP.toNumber(); i++){\r\n      const rewardForCurrentEpochLP = this.calcTotalAmountPerEpoch(\r\n        genesisEpochAmountLP,\r\n        ethers.BigNumber.from(i),\r\n        deprecationPerEpochLP\r\n      );\r\n\r\n      lpPoolRewardsDistributed = lpPoolRewardsDistributed.add(rewardForCurrentEpochLP);\r\n\r\n      const rewardForCurrentEpochPUSH = this.calcTotalAmountPerEpoch(\r\n        genesisEpochAmountPUSH,\r\n        ethers.BigNumber.from(i),\r\n        deprecationPerEpochPUSH\r\n      );\r\n\r\n      pushPoolRewardsDistributed = pushPoolRewardsDistributed.add(rewardForCurrentEpochPUSH);\r\n    }\r\n\r\n    return pushPoolRewardsDistributed.add(lpPoolRewardsDistributed)\r\n  }\r\n\r\n  calcTotalAmountPerEpoch = (\r\n    genesisEpochAmount,\r\n    epochId,\r\n    deprecationPerEpoch\r\n  ) => {\r\n    return genesisEpochAmount.sub(epochId.mul(deprecationPerEpoch));\r\n  };\r\n\r\n  calcAnnualEpochReward = (\r\n    genesisEpochAmount,\r\n    epochId,\r\n    deprecationPerEpoch\r\n  ) => {\r\n    // get current epoch reward\r\n    const currentEpochReward = this.calcTotalAmountPerEpoch(genesisEpochAmount, epochId, deprecationPerEpoch)\r\n\r\n    const weeks = 52\r\n    const depreciate = deprecationPerEpoch.mul(weeks * (weeks - 1)).div(2)\r\n\r\n    const annualEpochReward = (currentEpochReward.mul(weeks)).sub(depreciate)\r\n\r\n    return annualEpochReward\r\n  }\r\n\r\n  calcStakingAPR = (\r\n    genesisEpochAmount,\r\n    epochId,\r\n    deprecationPerEpoch,\r\n    totalStaked\r\n  ) => {\r\n    // get annual rewards\r\n    const annualRewards = this.calcAnnualEpochReward(genesisEpochAmount, epochId, deprecationPerEpoch)\r\n\r\n    const apr = annualRewards.mul(1000000).div(totalStaked)\r\n    const aprFormatted = (parseInt(apr.toString())/10000).toFixed(2)\r\n\r\n    return aprFormatted\r\n  }\r\n\r\n  calcLPPoolAPR = async (\r\n    genesisEpochAmount,\r\n    epochId,\r\n    deprecationPerEpoch,\r\n    totalStaked,\r\n    poolStats\r\n  ) => {\r\n    // get annual rewards\r\n    const annualRewards = this.calcAnnualEpochReward(genesisEpochAmount, epochId, deprecationPerEpoch)\r\n\r\n    const apr = annualRewards.mul(1000000).div(totalStaked)\r\n    const aprFormatted = (parseInt(apr.toString())/(10000 * poolStats.lpToPushRatio)).toFixed(2)\r\n\r\n    // console.log(annualRewards.toString(), genesisEpochAmount.toString())\r\n    // if (poolStats) {\r\n    //   console.log(poolStats.totalValueLocked)\r\n    //   console.log(poolStats[\"lpToPushRatio\"])\r\n    // }\r\n\r\n    return aprFormatted\r\n\r\n  }\r\n\r\n  calculateUserEpochReward = async (\r\n    epochId,\r\n    contract\r\n  ) => {\r\n      const epochStake = tokenBNtoNumber(await contract.getEpochStake(\r\n        this.state.account,\r\n        epochId\r\n      ));\r\n\r\n      const poolSize = tokenBNtoNumber(await contract.getPoolSize(epochId));\r\n\r\n      let potentialUserReward = 0;\r\n      if (poolSize > 0) {\r\n        if (contract.address == addresses.yieldFarmLP) {\r\n          const rewardForCurrentEpoch = tokenBNtoNumber(this.state.rewardForCurrentEpochLP)\r\n          potentialUserReward = epochStake / poolSize * rewardForCurrentEpoch\r\n        }\r\n        else {\r\n          const rewardForCurrentEpoch = tokenBNtoNumber(this.state.rewardForCurrentEpochPush)\r\n          potentialUserReward = epochStake / poolSize * rewardForCurrentEpoch\r\n        }\r\n\r\n      }\r\n\r\n      return potentialUserReward\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport {Section, Content, Item, ItemH, Span, Anchor} from 'components/SharedStyling';\r\n\r\nimport { AiFillInfoCircle } from 'react-icons/ai';\r\nimport { Tooltip } from \"@material-ui/core\";\r\n\r\n// Faucet URLs\r\nfunction InfoTooltip({title}) {\r\n  // render\r\n  return (\r\n    <Tooltip style={{marginLeft: \"5px\"}} title={title}>\r\n        <span>\r\n            <AiFillInfoCircle style={{color: \"white\"}} />\r\n        </span>\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\n// Export Default\r\nexport default InfoTooltip;\r\n","// Usage:\r\n//   create component file (e.g. BlockiesIdenticon.js) using uncommented code below\r\n//   npm install blockies-identicon\r\n//   in the file you want to use the component (e.g. BlockiesIdenticon.js):\r\n//   import Blockies from \"blockies/react-component\";\r\n//   <Blockies opts={{seed: \"foo\", color: \"#dfe\", bgcolor: \"#a71\", size: 15, scale: 3, spotcolor: \"#000\"}}/>\r\n\r\nimport React from 'react';\r\nimport blockies from \"./blockies\";\r\n\r\nexport default class BlockiesIdenticon extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  getOpts () {\r\n    return {\r\n      seed: this.props.opts.seed || \"foo\",\r\n      color: this.props.opts.color || \"#dfe\",\r\n      bgcolor: this.props.opts.bgcolor || \"#a71\",\r\n      size: this.props.opts.size || 15,\r\n      scale: this.props.opts.scale || 3,\r\n      spotcolor: this.props.opts.spotcolor || \"#000\"\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.draw();\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    // Check for prop change\r\n    if (this.props.seed !== prevProps.seed) {\r\n      this.draw();\r\n    }\r\n  }\r\n  draw() {\r\n    blockies.render({\r\n      seed: this.props.opts.seed,\r\n      size: this.props.opts.size,\r\n      scale: this.props.opts.scale\r\n    }, this.canvas);\r\n  }\r\n  render() {\r\n    return React.createElement(\"canvas\", {ref: canvas => this.canvas = canvas});\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { useWeb3React, UnsupportedChainIdError } from \"@web3-react/core\";\r\n\r\nimport styled, { css, keyframes } from \"styled-components\";\r\nimport {Section, Content, Item, ItemH, ItemBreak, A, B, H1, H2, H3, Image, P, Span, Anchor, Button, Showoff, FormSubmision, Input, TextField} from 'components/SharedStyling';\r\nimport InfoTooltip from \"components/InfoTooltip\";\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nimport { AnimateOnChange } from \"react-animation\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Blockies from \"components/BlockiesIdenticon\";\r\n\r\n//   <Blockies opts={{seed: \"foo\", color: \"#dfe\", bgcolor: \"#a71\", size: 15, scale: 3, spotcolor: \"#000\"}}/>\r\nconst ethers = require(\"ethers\");\r\n\r\nconst bn = function(number, defaultValue = null) { if (number == null) { if (defaultValue == null) { return null } number = defaultValue } return ethers.BigNumber.from(number) }\r\n\r\nconst tokens = function (amount) { return (bn(amount).mul(bn(10).pow(18))).toString() }\r\nconst tokensBN = function (amount) { return (bn(amount).mul(bn(10).pow(18))) }\r\nconst bnToInt = function (bnAmount) { return bnAmount.div(bn(10).pow(18)) }\r\n\r\n// Create Header\r\nexport default function PoolCard({\r\n  poolName,\r\n  poolAddress,\r\n  tokenAddress,\r\n  getPoolStats,\r\n  getPUSHPoolStats,\r\n  getUserData,\r\n  pushPoolStats,\r\n  userData,\r\n}) {\r\n  const { active, error, account, library, chainId } = useWeb3React();\r\n  const [depositAmountToken, setDepositAmountToken] = React.useState(0);\r\n  const [withdrawAmountToken, setWithdrawAmountToken] = React.useState(0);\r\n  const [harvestEpochValue, setHarvestEpochValue] = React.useState(0);\r\n  const [txInProgress, setTxInProgress] = React.useState(false);\r\n\r\n  const [showDepositItem, setShowDepositItem] = React.useState(false);\r\n\r\n  const [depositApproved, setDepositApprove] = React.useState(false);\r\n  const [txInProgressApprDep, setTxInProgressApprDep] = React.useState(false);\r\n\r\n  const [txInProgressDep, setTxInProgressDep] = React.useState(false);\r\n  const [showDepSlip, setShowDepSlip] = React.useState(null);\r\n\r\n  const [txInProgressWithdraw, setTxInProgressWithdraw] = React.useState(false);\r\n\r\n  const [txInProgressMassHarvest, setTxInProgressMassHarvest] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    // Check if the account has approved deposit\r\n    checkApprDeposit();\r\n\r\n  }, [depositAmountToken]);\r\n\r\n  const checkApprDeposit = async () => {\r\n    if (depositAmountToken <= 0) {\r\n      setDepositApprove(false);\r\n      return;\r\n    }\r\n    setTxInProgressApprDep(true);\r\n\r\n    var signer = library.getSigner(account);\r\n    const tokenAddr = poolName == \"Uniswap LP Pool (UNI-V2)\" ? addresses.epnsLPToken : addresses.epnsToken;\r\n    let token = new ethers.Contract(tokenAddr, abis.epnsToken, signer);\r\n\r\n    const allowance = await token.allowance(account, addresses.staking);\r\n    if (allowance.gte(bn(depositAmountToken))) {\r\n      setDepositApprove(true);\r\n    }\r\n    else {\r\n      setDepositApprove(false);\r\n    }\r\n\r\n    setTxInProgressApprDep(false);\r\n  }\r\n\r\n  const fillMax = async() => {\r\n    var signer = library.getSigner(account);\r\n    const tokenAddr = poolName == \"Uniswap LP Pool (UNI-V2)\" ? addresses.epnsLPToken : addresses.epnsToken;\r\n    let token = new ethers.Contract(tokenAddr, abis.epnsToken, signer);\r\n\r\n    let balance = bnToInt(await token.balanceOf(account));\r\n    setDepositAmountToken(parseInt(balance.toString().replace(/\\D/,'')) || 0)\r\n  }\r\n\r\n  const approveDeposit = async () => {\r\n    if (depositApproved || txInProgressApprDep) {\r\n      return\r\n    }\r\n\r\n    setTxInProgressApprDep(true);\r\n\r\n    var signer = library.getSigner(account);\r\n    let epnsToken = new ethers.Contract(tokenAddress, abis.epnsToken, signer);\r\n    let staking = new ethers.Contract(addresses.staking, abis.staking, signer);\r\n\r\n    const uintMax = bn(2).pow(bn(256)).sub(1)\r\n\r\n    const tx = epnsToken.approve(\r\n      staking.address,\r\n      uintMax\r\n    );\r\n\r\n    tx.then(async (tx) => {\r\n      let txToast = toast.dark(\r\n        <LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />,\r\n        {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        }\r\n      );\r\n\r\n      try {\r\n        await library.waitForTransaction(tx.hash);\r\n\r\n        toast.update(txToast, {\r\n          render: \"Transaction Completed!\",\r\n          type: toast.TYPE.SUCCESS,\r\n          autoClose: 5000,\r\n        });\r\n        setTxInProgressApprDep(false);\r\n        setDepositApprove(true);\r\n\r\n      } catch (e) {\r\n        toast.update(txToast, {\r\n          render: \"Transaction Failed! (\" + e.name + \")\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        setTxInProgressApprDep(false);\r\n      }\r\n    }).catch((err) => {\r\n      toast.dark(\"Transaction Cancelled!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n\r\n      setTxInProgressApprDep(false);\r\n    });\r\n  }\r\n\r\n  const depositAmountTokenFarmSingleTx = async () => {\r\n    if (txInProgressDep || !approveDeposit) {\r\n      return\r\n    }\r\n\r\n    setTxInProgressDep(true)\r\n\r\n    var signer = library.getSigner(account);\r\n    let epnsToken = new ethers.Contract(tokenAddress, abis.epnsToken, signer);\r\n    let staking = new ethers.Contract(addresses.staking, abis.staking, signer);\r\n    console.log(depositAmountToken);\r\n\r\n    const tx2 = staking.deposit(\r\n      tokenAddress,\r\n      ethers.BigNumber.from(depositAmountToken).mul(\r\n        ethers.BigNumber.from(10).pow(18)\r\n      )\r\n    );\r\n\r\n    tx2\r\n      .then(async (tx) => {\r\n        let txToast = toast.dark(\r\n          <LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />,\r\n          {\r\n            position: \"bottom-right\",\r\n            autoClose: false,\r\n            hideProgressBar: true,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          }\r\n        );\r\n\r\n        try {\r\n          await library.waitForTransaction(tx.hash);\r\n\r\n          toast.update(txToast, {\r\n            render: \"Transaction Completed!\",\r\n            type: toast.TYPE.SUCCESS,\r\n            autoClose: 5000,\r\n          });\r\n\r\n          getPoolStats();\r\n          getPUSHPoolStats(pushPoolStats);\r\n          getUserData();\r\n\r\n          setTxInProgressDep(false);\r\n          setShowDepSlip(true);\r\n          // window.location.reload();\r\n        } catch (e) {\r\n          toast.update(txToast, {\r\n            render: \"Transaction Failed! (\" + e.name + \")\",\r\n            type: toast.TYPE.ERROR,\r\n            autoClose: 5000,\r\n          });\r\n\r\n          setTxInProgressDep(false);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        toast.dark(\"Transaction Cancelled!\", {\r\n          position: \"bottom-right\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n\r\n        setTxInProgressDep(false);\r\n      });\r\n  };\r\n\r\n  const withdrawAmountTokenFarmAutomatic = async () => {\r\n    if (txInProgressWithdraw) {\r\n      return;\r\n    }\r\n\r\n    setTxInProgressWithdraw(true);\r\n    const withdrawAmount = formatTokens(userData.epochStakeNext);\r\n\r\n    if (withdrawAmount == 0) {\r\n      toast.dark(\"Nothing to Withdraw!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n\r\n      setTxInProgressWithdraw(false);\r\n      return;\r\n    }\r\n\r\n    var signer = library.getSigner(account);\r\n    let staking = new ethers.Contract(addresses.staking, abis.staking, signer);\r\n\r\n    const tx = staking.withdraw(\r\n      tokenAddress,\r\n      ethers.BigNumber.from(withdrawAmount).mul(\r\n        ethers.BigNumber.from(10).pow(18)\r\n      )\r\n    );\r\n\r\n    tx.then(async (tx) => {\r\n      let txToast = toast.dark(\r\n        <LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />,\r\n        {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        }\r\n      );\r\n\r\n      try {\r\n        await library.waitForTransaction(tx.hash);\r\n\r\n        toast.update(txToast, {\r\n          render: \"Transaction Completed!\",\r\n          type: toast.TYPE.SUCCESS,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        setTxInProgressWithdraw(false);\r\n\r\n        getPoolStats();\r\n        getPUSHPoolStats(pushPoolStats);\r\n        getUserData();\r\n      } catch (e) {\r\n        toast.update(txToast, {\r\n          render: \"Transaction Failed! (\" + e.name + \")\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        setTxInProgressWithdraw(false);\r\n      }\r\n    }).catch((err) => {\r\n      toast.dark(\"Transaction Cancelled!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n\r\n      setTxInProgressWithdraw(false);\r\n    });\r\n  };\r\n\r\n  const harvestTokens = async () => {\r\n    var signer = library.getSigner(account);\r\n    let yieldFarmingPUSH = new ethers.Contract(\r\n      poolAddress,\r\n      abis.yieldFarming,\r\n      signer\r\n    );\r\n\r\n    if (harvestEpochValue) {\r\n      const tx = yieldFarmingPUSH.harvest(harvestEpochValue);\r\n      tx.then(async (tx) => {\r\n        let txToast = toast.dark(\r\n          <LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />,\r\n          {\r\n            position: \"bottom-right\",\r\n            autoClose: false,\r\n            hideProgressBar: true,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          }\r\n        );\r\n\r\n        try {\r\n          await library.waitForTransaction(tx.hash);\r\n\r\n          toast.update(txToast, {\r\n            render: \"Transaction Completed!\",\r\n            type: toast.TYPE.SUCCESS,\r\n            autoClose: 5000,\r\n          });\r\n\r\n          setTxInProgress(false);\r\n        } catch (e) {\r\n          toast.update(txToast, {\r\n            render: \"Transaction Failed! (\" + e.name + \")\",\r\n            type: toast.TYPE.ERROR,\r\n            autoClose: 5000,\r\n          });\r\n\r\n          setTxInProgress(false);\r\n        }\r\n      }).catch((err) => {\r\n        toast.dark(\"Transaction Cancelled!\", {\r\n          position: \"bottom-right\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      });\r\n    }\r\n  };\r\n\r\n  const massHarvestTokensAll = async () => {\r\n    if (txInProgressMassHarvest) {\r\n      return;\r\n    }\r\n\r\n    if (!pushPoolStats.currentEpochPUSH || pushPoolStats.currentEpochPUSH == 1) {\r\n      toast.dark(\"Harvest unlocks from Epoch 2!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n\r\n      return;\r\n    }\r\n    setTxInProgressMassHarvest(true);\r\n\r\n    console.log(poolAddress);\r\n\r\n    var signer = library.getSigner(account);\r\n    let yieldFarmingPUSH = new ethers.Contract(\r\n      poolAddress,\r\n      abis.yieldFarming,\r\n      signer\r\n    );\r\n    const tx = yieldFarmingPUSH.massHarvest();\r\n\r\n\r\n    tx.then(async (tx) => {\r\n      let txToast = toast.dark(\r\n        <LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />,\r\n        {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        }\r\n      );\r\n\r\n      try {\r\n        await library.waitForTransaction(tx.hash);\r\n\r\n        toast.update(txToast, {\r\n          render: \"Transaction Completed!\",\r\n          type: toast.TYPE.SUCCESS,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        setTxInProgressMassHarvest(false);\r\n      } catch (e) {\r\n        toast.update(txToast, {\r\n          render: \"Transaction Failed! (\" + e.name + \")\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        setTxInProgressMassHarvest(false);\r\n      }\r\n    }).catch((err) => {\r\n      toast.dark(\"Transaction Cancelled!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n\r\n      setTxInProgressMassHarvest(false);\r\n    });\r\n  };\r\n\r\n  const formatTokens = (tokens) => {\r\n    if (tokens) {\r\n      return tokens.div(ethers.BigNumber.from(10).pow(18)).toString();\r\n    }\r\n  };\r\n\r\n  function numberWithCommas(x) {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <Item margin=\"20px\" align=\"stretch\" self=\"stretch\" border=\"1px solid #e1e1e1\" radius=\"12px\">\r\n      <Item>\r\n        <Item>\r\n          <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n            <Span bg={poolName == \"Uniswap LP Pool (UNI-V2)\" ? \"#35c5f3\" : \"#e20880\"} size=\"0.8em\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">{poolName}</Span>\r\n          </H2>\r\n          <Item\r\n            align=\"flex-end\"\r\n            self=\"stretch\"\r\n          >\r\n            <H3>\r\n              <Span>Current APR </Span><Span bg={poolName == \"Uniswap LP Pool (UNI-V2)\" ? \"#35c5f3\" : \"#e20880\"} padding=\"2px 8px\" weight=\"600\" color=\"#fff\"><b>{pushPoolStats.stakingAPR}%</b></Span>\r\n            </H3>\r\n          </Item>\r\n        </Item>\r\n\r\n        <ItemH margin=\"10px 0px 0px 0px\" self=\"stretch\" items=\"stretch\" bg=\"#f1f1f1\">\r\n          <PoolContainer bg=\"#fff\" margin=\"5px 15px\" radius=\"12px\" border=\"1px solid #ddd\" borderBottom=\"8px solid #e1e1e1\">\r\n            <PoolBoxTitle margin=\"15px 10px\" fg=\"#999\" textTransform=\"uppercase\" size=\"10px\" spacing=\"0.2em\">Current Reward</PoolBoxTitle>\r\n            <PoolBoxMsg\r\n              bg=\"transparent\"\r\n              fg={poolName == \"Uniswap LP Pool (UNI-V2)\" ? \"#35c5f3\" : \"#e20880\"}\r\n              size=\"16px\"\r\n              margin=\"-15px 5px 10px 5px\"\r\n            >\r\n              {numberWithCommas(formatTokens(pushPoolStats.rewardForCurrentEpoch))} PUSH\r\n            </PoolBoxMsg>\r\n          </PoolContainer>\r\n\r\n          <PoolContainer bg=\"#fff\" margin=\"5px 15px\" radius=\"12px\" border=\"1px solid #ddd\" borderBottom=\"8px solid #e1e1e1\">\r\n            <PoolBoxTitle margin=\"15px 10px\" fg=\"#999\" textTransform=\"uppercase\" size=\"10px\" spacing=\"0.2em\">Total Staked</PoolBoxTitle>\r\n            <PoolBoxMsg\r\n              bg=\"transparent\"\r\n              fg={poolName == \"Uniswap LP Pool (UNI-V2)\" ? \"#35c5f3\" : \"#e20880\"}\r\n              size=\"16px\"\r\n              margin=\"-15px 5px 10px 5px\"\r\n            >\r\n              {numberWithCommas(formatTokens(pushPoolStats.poolBalance))} {poolName == \"Uniswap LP Pool (UNI-V2)\" ? \"UNI-V2\" : \"PUSH\"}\r\n            </PoolBoxMsg>\r\n          </PoolContainer>\r\n        </ItemH>\r\n\r\n        <Item\r\n          self=\"stretch\"\r\n          align=\"flex-end\"\r\n          margin=\"0px 0px 10px 0px\"\r\n        >\r\n          <EpochDisplayer>\r\n            <Span padding=\"0px 5px 0px 0px\">Current Epoch</Span><B>{pushPoolStats.currentEpochPUSH.toString()}/{pushPoolStats.totalEpochPUSH}</B>\r\n          </EpochDisplayer>\r\n        </Item>\r\n      </Item>\r\n\r\n      <Item padding=\"10px 20px 0px 20px\" align=\"stretch\" self=\"stretch\">\r\n        <ItemH margin=\"0px\">\r\n          <Item bg=\"#000\" margin=\"5px 10px\" radius=\"12px\">\r\n            <PoolBoxTitle>User Deposit</PoolBoxTitle>\r\n            <PoolBoxMsg>{formatTokens(userData.epochStakeNext)} {poolName == \"Uniswap LP Pool (UNI-V2)\" ? \"UNI-V2\" : \"PUSH\"}</PoolBoxMsg>\r\n          </Item>\r\n\r\n          <Item bg=\"#000\" margin=\"5px 10px\" radius=\"12px\">\r\n              <PoolBoxTitle>Rewards Claimed <InfoTooltip title={\"The total rewards you have already claimed from the pool. This includes all the rewards including the ones already harvested.\"} /></PoolBoxTitle>\r\n              <PoolBoxMsg>{(userData.totalAccumulatedReward - userData.totalAvailableReward).toFixed(2)} PUSH</PoolBoxMsg>\r\n          </Item>\r\n        </ItemH>\r\n\r\n        <ItemH margin=\"0px\">\r\n          <Item bg=\"#000\" margin=\"5px 10px\" radius=\"12px\">\r\n            <PoolBoxTitle>Current Epoch Reward <InfoTooltip title={\"This is only an estimation for the user's reward that they might get after the epoch. This might change depending upon deposits from other users.\"} /></PoolBoxTitle>\r\n            <PoolBoxMsg>{userData.potentialUserReward} PUSH</PoolBoxMsg>\r\n          </Item>\r\n\r\n          <Item bg=\"#000\" margin=\"5px 10px\" radius=\"12px\">\r\n            <PoolBoxTitle>Available for Harvest <InfoTooltip title={\"The rewards that are currently available for harvesting and can be immediately transferred to your address.\"} /></PoolBoxTitle>\r\n            <PoolBoxMsg>{userData.totalAvailableReward} PUSH</PoolBoxMsg>\r\n          </Item>\r\n        </ItemH>\r\n      </Item>\r\n\r\n      {showDepositItem &&\r\n        <Item bg=\"#ddd\" radius=\"12px\" margin=\"20px 0px -10px 0px\" padding=\"10px 20px\" align=\"stretch\" self=\"stretch\">\r\n\r\n          {!showDepSlip &&\r\n            <>\r\n              <Item>\r\n                <MaxButton\r\n                  bg=\"#000\"\r\n                  onClick={fillMax}\r\n                  position=\"absolute\"\r\n                >\r\n                  Max\r\n                </MaxButton>\r\n\r\n                <Input\r\n                  placeholder=\"Number of Tokens\"\r\n                  radius=\"4px\"\r\n                  padding=\"12px\"\r\n                  self=\"stretch\"\r\n                  bg=\"#fff\"\r\n                  value={depositAmountToken}\r\n                  onChange={(e) => {\r\n                    setDepositAmountToken(parseInt(e.target.value.replace(/\\D/,'')) || 0)\r\n                  }}\r\n                />\r\n              </Item>\r\n\r\n              <ItemH>\r\n                <ButtonAlt\r\n                  bg={depositApproved ? \"#999\" : \"#e20880\"}\r\n                  onClick={approveDeposit}\r\n                  disabled={depositApproved ? true : false}\r\n                >\r\n                  {!depositApproved && !txInProgressApprDep &&\r\n                    <Span color=\"#fff\" weight=\"400\">Approve</Span>\r\n                  }\r\n                  {txInProgressApprDep && !depositApproved &&\r\n                    <Loader\r\n                      type=\"Oval\"\r\n                      color=\"#fff\"\r\n                      height={12}\r\n                      width={12}\r\n                    />\r\n                  }\r\n                  {!txInProgress && depositApproved &&\r\n                    <Span color=\"#fff\" weight=\"600\">Approved</Span>\r\n                  }\r\n                </ButtonAlt>\r\n                <ButtonAlt\r\n                  bg={!depositApproved ? \"#999\" : \"#e20880\"}\r\n                  disabled={!depositApproved ? true : false}\r\n                  onClick={depositAmountTokenFarmSingleTx}\r\n                >\r\n                  {!txInProgressDep &&\r\n                    <Span color=\"#fff\" weight=\"400\">Deposit</Span>\r\n                  }\r\n                  {txInProgressDep &&\r\n                    <Loader\r\n                      type=\"Oval\"\r\n                      color=\"#fff\"\r\n                      height={12}\r\n                      width={12}\r\n                    />\r\n                  }\r\n                </ButtonAlt>\r\n              </ItemH>\r\n            </>\r\n          }\r\n\r\n          {showDepSlip &&\r\n            <Span\r\n              bg=\"#e20880\"\r\n              color=\"#fff\"\r\n              align=\"center\"\r\n              textTransform=\"uppercase\"\r\n              spacing=\"0.1em\"\r\n              size=\"14px\"\r\n              weight=\"600\"\r\n              padding=\"10px\"\r\n              self=\"stretch\"\r\n            >\r\n              Deposit Successful!\r\n            </Span>\r\n          }\r\n\r\n        </Item>\r\n      }\r\n\r\n      <ItemH padding=\"0px 20px 0px 20px\" margin=\"20px 0px 20px 0px\" align=\"center\" self=\"stretch\">\r\n        {!showDepositItem &&\r\n          <ButtonAlt\r\n            bg=\"#e20880\"\r\n            onClick={() => setShowDepositItem(!showDepositItem)}\r\n          >\r\n            {!txInProgressDep &&\r\n              <Span color=\"#fff\" weight=\"400\">Deposit</Span>\r\n            }\r\n            {txInProgressApprDep &&\r\n              <Loader\r\n                type=\"Oval\"\r\n                color=\"#fff\"\r\n                height={12}\r\n                width={12}\r\n              />\r\n            }\r\n          </ButtonAlt>\r\n        }\r\n\r\n        <ButtonAlt\r\n          bg=\"#000\"\r\n          onClick={() => withdrawAmountTokenFarmAutomatic()}\r\n        >\r\n          {!txInProgressWithdraw &&\r\n            <Span color=\"#fff\" weight=\"400\">Withdraw</Span>\r\n          }\r\n          {txInProgressWithdraw &&\r\n            <Loader\r\n              type=\"Oval\"\r\n              color=\"#fff\"\r\n              height={12}\r\n              width={12}\r\n            />\r\n          }\r\n        </ButtonAlt>\r\n\r\n        <ButtonAlt\r\n          bg=\"#000\"\r\n          onClick={() => massHarvestTokensAll()}\r\n        >\r\n          {!txInProgressMassHarvest &&\r\n            <Span color=\"#fff\" weight=\"400\">Harvest</Span>\r\n          }\r\n          {txInProgressMassHarvest &&\r\n            <Loader\r\n              type=\"Oval\"\r\n              color=\"#fff\"\r\n              height={12}\r\n              width={12}\r\n            />\r\n          }\r\n        </ButtonAlt>\r\n      </ItemH>\r\n    </Item>\r\n    </>\r\n  );\r\n}\r\n\r\n// toast customize\r\nconst LoaderToast = ({ msg, color }) => (\r\n  <Toaster>\r\n    <Loader type=\"Oval\" color={color} height={30} width={30} />\r\n    <ToasterMsg>{msg}</ToasterMsg>\r\n  </Toaster>\r\n);\r\n\r\n\r\nconst MaxButton = styled(Button)`\r\n  position: absolute;\r\n  right: 0;\r\n  padding: 4px 8px;\r\n  margin: 5px;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  text-transform: uppercase;\r\n  font-weight: 600;\r\n  letter-spacing: 0.1em;\r\n`\r\n\r\nconst PoolContainer = styled(Item)`\r\n  border-bottom: ${props => props.borderBottom || \"none\"};\r\n`\r\n\r\nconst PoolBoxTitle = styled(Span)`\r\n  background: ${props => props.bg || 'transparent'};\r\n  color: ${props => props.fg || '#fff'};\r\n  font-weight: 600;\r\n  font-size: ${props => props.size || '12px'};\r\n  margin: ${props => props.margin || '10px 5px'};\r\n  letter-spacing: 0.1em;\r\n`\r\n\r\nconst PoolBoxMsg = styled(Span)`\r\n  background: ${props => props.bg || '#fff'};\r\n  color: ${props => props.fg || '#000'};\r\n  font-weight: 600;\r\n  font-size: ${props => props.size || '12px'};\r\n  margin: ${props => props.margin || '5px 5px 10px 5px'};\r\n  letter-spacing: 0.1em;\r\n  padding: 4px 15px;\r\n  border-radius: 10px;\r\n`\r\n\r\nconst Container = styled.div`\r\n  padding: 18px;\r\n  background: #fff;\r\n  flex: 1;\r\n\r\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\r\n  border-radius: 15px;\r\n  border: 1px solid rgb(225, 225, 225);\r\n\r\n  margin: 10px;\r\n\r\n  &:hover {\r\n    opacity: 0.9;\r\n  }\r\n`;\r\n\r\nconst MainTitle = styled.h2`\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst Heading = styled.h5`\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst EpochDisplayer = styled(Span)`\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.1em;\r\n  font-size: 12px;\r\n  background: #f1f1f1;\r\n  padding: 0px 10px 0px 10px;\r\n  position: relative;\r\n  height: 23px;\r\n  align-items: center;\r\n  text-align: center;\r\n  display: flex;\r\n\r\n  &:after {\r\n    width: 0;\r\n    height: 0;\r\n    border-top: 0px solid transparent;\r\n    border-bottom: 25px solid transparent;\r\n    border-right: 10px solid #f1f1f1;\r\n    left: -10px;\r\n    content: '';\r\n    position: absolute;\r\n  }\r\n`\r\n\r\nconst ButtonAlt = styled(Button)`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${(props) =>\r\n    props.disabled &&\r\n    css`\r\n      &:hover {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n      &:active {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n    `}\r\n`;\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`;\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`;\r\n","import React from \"react\";\r\n\r\nimport styled, { css, keyframes } from \"styled-components\";\r\nimport {Section, Content, Item, ItemH, ItemBreak, A, B, H1, H2, H3, Image, P, Span, Anchor, Button, Showoff, FormSubmision, Input, TextField} from 'components/SharedStyling';\r\n\r\nimport { BsChevronExpand } from 'react-icons/bs';\r\n\r\nimport { AnimateOnChange } from \"react-animation\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport YieldFarmingDataStore from \"singletons/YieldFarmingDataStore\";\r\nimport PoolCard from \"components/PoolCard\";\r\n\r\nconst ethers = require(\"ethers\");\r\n\r\n// Create Header\r\nfunction YieldFarming() {\r\n  const { active, error, account, library, chainId } = useWeb3React();\r\n\r\n  const [poolStats, setPoolStats] = React.useState(null);\r\n  const [pushPoolStats, setPushPoolStats] = React.useState(null);\r\n  const [lpPoolStats, setLpPoolStats] = React.useState(null);\r\n  const [userDataPUSH, setUserDataPUSH] = React.useState(null);\r\n  const [userDataLP, setUserDataLP] = React.useState(null);\r\n\r\n  const [formattedDuration, setFormattedDuration] = React.useState(\"\");\r\n\r\n  const [epnsToken, setEpnsToken] = React.useState(null);\r\n  const [staking, setStaking] = React.useState(null);\r\n  const [yieldFarmingPUSH, setYieldFarmingPUSH] = React.useState(null);\r\n  const [yieldFarmingLP, setYieldFarmingLP] = React.useState(null);\r\n  const [uniswapV2Router02, setUniswapV2Router02] = React.useState(null);\r\n\r\n  const [showAnswers, setShowAnswers] = React.useState([]);\r\n\r\n  const [loadingUserData, setLoadingUserData] = React.useState(false);\r\n\r\n  const toggleShowAnswer = (id) => {\r\n    let newShowAnswers = [...showAnswers];\r\n    newShowAnswers[id] = !newShowAnswers[id];\r\n\r\n    setShowAnswers(newShowAnswers);\r\n  }\r\n\r\n  const getPoolStats = React.useCallback(async () => {\r\n    const poolStats = await YieldFarmingDataStore.instance.getPoolStats();\r\n\r\n    setPoolStats({ ...poolStats });\r\n  }, [epnsToken, staking, yieldFarmingPUSH, yieldFarmingLP, uniswapV2Router02]);\r\n\r\n  const getPUSHPoolStats = React.useCallback(async () => {\r\n    const pushPoolStats = await YieldFarmingDataStore.instance.getPUSHPoolStats();\r\n\r\n    setPushPoolStats({ ...pushPoolStats });\r\n  }, [epnsToken, staking, yieldFarmingPUSH, yieldFarmingLP, uniswapV2Router02]);\r\n\r\n  const getLPPoolStats = React.useCallback(async (poolStats) => {\r\n    const lpPoolStats = await YieldFarmingDataStore.instance.getLPPoolStats(poolStats);\r\n\r\n    setLpPoolStats({ ...lpPoolStats });\r\n  }, [epnsToken, staking, yieldFarmingPUSH, yieldFarmingLP, uniswapV2Router02]);\r\n\r\n  const getUserDataPUSH = React.useCallback(async () => {\r\n    const userDataPUSH = await YieldFarmingDataStore.instance.getUserData(yieldFarmingPUSH);\r\n\r\n    setUserDataPUSH({ ...userDataPUSH });\r\n  }, [yieldFarmingPUSH]);\r\n\r\n  const getUserDataLP = React.useCallback(async () => {\r\n    const userDataLP = await YieldFarmingDataStore.instance.getUserData(yieldFarmingLP);\r\n\r\n    setUserDataLP({ ...userDataLP });\r\n  }, [yieldFarmingLP]);\r\n\r\n  const formatTokens = (tokens) => {\r\n    if (tokens) {\r\n      return tokens.div(ethers.BigNumber.from(10).pow(18)).toString();\r\n    }\r\n  };\r\n\r\n  const getFormattedDuration = () => {\r\n    if (poolStats?.epochEndTimestamp) {\r\n      const epochEndTimestamp = poolStats.epochEndTimestamp.toNumber();\r\n\r\n      const duration = epochEndTimestamp - Math.floor(new Date() / 1000);\r\n\r\n      if(duration < 0) {\r\n        getPoolStats()\r\n      }\r\n\r\n      const day = parseInt(duration / 86400);\r\n      const hour = parseInt((duration - day * 86400) / 3600);\r\n\r\n      const minutes = parseInt((duration - (day * 86400 + hour * 3600)) / 60);\r\n      const seconds = duration - (day * 86400 + hour * 3600 + minutes * 60);\r\n\r\n      setFormattedDuration(`${day}D ${hour}H ${minutes}M ${seconds}S`);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setTimeout(() => {\r\n      getFormattedDuration();\r\n    }, 1000);\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    let epnsToken = new ethers.Contract(\r\n      addresses.epnsToken,\r\n      abis.epnsToken,\r\n      library\r\n    );\r\n\r\n    let staking = new ethers.Contract(addresses.staking, abis.staking, library);\r\n    let yieldFarmingPUSH = new ethers.Contract(\r\n      addresses.yieldFarmPUSH,\r\n      abis.yieldFarming,\r\n      library\r\n    );\r\n\r\n    let yieldFarmingLP = new ethers.Contract(\r\n      addresses.yieldFarmLP,\r\n      abis.yieldFarming,\r\n      library\r\n    );\r\n\r\n    let uniswapV2Router02Instance = new ethers.Contract(\r\n      addresses.uniswapV2Router02,\r\n      abis.uniswapV2Router02,\r\n      library\r\n    );\r\n\r\n    setEpnsToken(epnsToken);\r\n    setStaking(staking);\r\n    setYieldFarmingPUSH(yieldFarmingPUSH);\r\n    setYieldFarmingLP(yieldFarmingLP);\r\n    setUniswapV2Router02(uniswapV2Router02Instance)\r\n\r\n    if (!!(library && account)) {\r\n      var signer = library.getSigner(account);\r\n\r\n      let epnsToken = new ethers.Contract(\r\n        addresses.epnsToken,\r\n        abis.epnsToken,\r\n        signer\r\n      );\r\n      let staking = new ethers.Contract(\r\n        addresses.staking,\r\n        abis.staking,\r\n        signer\r\n      );\r\n      let yieldFarmingPUSH = new ethers.Contract(\r\n        addresses.yieldFarmPUSH,\r\n        abis.yieldFarming,\r\n        signer\r\n      );\r\n      let yieldFarmingLP = new ethers.Contract(\r\n        addresses.yieldFarmLP,\r\n        abis.yieldFarming,\r\n        signer\r\n      );\r\n\r\n      let uniswapV2Router02Instance = new ethers.Contract(\r\n        addresses.uniswapV2Router02,\r\n        abis.uniswapV2Router02,\r\n        signer\r\n      );\r\n\r\n      setEpnsToken(epnsToken);\r\n      setStaking(staking);\r\n      setYieldFarmingPUSH(yieldFarmingPUSH);\r\n      setYieldFarmingLP(yieldFarmingLP);\r\n      setUniswapV2Router02(uniswapV2Router02Instance);\r\n  }\r\n  }, [account]);\r\n\r\n  React.useEffect(() => {\r\n    if (epnsToken != null && staking != null && yieldFarmingPUSH != null) {\r\n      // Instantiate Data Stores\r\n      YieldFarmingDataStore.instance.init(\r\n        account,\r\n        epnsToken,\r\n        staking,\r\n        yieldFarmingPUSH,\r\n        yieldFarmingLP,\r\n        uniswapV2Router02\r\n      );\r\n\r\n      getPoolStats();\r\n\r\n      // setpoolStats(YieldFarmingDataStore.instance.state);\r\n    }\r\n  }, [getPoolStats]);\r\n\r\n  React.useEffect(() => {\r\n    if (poolStats) {\r\n      syncData(poolStats);\r\n    }\r\n\r\n  }, [poolStats]);\r\n\r\n  const syncData = async (poolStats) => {\r\n    getPUSHPoolStats();\r\n    getLPPoolStats(poolStats);\r\n\r\n    getUserDataPUSH();\r\n    getUserDataLP();\r\n  }\r\n\r\n  function numberWithCommas(x) {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  }\r\n\r\n  return (\r\n    <Section>\r\n      {poolStats ? (\r\n        <>\r\n          <Content theme=\"#f3f3f3\">\r\n            <ItemH margin=\"0px 15px 0px 15px\" align=\"stretch\">\r\n              <StatsCard\r\n                bg=\"#fff\"\r\n              >\r\n                <StatsHeading bg=\"#e20880\">Total Value Locked</StatsHeading>\r\n                <StatsContent>\r\n                  <StatsInnerTitle>{`$ ${numberWithCommas(poolStats.totalValueLocked.toFixed(2))}`}</StatsInnerTitle>\r\n                </StatsContent>\r\n                <StatsPreview color=\"#e20880\">TVL</StatsPreview>\r\n              </StatsCard>\r\n\r\n              <StatsCard\r\n                bg=\"#fff\"\r\n              >\r\n                <StatsHeading bg=\"#35c5f3\">PUSH Rewards Given</StatsHeading>\r\n                <StatsContent>\r\n                  <StatsInnerTitle>{numberWithCommas(formatTokens(poolStats.pushRewardsDistributed))}</StatsInnerTitle>\r\n                  <StatsInnerSub>out of {numberWithCommas(formatTokens(poolStats.totalDistributedAmount))}</StatsInnerSub>\r\n                </StatsContent>\r\n                <StatsPreview color=\"#35c5f3\">Rewarded</StatsPreview>\r\n              </StatsCard>\r\n\r\n              <StatsCard\r\n                bg=\"#fff\"\r\n              >\r\n                <StatsHeading bg=\"#674c9f\">Time Left</StatsHeading>\r\n                <StatsContent>\r\n                  <StatsInnerTitle>{formattedDuration}</StatsInnerTitle>\r\n                  <StatsInnerSub>until next epoch</StatsInnerSub>\r\n                </StatsContent>\r\n                <StatsPreview color=\"#674c9f\">time left</StatsPreview>\r\n              </StatsCard>\r\n\r\n              <StatsCard\r\n                bg=\"#fff\"\r\n              >\r\n                <StatsHeading bg=\"#000\">PUSH Price</StatsHeading>\r\n                <StatsContent>\r\n                  <StatsInnerTitle>{`$ ${poolStats.pushPrice.toFixed(2)}`}</StatsInnerTitle>\r\n                  <StatsInnerSub>\r\n                    <a target=\"_blank\" href=\"https://app.uniswap.org/#/swap?inputCurrency=0xf418588522d5dd018b425e472991e52ebbeeeeee\">Uniswap</a>\r\n                  </StatsInnerSub>\r\n                </StatsContent>\r\n                <StatsPreview color=\"#000\">UNISWAP</StatsPreview>\r\n              </StatsCard>\r\n            </ItemH>\r\n          </Content>\r\n\r\n          {!(lpPoolStats && userDataLP) && !(pushPoolStats && userDataPUSH)\r\n            ? <Item padding=\"20px\">\r\n                <Loader type=\"Oval\" color=\"#35c5f3\" height={40} width={40} />\r\n              </Item>\r\n            : <Content padding=\"25px 0px\">\r\n              <ItemH margin=\"0px 10px 0px 10px\" align=\"stretch\">\r\n                {\r\n                  lpPoolStats && userDataLP ? (\r\n                    <PoolCard\r\n                      poolName={'Uniswap LP Pool (UNI-V2)'}\r\n                      poolAddress={addresses.yieldFarmLP}\r\n                      tokenAddress={addresses.epnsLPToken}\r\n                      getPoolStats={getPoolStats}\r\n                      getPUSHPoolStats={getLPPoolStats}\r\n                      getUserData={getUserDataLP}\r\n                      pushPoolStats={lpPoolStats}\r\n                      userData={userDataLP}\r\n                    />\r\n                  ) : null\r\n                }\r\n                {\r\n                  pushPoolStats && userDataPUSH ? (\r\n                    <PoolCard\r\n                      poolName={'Staking Pool (PUSH)'}\r\n                      poolAddress={addresses.yieldFarmPUSH}\r\n                      tokenAddress={addresses.epnsToken}\r\n                      getPoolStats={getPoolStats}\r\n                      getPUSHPoolStats={getPUSHPoolStats}\r\n                      getUserData={getUserDataPUSH}\r\n                      pushPoolStats={pushPoolStats}\r\n                      userData={userDataPUSH}\r\n                    />\r\n                  ) : null\r\n                }\r\n              </ItemH>\r\n            </Content>\r\n          }\r\n        </>\r\n      ) : (\r\n        <Item padding=\"20px\">\r\n          <Loader type=\"Oval\" color=\"#e20880\" height={40} width={40} />\r\n        </Item>\r\n      )}\r\n    </Section>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  display: block;\r\n  flex-direction: column;\r\n  min-height: calc(100vh - 100px);\r\n`\r\n\r\nconst StatsCard = styled(Item)`\r\n  overflow: hidden;\r\n  min-width: 180px;\r\n\r\n  border-radius: 12px;\r\n  border: 1px solid rgb(225, 225, 225);\r\n\r\n  margin: 0px 15px;\r\n\r\n  &:hover {\r\n    opacity: 0.9;\r\n  }\r\n`;\r\n\r\nconst CenterHeading = styled.h2`\r\n  text-align: center;\r\n`;\r\n\r\nconst PoolContainer = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst StatsHeading = styled(Item)`\r\n  flex: 0;\r\n  align-self: stretch;\r\n  color: #fff;\r\n  top: 0px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.1em;\r\n  font-size: 15px;\r\n  text-align: center;\r\n  padding: 10px 5px;\r\n  right: 0;\r\n  left: 0;\r\n`\r\n\r\nconst StatsContent = styled(Item)`\r\n  padding: 20px 20px;\r\n`\r\n\r\nconst StatsPreview = styled(Span)`\r\n  position: absolute;\r\n  bottom: 5px;\r\n  right: 10px;\r\n  font-weight: 600;\r\n  font-size: 12px;\r\n  opacity: 0.25;\r\n  letter-spacing:0.1em;\r\n  text-transform: uppercase;\r\n  color: ${props => props.color || '#000'};\r\n  z-index: -1;\r\n`\r\n\r\nconst StatsInnerTitle = styled.span`\r\n  font-weight: bold;\r\n  font-size: 22px;\r\n  letter-spacing: 0.1em;\r\n`;\r\n\r\nconst StatsInnerSub = styled.span`\r\n  font-size: 12px;\r\n  color: #999;\r\n  font-weight: 600;\r\n  align-self: flex-end;\r\n`;\r\n\r\n// Export Default\r\nexport default YieldFarming;\r\n","import React from \"react\";\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { ethers } from \"ethers\";\r\nimport { parseEther, bigNumber } from 'ethers/utils'\r\n\r\n// FeedDB Helper Function\r\nconst NFTHelper = {\r\n  getNFTBalance: async (user, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      if(contract){\r\n        contract.balanceOf(user)\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getNFTBalance() --> %o\", response);\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getNFTBalance() --> %o\", err);\r\n          reject(err);\r\n        });\r\n\r\n      }\r\n      \r\n    })\r\n  },\r\n\r\n  getTotalSupply: async (contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      contract.totalSupply()\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getNFTBalance() --> %o\", response);\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getNFTBalance() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n\r\n  getOwnerOfTokenId: async (tokenId, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      contract.ownerOf(tokenId)\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getOwnerOfTokenId() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getOwnerOfTokenId() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n\r\n  getTokenOfOwnerByIndex: async (user, index, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      contract.tokenOfOwnerByIndex(user, index)\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getTokenOfOwnerByIndex() --> %o\", response);\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getTokenOfOwnerByIndex() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n\r\n  getTokenByIndex: async (index, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      contract.tokenByIndex(index)\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getTokenByIndex() --> %o\", response);\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getTokenByIndex() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n\r\n  getTokenMetadata: async (tokenId, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      contract.tokenURI(tokenId)\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getTokenMetadata() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getTokenMetadata() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n\r\n  getTokenMetadatasOfOwner: async (owner, nftContract, rewardsContract) => {\r\n    const enableLogs = 1;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      NFTHelper.getNFTBalance(owner, nftContract)\r\n      .then(async (balance) => {\r\n        // const balance = await res\r\n        let NFTDetails = []\r\n        let promises = []\r\n      \r\n      for(let i=0; i<balance; i++){\r\n        promises.push(NFTHelper.getTokenOfOwnerByIndex(owner, i, nftContract)\r\n        .then(async tokenId => {\r\n            await NFTHelper.getClaimable(tokenId, rewardsContract)\r\n            .then(async claimable => {\r\n              console.log(\"🚀 ~ file: NFTHelper.js ~ line 102 ~ .then ~ claimable\", claimable)\r\n\r\n              await NFTHelper.getTokenMetadata(tokenId, nftContract)\r\n              .then(async metadata => {\r\n                if(tokenId != null && metadata != null && claimable != null )\r\n                NFTDetails.push({id: tokenId, metadata, claimable})\r\n\r\n              })\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getClaimable() --> %o\", err);\r\n              reject(err);\r\n            });\r\n        }))\r\n      }\r\n      // // wait until all promises are resolved\r\n      await Promise.all(promises);\r\n      console.log(\"🚀 ~ file: NFTHelper.js ~ line 83 ~ .then ~ NFTDetails\", NFTDetails)\r\n      resolve(NFTDetails);\r\n\r\n      })\r\n      .catch(err => {\r\n        console.log(\"!!!Error, getTokenMetadatasOfOwner() --> %o\", err);\r\n        reject(err);\r\n      });\r\n        \r\n    })\r\n  },\r\n\r\n  getAllTokenDatas: async (nftContract, rewardsContract) => {\r\n    const enableLogs = 1;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      NFTHelper.getNFTBalance(nftContract)\r\n      .then(async (totalSupply) => {\r\n        let NFTDetails = []\r\n        let promises = []\r\n      \r\n      for(let i=0; i<totalSupply; i++){\r\n        promises.push(NFTHelper.getTokenByIndex(i, nftContract)\r\n        .then(async tokenId => {\r\n            await NFTHelper.getClaimable(tokenId, rewardsContract)\r\n            .then(async claimable => {\r\n              await NFTHelper.getTokenMetadata(tokenId, nftContract)\r\n              .then(async metadata => {\r\n                await NFTHelper.getOwnerOfTokenId(tokenId, nftContract)\r\n                .then(async owner => {\r\n                  if(tokenId != null && metadata != null && claimable != null && owner != null )\r\n                  NFTDetails.push({id: tokenId, metadata, owner, claimable})\r\n                })\r\n                .catch(err => {\r\n                  console.log(\"!!!Error, getAllTokenDatas::getOwnerOfTokenId() --> %o\", err);\r\n                  reject(err);\r\n                })\r\n              })\r\n              .catch(err => {\r\n                console.log(\"!!!Error, getAllTokenDatas::getTokenMetadata() --> %o\", err);\r\n                reject(err);\r\n              })\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getAllTokenDatas::getClaimable() --> %o\", err);\r\n              reject(err);\r\n            });\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getAllTokenDatas::getTokenByIndex() --> %o\", err);\r\n          reject(err);\r\n        })\r\n        )\r\n      }\r\n      // // wait until all promises are resolved\r\n      await Promise.all(promises);\r\n      console.log(\"🚀 ~ file: NFTHelper.js ~ line 83 ~ .then ~ NFTDetails\", NFTDetails)\r\n      resolve(NFTDetails);\r\n\r\n      })\r\n      .catch(err => {\r\n        console.log(\"!!!Error, getAllTokenDatas() --> %o\", err);\r\n        reject(err);\r\n      });\r\n        \r\n    })\r\n  },\r\n\r\n  getTokenData: async (tokenId, nftContract, rewardsContract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n             NFTHelper.getClaimable(tokenId, rewardsContract)\r\n            .then(async claimable => {\r\n              await NFTHelper.getTokenMetadata(tokenId, nftContract)\r\n              .then(async metadata => {\r\n                await NFTHelper.getOwnerOfTokenId(tokenId, nftContract)\r\n                .then(async owner => {\r\n                  if(tokenId != null && metadata != null && claimable != null && owner != null )\r\n                  resolve({id: tokenId, metadata, owner, claimable});\r\n                })\r\n              })\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getTokenData() --> %o\", err);\r\n              reject(err);\r\n            });\r\n    })\r\n  },\r\n\r\n  transferNFT: async (from, to, tokenId, contract) => {\r\n    const enableLogs = 1;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      contract.safeTransferFrom(from, to, tokenId)\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"transferNFT() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, transferNFT() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n\r\n  getClaimable: async (tokenId, contract) => {\r\n    \r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      if(contract){\r\n        contract.getClaimRewardStatus(tokenId)\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getClaimable() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getClaimable() --> %o\", err);\r\n          reject(err);\r\n        });\r\n\r\n      }\r\n      \r\n    })\r\n  },\r\n\r\n}\r\n\r\nexport default NFTHelper;\r\n","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\nimport { AnimateOnChange } from 'react-animation';\r\n\r\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\r\n\r\n// Create Header\r\nfunction DisplayNotice({ title, theme }) {\r\n  React.useEffect(() => {\r\n\r\n  }, [title, theme]);\r\n\r\n  // to create blockies\r\n\r\n  return (\r\n    <Container>\r\n      <AnimateOnChange\r\n        animationIn=\"fadeIn\"\r\n        animationOut=\"fadeOut\"\r\n        durationOut={200}\r\n      >\r\n        <Notice theme={theme}>{title}</Notice>\r\n      </AnimateOnChange>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n\r\n`\r\n\r\nconst Notice = styled.span`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n\r\n  ${props => props.theme === 'primary' && css`\r\n    background: #e20880;\r\n  `};\r\n\r\n  ${props => props.theme === 'secondary' && css`\r\n    background: #35c5f3;\r\n  `};\r\n\r\n  ${props => props.theme === 'third' && css`\r\n    background: #674c9f;\r\n  `};\r\n`\r\n\r\n// Export Default\r\nexport default DisplayNotice;\r\n","const size = {\r\n  mobileS: '320px',\r\n  mobileM: '375px',\r\n  mobileL: '425px',\r\n  tablet: '768px',\r\n  laptop: '1024px',\r\n  laptopL: '1440px',\r\n  desktop: '2560px'\r\n}\r\n\r\nexport const Device = {\r\n  mobileS: `(max-width: ${size.mobileS})`,\r\n  mobileM: `(max-width: ${size.mobileM})`,\r\n  mobileL: `(max-width: ${size.mobileL})`,\r\n  tablet: `(max-width: ${size.tablet})`,\r\n  laptop: `(max-width: ${size.laptop})`,\r\n  laptopL: `(max-width: ${size.laptopL})`,\r\n  desktop: `(max-width: ${size.desktop})`,\r\n  desktopL: `(max-width: ${size.desktop})`\r\n};\r\n","import React from \"react\";\r\n\r\nimport styled, { css, keyframes } from \"styled-components\";\r\nimport {Section, Content, Item, ItemH, ItemBreak, A, B, H1, H2, H3, Image, P, Span, Anchor, Button, Showoff, FormSubmision, Input, TextField} from 'components/SharedStyling';\r\n\r\nimport { Device } from 'assets/Device';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport Skeleton from '@yisheng90/react-loading';\r\nimport { IoIosGift } from 'react-icons/io';\r\nimport { GiTwoCoins } from 'react-icons/gi';\r\n\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { ethers } from \"ethers\";\r\nimport { keccak256, arrayify, hashMessage, recoverPublicKey } from 'ethers/utils';\r\n\r\nimport ReactPlayer from 'react-player'\r\n\r\nimport NFTHelper from 'helpers/NFTHelper';\r\n\r\n// Create Header\r\nfunction ViewNFTItem({ NFTObject, nftReadProvider, nftWriteProvider, controlAt, setControlAt, setTokenId}) {\r\n  const { account, library } = useWeb3React();\r\n\r\n  const [NFTRewardsContract, setNFTRewardsContract] = React.useState(null);\r\n  const [ loading, setLoading ] = React.useState(true);\r\n  const [ txInProgress, setTxInProgress ] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (!!(library && account)) {\r\n      let signer = library.getSigner(account);\r\n      const NFTRewardsInstance = new ethers.Contract(addresses.NFTRewards, abis.NFTRewards, signer);\r\n      setNFTRewardsContract(NFTRewardsInstance);\r\n    }\r\n  }, [account,library]);\r\n\r\n  React.useEffect(() => {\r\n    if(NFTObject){\r\n      setLoading(false);\r\n    }\r\n  }, [account, NFTObject]);\r\n\r\n  // to claim\r\n  const handleClaim = async (tokenId) => {\r\n    if(NFTRewardsContract){\r\n      setTxInProgress(true)\r\n      let sendWithTxPromise\r\n      sendWithTxPromise = await NFTRewardsContract.claimReward(tokenId)\r\n      const tx = await sendWithTxPromise;\r\n\r\n      console.log(tx);\r\n      console.log(\"waiting for tx to finish\");\r\n      let txToast = toast.dark(<LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\"/>, {\r\n        position: \"bottom-right\",\r\n        autoClose: false,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      try {\r\n        await library.waitForTransaction(tx.hash);\r\n\r\n        toast.update(txToast, {\r\n          render: \"Transaction Completed!\",\r\n          type: toast.TYPE.SUCCESS,\r\n          autoClose: 5000\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      }\r\n      catch(e) {\r\n        toast.update(txToast, {\r\n          render: \"Transaction Failed! (\" + e.name + \")\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      }\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  // toast customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Loader\r\n       type=\"Oval\"\r\n       color={color}\r\n       height={30}\r\n       width={30}\r\n      />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  )\r\n\r\n  // render\r\n  return (\r\n    <Item\r\n      key={NFTObject.id}\r\n    >\r\n      <ChannelLogo\r\n        theme={\r\n          !!account && !!library && account == NFTObject.owner ?\r\n            \"#e20880\" :\r\n            !!account && !!library && NFTObject.owner != 0xFbA7Df351ADD4E79099f63E33b2679EDFDD5e2aB ?\r\n              \"#eee\" :\r\n              \"#fff\"\r\n        }\r\n      >\r\n        <ChannelLogoOuter>\r\n          <ChannelLogoInner>\r\n            {loading &&\r\n              <Skeleton color=\"#eee\" width=\"100%\" height=\"100%\" />\r\n            }\r\n            {!loading &&\r\n              <ReactPlayer url={`https://ipfs.io/ipfs/${NFTObject.metadata}`} controls={true} playing={false} loop={true}/>\r\n            }\r\n            {!!account && !!library && NFTObject.owner != 0xFbA7Df351ADD4E79099f63E33b2679EDFDD5e2aB &&\r\n              <NFTStatus>\r\n                <IoIosGift size={20} color=\"#fff\"/>\r\n                <NFTStatusTitle>\r\n                  Gifted\r\n                </NFTStatusTitle>\r\n              </NFTStatus>\r\n            }\r\n\r\n            {!!account && !!library && NFTObject.claimable &&\r\n              <NFTClaim>\r\n                <NFTClaimTitle>\r\n                  2400 $PUSH\r\n                </NFTClaimTitle>\r\n              </NFTClaim>\r\n            }\r\n          </ChannelLogoInner>\r\n        </ChannelLogoOuter>\r\n\r\n      {!!account && !!library &&\r\n        <ItemH>\r\n\r\n          <ChannelActions>\r\n            {loading &&\r\n              <SkeletonButton>\r\n                <Skeleton />\r\n              </SkeletonButton>\r\n            }\r\n            {!!account && !!library && account == NFTObject.owner && !loading &&\r\n              <UnsubscribeButton >\r\n                <ActionTitle onClick={() => {\r\n                  setTokenId(NFTObject.id)\r\n                  setControlAt(2)\r\n                }}\r\n                  >Transfer</ActionTitle>\r\n              </UnsubscribeButton>\r\n            }\r\n            {!!account && !!library && account == NFTObject.owner && !loading &&\r\n                <UnsubscribeButton disabled = {!NFTObject.claimable}>\r\n                  {txInProgress &&\r\n                    <ActionLoader>\r\n                      <Loader\r\n                       type=\"Oval\"\r\n                       color=\"#FFF\"\r\n                       height={16}\r\n                       width={16}\r\n                      />\r\n                    </ActionLoader>\r\n                  }\r\n                  {NFTObject.claimable &&\r\n                    <ActionTitle hideit={txInProgress} onClick={() => {handleClaim(NFTObject.id)}}>Claim $PUSH</ActionTitle>\r\n                  }\r\n                  {!NFTObject.claimable &&\r\n                    <ActionTitle hideit={txInProgress} >Rewards Claimed</ActionTitle>\r\n                  }\r\n                </UnsubscribeButton>\r\n            }\r\n          </ChannelActions>\r\n        </ItemH>\r\n      }\r\n      </ChannelLogo>\r\n    </Item>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst NFTTextStyle = styled.label`\r\n  margin: 0px 5px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  padding: 2px 8px;\r\n  border-radius: 10px;\r\n  font-size: 11px;\r\n`\r\n\r\nconst NFTStatus = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n\r\n  position: absolute;\r\n  bottom: 10px;\r\n  right: 10px;\r\n`\r\n\r\nconst NFTStatusTitle = styled(NFTTextStyle)`\r\n  background: #35c4f3;\r\n`\r\n\r\nconst NFTClaim = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n\r\n  position: absolute;\r\n  bottom: 10px;\r\n  left: 10px;\r\n`\r\n\r\nconst NFTClaimTitle = styled(NFTTextStyle)`\r\n  background: #e20880;\r\n`\r\n\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  // display: inline;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  border: 1px solid rgb(237, 237, 237);\r\n\r\n  margin: 15px 0px;\r\n  justify-content: center;\r\n  padding: 10px;\r\n`\r\n\r\nconst SkeletonWrapper = styled.div`\r\n  overflow: hidden;\r\n  width: ${props => props.atW + '%' || '100%'};\r\n  height: ${props => props.atH}px;\r\n  border-radius: ${props => props.borderRadius || 10}px;\r\n  margin-bottom: ${props => props.marginBottom || 5}px;\r\n  margin-right: ${props => props.marginRight || 0}px;\r\n`\r\n\r\nconst ChannelLogo = styled.div`\r\n  background: ${props => props.theme || '#fff'};\r\n  max-width: 25%;\r\n  min-width: 200px;\r\n  flex: 1;\r\n  margin: 5px;\r\n  padding: 10px;\r\n  border: 2px solid #fafafa;\r\n  overflow: hidden;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-self: center;\r\n`\r\n\r\nconst ChannelLogoOuter = styled.div`\r\n  padding-top: 100%;\r\n  position: relative;\r\n`\r\n\r\nconst ChannelLogoInner = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst ChannelLogoImg = styled.img`\r\n  object-fit: contain;\r\n  width: 100%;\r\n  border-radius: 20px;\r\n  overflow: hidden;\r\n`\r\n\r\nconst ChannelInfo = styled.div`\r\n  flex: 1;\r\n  margin: 5px 10px;\r\n  min-width: 120px;\r\n  flex-grow: 4;\r\n  flex-direction: column;\r\n  display: flex;\r\n`\r\n\r\nconst ChannelTitle = styled.div`\r\n  margin-bottom: 5px;\r\n`\r\n\r\nconst ChannelTitleLink = styled.div`\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  font-size: 20px;\r\n  &:hover {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\n\r\nconst ChannelDesc = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  font-size: 14px;\r\n  color: rgba(0, 0, 0, 0.75);\r\n  font-weight: 400;\r\n  flex-direction: column;\r\n`\r\n\r\nconst ChannelDescLabel = styled.label`\r\n  flex: 1;\r\n`\r\n\r\nconst ChannelMeta = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  font-size: 13px;\r\n`\r\n\r\nconst ChannelMetaBox = styled.label`\r\n  margin: 0px 5px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  padding: 2px 8px;\r\n  border-radius: 10px;\r\n  font-size: 11px;\r\n`\r\n\r\nconst Subscribers = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`\r\n\r\nconst SubscribersCount = styled(ChannelMetaBox)`\r\n  background: #35c4f3;\r\n`\r\n\r\nconst Pool = styled.div`\r\n  margin: 0px 10px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`\r\n\r\nconst PoolShare = styled(ChannelMetaBox)`\r\n  background: #674c9f;\r\n`\r\n\r\nconst LineBreak = styled.div`\r\n  display: none;\r\n  flex-basis: 100%;\r\n  height: 0;\r\n\r\n  @media ${Device.tablet} {\r\n    display: block;\r\n  }\r\n`\r\n\r\nconst ChannelActions = styled.div`\r\n  margin: 5px;\r\n  flex-grow: 1;\r\n  max-width: 120px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst ChannelActionButton = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${ props => props.disabled && css`\r\n    background: #e20880;\r\n    &:hover {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n    &:active {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n  `}\r\n`\r\n\r\nconst ActionTitle = styled.span`\r\n  font-size: 12px;\r\n  ${ props => props.hideit && css`\r\n    visibility: hidden;\r\n  `};\r\n`\r\n\r\nconst ActionLoader = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst SkeletonButton = styled.div`\r\n  border: 0;\r\n  outline: 0;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 10px;\r\n  border-radius: 5px;\r\n  flex: 1;\r\n`\r\n\r\nconst SubscribeButton = styled(ChannelActionButton)`\r\n  background: #e20880;\r\n`\r\n\r\nconst UnsubscribeButton = styled(ChannelActionButton)`\r\n  background: #000;\r\n`\r\n\r\nconst OwnerButton = styled(ChannelActionButton)`\r\n  background: #35c5f3;\r\n`\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`\r\n\r\n// Export Default\r\nexport default ViewNFTItem;\r\n","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\nimport Loader from 'react-loader-spinner'\r\nimport { Waypoint } from \"react-waypoint\";\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport NFTHelper from 'helpers/NFTHelper';\r\nimport { ethers } from \"ethers\";\r\n\r\nimport DisplayNotice from \"components/DisplayNotice\";\r\nimport ViewNFTItem from \"components/ViewNFTItem\";\r\n\r\n\r\n// Create Header\r\nfunction MyNFTs({controlAt, setControlAt, setTokenId}) {\r\n  const { account, library } = useWeb3React();\r\n\r\n  const [nftReadProvider, setNftReadProvider] = React.useState(null);\r\n  const [nftWriteProvider, setNftWriteProvider] = React.useState(null);\r\n  const [NFTRewardsContract, setNFTRewardsContract] = React.useState(null);\r\n  const [NFTObjects, setNFTObjects] = React.useState([]);\r\n\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n\r\n    if (!!(library && account)) {\r\n      const contractInstance = new ethers.Contract(addresses.rockstar, abis.rockstar, library);\r\n      setNftReadProvider(contractInstance);\r\n      let signer = library.getSigner(account);\r\n      const signerInstance = new ethers.Contract(addresses.rockstar, abis.rockstar, signer);\r\n      setNftWriteProvider(signerInstance);\r\n      const NFTRewardsInstance = new ethers.Contract(addresses.NFTRewards, abis.NFTRewards, signer);\r\n      setNFTRewardsContract(NFTRewardsInstance);\r\n    }\r\n  }, [account,library]);\r\n\r\n  React.useEffect(() => {\r\n    if(nftReadProvider && NFTRewardsContract){\r\n      fetchNFTDetails();\r\n    }\r\n  }, [account, nftReadProvider, nftWriteProvider, NFTRewardsContract]);\r\n\r\n  // to fetch NFT Details\r\n  const fetchNFTDetails = async () => {\r\n    let balance = await NFTHelper.getNFTBalance(account, nftReadProvider);\r\n    setLoading(false);\r\n    for(let i=0; i<balance; i++){\r\n      let tokenId = await NFTHelper.getTokenOfOwnerByIndex(account, i, nftReadProvider)\r\n      let NFTObject = await NFTHelper.getTokenData(tokenId, nftReadProvider, NFTRewardsContract)\r\n      await setNFTObjects(prev => [...prev, NFTObject])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {loading &&\r\n        <ContainerInfo>\r\n          <Loader\r\n           type=\"Oval\"\r\n           color=\"#35c5f3\"\r\n           height={40}\r\n           width={40}\r\n          />\r\n        </ContainerInfo>\r\n      }\r\n\r\n      {!loading && NFTObjects.length == 0 &&\r\n        <ContainerInfo>\r\n          <DisplayNotice\r\n            title=\"No ROCKSTAR tokens are available in your account\"\r\n            theme=\"primary\"\r\n          />\r\n        </ContainerInfo>\r\n      }\r\n\r\n\r\n      {!loading && NFTObjects.length != 0 &&\r\n        <Items id=\"scrollstyle-secondary\">\r\n\r\n          {Object.keys(NFTObjects).map(index => {\r\n            if (NFTObjects[index].id) {\r\n              return (\r\n                <ViewNFTItem\r\n                  key={NFTObjects[index].id}\r\n                  NFTObject={NFTObjects[index]}\r\n                  nftReadProvider={nftReadProvider}\r\n                  nftWriteProvider={nftWriteProvider}\r\n                  controlAt={controlAt}\r\n                  setControlAt={setControlAt}\r\n                  setTokenId={setTokenId}\r\n                />\r\n              );\r\n            }\r\n\r\n          })}\r\n        </Items>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  max-height: 80vh;\r\n`\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`\r\n\r\nconst Items = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n  background: #fafafa;\r\n`\r\n\r\n// Export Default\r\nexport default MyNFTs;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport {Section, Content, Item, ItemH, ItemBreak, A, B, H1, H2, H3, Image, P, Span, Anchor, Button, Showoff, FormSubmision, Input, TextField} from 'components/SharedStyling';\r\n\r\nimport StackGrid, { transitions } from \"react-stack-grid\";\r\n\r\nimport Loader from 'react-loader-spinner'\r\nimport { Waypoint } from \"react-waypoint\";\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport NFTHelper from 'helpers/NFTHelper';\r\nimport { ethers } from \"ethers\";\r\n\r\nimport DisplayNotice from \"components/DisplayNotice\";\r\nimport ViewNFTItem from \"components/ViewNFTItem\";\r\n\r\n\r\nconst { scaleDown } = transitions;\r\n\r\n// Create Header\r\nfunction AllNFTs({controlAt, setControlAt, setTokenId}) {\r\n  const { account, library } = useWeb3React();\r\n\r\n  const [nftReadProvider, setNftReadProvider] = React.useState(null);\r\n  const [nftWriteProvider, setNftWriteProvider] = React.useState(null);\r\n  const [NFTRewardsContract, setNFTRewardsContract] = React.useState(null);\r\n  const [NFTObjects, setNFTObjects] = React.useState([]);\r\n\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    if (!!(library && account)) {\r\n      const contractInstance = new ethers.Contract(addresses.rockstar, abis.rockstar, library);\r\n      setNftReadProvider(contractInstance);\r\n      let signer = library.getSigner(account);\r\n      const signerInstance = new ethers.Contract(addresses.rockstar, abis.rockstar, signer);\r\n      setNftWriteProvider(signerInstance);\r\n      const NFTRewardsInstance = new ethers.Contract(addresses.NFTRewards, abis.NFTRewards, signer);\r\n      setNFTRewardsContract(NFTRewardsInstance);\r\n    }\r\n  }, [account, library]);\r\n\r\n  React.useEffect(() => {\r\n    if(nftReadProvider && NFTRewardsContract){\r\n      fetchNFTDetails();\r\n    }\r\n  }, [account, nftReadProvider, nftWriteProvider, NFTRewardsContract]);\r\n\r\n  // to fetch all minted NFT Details\r\n  const fetchNFTDetails = async () => {\r\n    let totalSupply = await NFTHelper.getTotalSupply(nftReadProvider);\r\n    setLoading(false);\r\n    for(let i=0; i<totalSupply; i++){\r\n      let tokenId = await NFTHelper.getTokenByIndex(i, nftReadProvider)\r\n      let NFTObject = await NFTHelper.getTokenData(tokenId, nftReadProvider, NFTRewardsContract)\r\n      await setNFTObjects(prev => [...prev, NFTObject])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Section align=\"center\">\r\n      {loading &&\r\n        <ContainerInfo>\r\n          <Loader\r\n           type=\"Oval\"\r\n           color=\"#674c9f\"\r\n           height={40}\r\n           width={40}\r\n          />\r\n        </ContainerInfo>\r\n      }\r\n\r\n      {!loading && NFTObjects.length == 0 &&\r\n        <ContainerInfo>\r\n          <Loader\r\n           type=\"Oval\"\r\n           color=\"#674c9f\"\r\n           height={40}\r\n           width={40}\r\n          />\r\n        </ContainerInfo>\r\n      }\r\n\r\n      {!loading && NFTObjects.length != 0 &&\r\n        <ItemH id=\"scrollstyle-secondary\">\r\n          {Object.keys(NFTObjects).map(index => {\r\n            if (NFTObjects) {\r\n              return (\r\n                <>\r\n                <ViewNFTItem\r\n                  key={NFTObjects[index].id}\r\n                  NFTObject={NFTObjects[index]}\r\n                  nftReadProvider={nftReadProvider}\r\n                  nftWriteProvider={nftWriteProvider}\r\n                  controlAt={controlAt}\r\n                  setControlAt={setControlAt}\r\n                  setTokenId={setTokenId}\r\n                />\r\n                </>\r\n              );\r\n            }\r\n          })}\r\n        </ItemH>\r\n      }\r\n    </Section>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  max-height: 80vh;\r\n`\r\n\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`\r\n\r\nconst Items = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n  background: #fafafa;\r\n`\r\n\r\n// Export Default\r\nexport default AllNFTs;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport {Section, Content, Item, ItemH, ItemBreak, H1, H2, H3, Image, P, Span, Anchor, Button, Showoff, FormSubmision, Input, TextField} from 'components/SharedStyling';\r\n\r\nimport { FiLink } from 'react-icons/fi';\r\n\r\nimport 'react-dropzone-uploader/dist/styles.css'\r\nimport Dropzone from 'react-dropzone-uploader'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Slider from '@material-ui/core/Slider';\r\n\r\nimport Loader from 'react-loader-spinner';\r\nimport { bigNumberify, parseUnits } from 'ethers/utils'\r\n\r\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport NFTHelper from 'helpers/NFTHelper';\r\nconst ethers = require('ethers');\r\n\r\nconst ipfs = require('ipfs-api')()\r\n\r\nconst minStakeFees = 50;\r\n\r\n// Create Header\r\nfunction TransferNFT({tokenId}) {\r\n  const { active, error, account, library, chainId } = useWeb3React();\r\n\r\n  const [nftWriteProvider, setNftWriteProvider] = React.useState(null);\r\n  const [toAddress, setToAddress] = React.useState('');\r\n\r\n  const [processing, setProcessing] = React.useState(0);\r\n  const [processingInfo, setProcessingInfo] = React.useState('');\r\n\r\n\r\n  React.useEffect(() => {\r\n    if (!!(library && account)) {\r\n      let signer = library.getSigner(account);\r\n      const signerInstance = new ethers.Contract(addresses.rockstar, abis.rockstar, signer);\r\n      setNftWriteProvider(signerInstance);\r\n    }\r\n  }, [account]);\r\n\r\n  const handleTransferNFT = async(e) => {\r\n    if(nftWriteProvider){\r\n    console.log(\"🚀 ~ file: TransferNFT.js ~ line 64 ~ handleTransferNFT ~ nftWriteProvider\", nftWriteProvider)\r\n    e.preventDefault();\r\n\r\n    if (isEmpty(toAddress)) {\r\n      setProcessing(3);\r\n      setProcessingInfo(\"Recipient address field is empty! Please retry!\");\r\n\r\n      return false;\r\n    }\r\n    setProcessing(1);\r\n    setProcessingInfo(\"Transferring NFT...\")\r\n    let signer = library.getSigner(account);\r\n    const signerInstance = new ethers.Contract(addresses.rockstar, abis.rockstar, signer)\r\n    var txPromise = nftWriteProvider['safeTransferFrom(address,address,uint256)'](account, toAddress, tokenId);\r\n    const tx = await txPromise;\r\n    console.log(tx);\r\n    console.log(\"waiting for tx to finish\");\r\n    setProcessingInfo(\"Waiting for Transfer tx to finish...\");\r\n    await library.waitForTransaction(tx.hash);\r\n    setProcessingInfo(\"Transfer successfull! \");\r\n    setProcessing(3);\r\n    }\r\n  }\r\n\r\n  const isEmpty = (field) => {\r\n    if (field.trim().length == 0) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Section>\r\n        <Content padding=\"10px 20px 20px\">\r\n          <Item align=\"flex-start\">\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span weight=\"200\">Transfer Your NFT!</Span>\r\n            </H2>\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Token #{tokenId}</Span>\r\n            </H2>\r\n          </Item>\r\n        </Content>\r\n      </Section>\r\n\r\n      <Section>\r\n        <Content padding=\"50px 0px 0px 0px\">\r\n          <FormSubmision\r\n            flex=\"1\"\r\n            direction=\"column\"\r\n            margin=\"0px\"\r\n            justify=\"center\"\r\n            size=\"1.1rem\"\r\n            onSubmit={handleTransferNFT}\r\n          >\r\n\r\n          <Item margin=\"-10px 20px 15px 20px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n            <Input\r\n              required\r\n              placeholder=\"Recipient Address\"\r\n              maxlength = \"40\"\r\n              padding=\"12px\"\r\n              borderBottom=\"1px solid #000\"\r\n              weight=\"400\"\r\n              size=\"1.2em\"\r\n              bg=\"#fff\"\r\n              value={toAddress}\r\n              onChange={(e) => {setToAddress(e.target.value)}}\r\n            />\r\n            {toAddress.trim().length == 0 &&\r\n                <Span\r\n                  padding=\"4px 10px\"\r\n                  right=\"0px\"\r\n                  top=\"0px\"\r\n                  pos=\"absolute\"\r\n                  color=\"#fff\"\r\n                  bg=\"#000\"\r\n                  size=\"0.7rem\"\r\n                  z=\"1\"\r\n                >\r\n                  Recipient Address\r\n                </Span>\r\n              }\r\n          </Item>\r\n          <Item margin=\"15px 0px 0px 0px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n            <Button\r\n              bg='#674c9f'\r\n              color='#fff'\r\n              flex=\"1\"\r\n              radius=\"0px\"\r\n              padding=\"20px 10px\"\r\n              disabled={processing == 1 ? true : false}\r\n            >\r\n              {processing == 1 &&\r\n                <Loader\r\n                    type=\"Oval\"\r\n                    color=\"#fff\"\r\n                    height={24}\r\n                    width={24}\r\n                  />\r\n              }\r\n              {processing != 1 &&\r\n                <Input cursor=\"hand\" textTransform=\"uppercase\" color=\"#fff\" weight=\"400\" size=\"0.8em\" spacing=\"0.2em\" type=\"submit\" value=\"Transfer\" />\r\n              }\r\n            </Button>\r\n          </Item>\r\n          </FormSubmision>\r\n        </Content>\r\n      </Section>\r\n\r\n      {(processing == 1 || processing == 3) &&\r\n        <Section>\r\n          <Content padding=\"0px 0px 0px 0px\">\r\n            <Item\r\n              color=\"#fff\"\r\n              bg={processing == 1 ? \"#e1087f\" : \"#000\"}\r\n              padding=\"10px 15px\"\r\n              margin = \"15px 0px\"\r\n            >\r\n              <Span\r\n                color=\"#fff\"\r\n                textTransform=\"uppercase\"\r\n                spacing=\"0.1em\"\r\n                weight=\"400\"\r\n                size=\"1em\"\r\n              >\r\n                {processingInfo}\r\n              </Span>\r\n            </Item>\r\n\r\n          </Content>\r\n        </Section>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Step = styled.div`\r\n  height: 12px;\r\n  width: 12px;\r\n  background: ${props => props.bg || \"#fff\"};\r\n  border: 4px solid ${props => props.activeBG || \"#000\"};\r\n  border-radius: 100%;\r\n\r\n  ${({ type }) => type == \"active\" && css`\r\n    background: ${props => props.activeBG || \"#ddd\"};\r\n    border: 4px solid #00000022;\r\n  `};\r\n`\r\nconst Info = styled.label`\r\n  padding-bottom: 20px;\r\n  font-size: 14px;\r\n  color: #000;\r\n`\r\n\r\nconst ChannelMetaBox = styled.label`\r\n  margin: 0px 5px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  padding: 10px 20px;\r\n  border-radius: 10px;\r\n  font-size: 15px;\r\n  // font-size: 11px;\r\n`\r\nconst Pool = styled.div`\r\n  margin: 0px 10px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`\r\n\r\nconst PoolShare = styled(ChannelMetaBox)`\r\n  background: #e20880;\r\n  // background: #674c9f;\r\n`\r\n\r\n\r\n// Export Default\r\nexport default TransferNFT;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport {Section, Content, Item, ItemH, ItemBreak, A, B, H1, H2, H3, Para, Image, P, Span, Anchor, Button, Showoff, FormSubmision, Input, TextField} from 'components/SharedStyling';\r\n\r\nimport { BsChevronExpand } from 'react-icons/bs';\r\n\r\nimport Loader from 'react-loader-spinner'\r\nimport { Waypoint } from \"react-waypoint\";\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport NFTHelper from 'helpers/NFTHelper';\r\nimport { ethers } from \"ethers\";\r\n\r\nimport DisplayNotice from \"components/DisplayNotice\";\r\nimport ViewNFTItem from \"components/ViewNFTItem\";\r\nimport MyNFTs from \"components/MyNFTs\";\r\nimport AllNFTs from \"components/AllNFTs\";\r\nimport TransferNFT from \"components/TransferNFT\";\r\n\r\n// Create Header\r\nfunction NFT({ epnsReadProvider, epnsWriteProvide }) {\r\n  const { account, library } = useWeb3React();\r\n\r\n  const [tokenId, setTokenId] = React.useState(null);\r\n  const [controlAt, setControlAt] = React.useState(0);\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  const [showAnswers, setShowAnswers] = React.useState([]);\r\n\r\n  const toggleShowAnswer = (id) => {\r\n    let newShowAnswers = [...showAnswers];\r\n    newShowAnswers[id] = !newShowAnswers[id];\r\n\r\n    setShowAnswers(newShowAnswers);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    userClickedAt(1);\r\n  }, [account]);\r\n\r\n  // handle user action at control center\r\n  const userClickedAt = (controlIndex) => {\r\n    setControlAt(controlIndex);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Section>\r\n        <Content padding=\"20px 20px 0px\">\r\n          <Item align=\"flex-start\" margin=\"0px 20px 0px 20px\">\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">$ROCKSTAR</Span><Span weight=\"200\"> of </Span><Span bg=\"#e20880\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">EPNS</Span>\r\n            </H2>\r\n            <H3>Thank you <B>community</B> for all your support. Over the next year, we are excited to continue returning our gratitude!</H3>\r\n          </Item>\r\n\r\n          <Item align=\"stretch\" justify=\"flex-start\" margin=\"0px 20px 0px 20px\">\r\n\r\n            {/* Question */}\r\n            <Item align=\"stretch\" margin=\"0px 0px 20px 0px\">\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => {toggleShowAnswer(1)}}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span>\r\n                    Does $ROCKSTAR of EPNS NFTs carry something along with NFTs?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n                </Question>\r\n\r\n                {showAnswers[1] &&\r\n                  <Answer>\r\n                    <Span>\r\n                      Yes, Each <B>$ROCKSTAR</B> contains <B>2400 $PUSH</B> tokens that can be claimed instantly!!! <AMod href=\"https://medium.com/ethereum-push-notification-service/push-token-economics-d7f566c29b1a\" target=\"_blank\" title=\"Read more about $PUSH tokeneconomics\">Learn about $PUSH Token Economics.</AMod>\r\n                    </Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => {toggleShowAnswer(2)}}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span>\r\n                    How to get $ROCKSTAR of EPNS?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n                </Question>\r\n\r\n                {showAnswers[2] &&\r\n                  <Answer>\r\n                    <Span>\r\n                      We’ll be distributing one NFT a week (every Monday) to one community member who does something to help us push the envelope forward. <AMod href=\"https://medium.com/ethereum-push-notification-service/kicking-off-the-epns-nft-community-drops-6a5c49808cf\" target=\"_blank\" title=\"Read how to get $ROCKSTAR of EPNS\">Here are some ways by which you can get one!</AMod>\r\n                    </Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n            </Item>\r\n          </Item>\r\n        </Content>\r\n\r\n        <Content padding=\"0px 20px 20px\" bg=\"#eee\">\r\n          <Item align=\"flex-start\" margin=\"0px 20px 0px 20px\">\r\n            {/*}\r\n            <Controls>\r\n              <SubscribeButton index={0} active={controlAt == 0 ? 1 : 0} onClick={() => {userClickedAt(0)}} >\r\n                <ActionTitle >My NFTs</ActionTitle>\r\n              </SubscribeButton>\r\n              <SubscribeButton index={1} active={controlAt == 1 ? 1 : 0} onClick={() => {userClickedAt(1)}}>\r\n                <ActionTitle >All NFTs</ActionTitle>\r\n              </SubscribeButton>\r\n            </Controls>\r\n            */}\r\n\r\n            {controlAt == 0 &&\r\n              <MyNFTs\r\n                controlAt={controlAt}\r\n                setControlAt={setControlAt}\r\n                setTokenId={setTokenId}\r\n              />\r\n            }\r\n            {controlAt == 1 &&\r\n              <AllNFTs\r\n                controlAt={controlAt}\r\n                setControlAt={setControlAt}\r\n                setTokenId={setTokenId}\r\n              />\r\n            }\r\n            {controlAt == 2 && tokenId &&\r\n              <TransferNFT tokenId={tokenId}/>\r\n            }\r\n          </Item>\r\n        </Content>\r\n      </Section>\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  max-height: 80vh;\r\n`\r\n\r\nconst Controls = styled.div`\r\n  flex: 0;\r\n  display: flex;\r\n  flex-direction: row;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n`\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`\r\n\r\nconst Items = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n  background: #fafafa;\r\n`\r\n\r\nconst ChannelActionButton = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: left;\r\n  // align-items: center;\r\n  justify-content: flex-end;\r\n  // justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${ props => props.disabled && css`\r\n    &:hover {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n    &:active {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n  `}\r\n`\r\n\r\nconst SubscribeButton = styled(ChannelActionButton)`\r\n  background: #e20880;\r\n`\r\n\r\nconst ActionTitle = styled.span`\r\n  ${ props => props.hideit && css`\r\n    visibility: hidden;\r\n  `};\r\n`\r\n\r\nconst Question = styled(Button)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n`\r\n\r\nconst Answer = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n\r\n`\r\n\r\nconst QnAItem = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n  flex: auto;\r\n  margin: 15px 0px;\r\n  border: 1px solid #fafafa;\r\n  border-radius: 10px;\r\n  box-shadow: 0px 5px 20px -10px rgb(0 0 0 / 0.20);\r\n  overflow: hidden;\r\n\r\n  & ${Question} {\r\n    background: transparent;\r\n    justify-content: flex-start;\r\n    text-transform: uppercase;\r\n\r\n    & ${Span} {\r\n      font-weight: 400;\r\n      letter-spacing: 0.2em;\r\n      margin-left: 10px;\r\n      flex: 1;\r\n    }\r\n\r\n    &:hover {\r\n      & ${Span} {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n\r\n  & ${Answer} {\r\n    border: 1px solid #e6e6e6;\r\n    border-top: 1px solid #e6e6e6;\r\n    border-bottom-left-radius: 10px;\r\n    border-bottom-right-radius: 10px;\r\n    padding: 10px 15px;\r\n    align-items: flex-start;\r\n    background: #fff;\r\n\r\n    & ${Span} {\r\n      line-height: 1.5em;\r\n      margin: 10px;\r\n      color: #000 ;\r\n      font-size: 1.05em;\r\n    }\r\n  }\r\n`\r\n\r\nconst AMod = styled(A)`\r\n  color: #e20880;\r\n  font-weight: 500;\r\n`\r\n\r\n// Export Default\r\nexport default NFT;\r\n","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\nimport Blockies from \"components/BlockiesIdenticon\";\r\nimport {Section, Content, Item, ItemH, ItemBreak, A, B, H1, H2, H3, Image, P, Span, Anchor, Button, Showoff, FormSubmision, Input, TextField} from 'components/SharedStyling';\r\nimport { Device } from 'assets/Device';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport Skeleton from '@yisheng90/react-loading';\r\nimport { FiTwitter } from 'react-icons/fi';\r\nimport { FaPlusCircle } from 'react-icons/fa';\r\nimport { IoMdShareAlt } from 'react-icons/io';\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { ethers } from \"ethers\";\r\nimport { keccak256, arrayify, hashMessage, recoverPublicKey } from 'ethers/utils';\r\n\r\nfunction ViewDelegateeItem({ delegateeObject, epnsToken, pushBalance, theme }) {\r\n  const { account, library } = useWeb3React();\r\n  const [ loading, setLoading ] = React.useState(true);\r\n  const [ txInProgress, setTxInProgress ] = React.useState(false);\r\n  const [ isBalance, setIsBalance ] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    setLoading(false);\r\n    if(pushBalance !== 0){\r\n      setIsBalance(true)\r\n    }\r\n  }, [account, delegateeObject]);\r\n\r\n  const delegateAction = async (delegateeAddress) => {\r\n    setTxInProgress(true);\r\n    if (!isBalance) {\r\n      toast.dark(\"No PUSH to Delegate!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n\r\n      setTxInProgress(false);\r\n      return;\r\n    }\r\n    let sendWithTxPromise;\r\n    sendWithTxPromise = epnsToken.delegate(delegateeAddress);\r\n    sendWithTxPromise\r\n      .then(async tx => {\r\n        let txToast = toast.dark(<LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\"/>, {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n        try {\r\n          await library.waitForTransaction(tx.hash);\r\n          toast.update(txToast, {\r\n            render: \"Transaction Completed!\",\r\n            type: toast.TYPE.SUCCESS,\r\n            autoClose: 5000\r\n          });\r\n          setTxInProgress(false);\r\n        }\r\n        catch(e) {\r\n          toast.update(txToast, {\r\n            render: \"Transaction Failed! (\" + e.name + \")\",\r\n            type: toast.TYPE.ERROR,\r\n            autoClose: 5000\r\n          });\r\n          setTxInProgress(false);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        toast.dark('Transaction Cancelled!', {\r\n          position: \"bottom-right\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n        setTxInProgress(false);\r\n      })\r\n  }\r\n\r\n  // toast customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Loader\r\n       type=\"Oval\"\r\n       color={color}\r\n       height={30}\r\n       width={30}\r\n      />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  )\r\n\r\n  // render\r\n  return (\r\n    <Item\r\n      key={delegateeObject.wallet}\r\n    >\r\n      <DelegateeItem\r\n        theme={theme}\r\n      >\r\n        <DelegateeImageOuter>\r\n          <DelegateeImageInner>\r\n            {loading &&\r\n              <Skeleton color=\"#eee\" width=\"100%\" height=\"100%\" />\r\n            }\r\n            {!loading && delegateeObject.pic &&\r\n              <Image\r\n                src={`./delegatees/${delegateeObject.pic}.jpg`}\r\n                srcSet={`./delegatees/${delegateeObject.pic}@2x.jpg 2x, ./delegatees/${delegateeObject.pic}@3x.jpg 3x`}\r\n                alt= {delegateeObject.name}\r\n              />\r\n            }\r\n            {!loading && !delegateeObject.pic &&\r\n              <Blockies seed={delegateeObject.wallet.toLowerCase()} opts={{seed: delegateeObject.wallet.toLowerCase(), size: 30, scale: 10}}/>\r\n            }\r\n          </DelegateeImageInner>\r\n\r\n          <ItemH\r\n            position=\"absolute\"\r\n            top=\"10px\"\r\n            left=\"10px\"\r\n            bg=\"#00000088\"\r\n            padding=\"6px 10px\"\r\n            radius=\"22px\"\r\n          >\r\n            <FaPlusCircle size={12} color=\"#fff\"/>\r\n            <Span size=\"12px\" color=\"#fff\" padding=\"0px 0px 0px 10px\" spacing=\"0.2em\" weight=\"600\" textAlign=\"center\">{delegateeObject.votingPower.toLocaleString()}</Span>\r\n          </ItemH>\r\n        </DelegateeImageOuter>\r\n\r\n        <DelegateeProfile>\r\n          <Item>\r\n            <ItemH>\r\n              <Span weight=\"400\" textAlign=\"center\">{delegateeObject.name}</Span>\r\n              <Anchor\r\n                href={delegateeObject.url}\r\n                target=\"_blank\"\r\n                title={\"Visit Twitter profile of \" + delegateeObject.name}\r\n                bg=\"transparent\"\r\n                radius=\"4px\"\r\n                padding=\"4px\"\r\n                margin=\"0px 6px\"\r\n              >\r\n                <FiTwitter size={12} color=\"#35c5f3\" />\r\n              </Anchor>\r\n            </ItemH>\r\n\r\n            <DelegateeWallet size=\"0.5em\" color=\"#aaa\" spacing=\"0.2em\" weight=\"600\" textAlign=\"center\">{delegateeObject.wallet}</DelegateeWallet>\r\n          </Item>\r\n          <ItemBreak></ItemBreak>\r\n          <UnsubscribeButton >\r\n            <ActionTitle onClick={() => {delegateAction(delegateeObject.wallet)\r\n            }}\r\n              >Delegate</ActionTitle>\r\n          </UnsubscribeButton>\r\n\r\n          <Item\r\n            position=\"absolute\"\r\n            bottom=\"2px\"\r\n            left=\"-2px\"\r\n            padding=\"4px\"\r\n          >\r\n            <Anchor\r\n              href={delegateeObject.forum}\r\n              target=\"_blank\"\r\n              title={\"Visit forum post of \" + delegateeObject.name}\r\n              bg=\"transparent\"\r\n              radius=\"4px\"\r\n              padding=\"2px\"\r\n            >\r\n              <IoMdShareAlt size={16} color=\"#fff\" />\r\n            </Anchor>\r\n          </Item>\r\n        </DelegateeProfile>\r\n      </DelegateeItem>\r\n    </Item>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  border: 1px solid rgb(237, 237, 237);\r\n\r\n  margin: 15px 0px;\r\n  justify-content: center;\r\n  padding: 0px;\r\n`\r\n\r\nconst DelegateeItem = styled.div`\r\n  max-width: 220px;\r\n  min-width: 220px;\r\n  flex: 1;\r\n  margin: 20px 20px;\r\n  padding: 4px;\r\n  border: 2px solid #fafafa;\r\n  overflow: hidden;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-self: flex-start;\r\n  position: relative;\r\n\r\n  &:before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${props => props.theme == \"nominee\" ? \"#35c5f3\" : \"linear-gradient( 283deg, #34c5f2 0%, #e20880 45%, #35c5f3 100%)\"};\r\n  }\r\n`\r\n\r\nconst DelegateeImageOuter = styled.div`\r\n  padding-top: 100%;\r\n  position: relative;\r\n`\r\n\r\nconst DelegateeImageInner = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  border-top-right-radius: 16px;\r\n  border-top-left-radius: 16px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst DelegateeProfile = styled(ItemH)`\r\n  background: #fff;\r\n  border-bottom-right-radius: 16px;\r\n  border-bottom-left-radius: 90px;\r\n  padding: 20px;\r\n`\r\n\r\nconst DelegateeWallet = styled(Span)`\r\n  word-break: break-all;\r\n  padding-top: 4px;\r\n`\r\n\r\nconst LineBreak = styled.div`\r\n  display: none;\r\n  flex-basis: 100%;\r\n  height: 0;\r\n\r\n  @media ${Device.tablet} {\r\n    display: block;\r\n  }\r\n`\r\n\r\nconst ChannelActions = styled.div`\r\n  margin: 5px;\r\n  flex-grow: 1;\r\n  max-width: 120px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst ChannelActionButton = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${ props => props.disabled && css`\r\n    &:hover {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n    &:active {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n  `}\r\n`\r\n\r\nconst ActionTitle = styled.span`\r\n  ${ props => props.hideit && css`\r\n    visibility: hidden;\r\n  `};\r\n`\r\n\r\nconst ActionLoader = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst SkeletonButton = styled.div`\r\n  border: 0;\r\n  outline: 0;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 10px;\r\n  border-radius: 5px;\r\n  flex: 1;\r\n`\r\n\r\nconst SubscribeButton = styled(ChannelActionButton)`\r\n  background: #e20880;\r\n`\r\n\r\nconst UnsubscribeButton = styled(ChannelActionButton)`\r\n  background: #000;\r\n`\r\n\r\nconst DisabledDelegate = styled(ChannelActionButton)`\r\n  background: #ccc;\r\n`\r\nconst OwnerButton = styled(ChannelActionButton)`\r\n  background: #35c5f3;\r\n`\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`\r\nconst NFTTextStyle = styled.label`\r\n  margin: 0px 5px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  padding: 2px 8px;\r\n  border-radius: 10px;\r\n  font-size: 11px;\r\n`\r\nconst NFTStatus = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n\r\n  position: absolute;\r\n  bottom: 10px;\r\n  right: 10px;\r\n`\r\n\r\nconst NFTStatusTitle = styled(NFTTextStyle)`\r\n  background: #35c4f3;\r\n`\r\n\r\nconst NFTClaim = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n\r\n  position: absolute;\r\n  bottom: 10px;\r\n  left: 10px;\r\n`\r\n\r\nconst NFTClaimTitle = styled(NFTTextStyle)`\r\n  background: #e20880;\r\n`\r\nconst Blocky = styled.div`\r\n  position: relative;\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 100%;\r\n  overflow: hidden;\r\n  transform: scale(0.85);\r\n  outline-width: 2px;\r\n  outline-color: rgba(225,225,225,1);\r\n`\r\n// Export Default\r\nexport default ViewDelegateeItem;\r\n","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\nimport {Section, Content, Item, ItemH, ItemBreak, A, B, H1, H2, H3,LI, Image, P, Span, Anchor, Button, FormSubmision, Input, TextField, UL} from 'components/SharedStyling';\r\nimport Loader from 'react-loader-spinner'\r\nimport { Waypoint } from \"react-waypoint\";\r\nimport { BsChevronExpand } from 'react-icons/bs';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\nimport { ethers } from \"ethers\";\r\n\r\nimport Blockies from \"components/BlockiesIdenticon\";\r\n\r\nimport DisplayNotice from \"components/DisplayNotice\";\r\nimport ViewDelegateeItem from \"components/ViewDelegateeItem\";\r\n\r\nimport ChannelsDataStore, { ChannelEvents } from \"singletons/ChannelsDataStore\";\r\nimport UsersDataStore, { UserEvents } from \"singletons/UsersDataStore\";\r\nconst delegateesJSON = require(\"config/delegatees.json\")\r\nconst VOTING_TRESHOLD = 75000; //the treshold for delegates\r\n// Create Header\r\nfunction Delegate({ epnsReadProvider, epnsWriteProvide }) {\r\n  const { account, library } = useWeb3React();\r\n\r\n  const [address, setAddress] = React.useState('');\r\n  const [ens, setENS] = React.useState('');\r\n  const [ensFetched, setENSFetched] = React.useState(false);\r\n\r\n  const [dashboardLoading, setDashboardLoading] = React.useState(true);\r\n  const [delegateesLoading, setDelegateesLoading] = React.useState(true);\r\n\r\n  const [txInProgress, setTxInProgress ] = React.useState(false);\r\n  const [controlAt, setControlAt] = React.useState(0);\r\n  const [user, setUser] = React.useState(null);\r\n  const [owner, setOwner] = React.useState(null);\r\n  const [delegateesObject, setDelegateesObject] = React.useState({});\r\n  const [pushDelegatees, setPushDelegatees] = React.useState([]);\r\n  const [pushNominees, setPushNominees] = React.useState([]);\r\n  const [epnsToken, setEpnsToken] = React.useState(null);\r\n  const [tokenBalance, setTokenBalance] = React.useState(null);\r\n  const [prettyTokenBalance, setPrettyTokenBalance] = React.useState(null);\r\n\r\n  const [showDelegateePrompt, setShowDelegateePrompt] = React.useState(false);\r\n  const [delegatee, setDelegatee] = React.useState(null);\r\n\r\n  const [showAnswers, setShowAnswers] = React.useState([]);\r\n  const [selfVotingPower, setSelfVotingPower ] = React.useState(null);\r\n  const [newDelegateeAddress, setNewDelegateeAddress ] = React.useState(\"0x\");\r\n  const [newDelegateeVotingPower, setNewDelegateeVotingPower ] = React.useState(null);\r\n\r\n  const toggleShowAnswer = (id) => {\r\n    let newShowAnswers = [...showAnswers];\r\n    newShowAnswers[id] = !newShowAnswers[id];\r\n    setShowAnswers(newShowAnswers);\r\n  }\r\n\r\n\r\n  React.useEffect(() => {\r\n    if (account && account != '') {\r\n      // Check if the address is the same\r\n      if (address !== account) {\r\n        setENS('');\r\n        setENSFetched(false);\r\n\r\n        // get ens\r\n        library\r\n          .lookupAddress(account).then(function(name) {\r\n            setENS(name);\r\n            setENSFetched(true);\r\n            setAddress(account);\r\n          })\r\n          .catch(() => {\r\n            setENSFetched(true);\r\n            setAddress(account);\r\n          })\r\n      }\r\n\r\n    }\r\n  }, [account]);\r\n\r\n  React.useEffect(() => {\r\n    console.log(account)\r\n    if (!!(library && account)) {\r\n      let signer = library.getSigner(account);\r\n      const epnsTokenContract = new ethers.Contract(addresses.epnsToken, abis.epnsToken, signer);\r\n      setEpnsToken(epnsTokenContract);\r\n    }\r\n  }, [account,library]);\r\n\r\n  React.useEffect(() => {\r\n    if(epnsToken){\r\n      getMyInfo()\r\n    }\r\n  }, [epnsToken,account,library, prettyTokenBalance, tokenBalance]);\r\n\r\n  React.useEffect(() => {\r\n    setDashboardLoading(false);\r\n  }, [account]);\r\n\r\n  React.useEffect(() => {\r\n    if(!epnsToken) return;\r\n    const delegateesList = Object.values(delegateesJSON);\r\n    // write helper function to sort by voting power\r\n    const votingPowerSorter = (a, b) => {\r\n      return  b.votingPower - a.votingPower\r\n    };\r\n\r\n\r\n    // go through all the delegates json and get their voting power\r\n    const allDelegateesPromise = delegateesList.map(async (oneDelegate:any) => {\r\n      const { wallet } = oneDelegate;\r\n      const votingPower = await EPNSCoreHelper.getVotingPower(wallet, epnsToken);\r\n      return {...oneDelegate, votingPower: Number(votingPower)};\r\n    });\r\n\r\n\r\n    Promise.all(allDelegateesPromise).then((allDelegatees) => {\r\n      // filter for delegates (i.e) Those who have above 75000 power,\r\n      // use the parameter votingPowerSimulate parameter to simulate voting power above the treshold\r\n      const delegateesAbove75k = allDelegatees.filter(({votingPower, votingPowerSimulate}) => {\r\n        return (votingPower >=  VOTING_TRESHOLD)\r\n      });\r\n\r\n      // sort by voting power\r\n      const sortedDelegatees = [...delegateesAbove75k].sort(votingPowerSorter);\r\n      setPushDelegatees(sortedDelegatees);\r\n\r\n      // calculate for  the nominees (i.e peoplw who have voting power less than 75k)\r\n      const delegateesBelow75k = allDelegatees.filter(({votingPower}) => {\r\n        return votingPower <  VOTING_TRESHOLD\r\n      });\r\n\r\n      const sortedNominees = [...delegateesBelow75k].sort(votingPowerSorter);\r\n\r\n      // sort by voting power\r\n      setPushNominees(sortedNominees);\r\n\r\n      setDelegateesLoading(false);\r\n    })\r\n    setDelegateesObject(delegateesJSON)\r\n    // in order to\r\n  }, [epnsToken])\r\n\r\n  const isValidAddress = (address) => {\r\n    if(ethers.utils.isAddress(address)){\r\n      return true\r\n    }\r\n    else{\r\n      toast.dark(\"Invalid address!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return false;\r\n    }\r\n  }\r\n\r\n  const getVotingPower = async (address) => {\r\n    try{\r\n      const votingPower = await EPNSCoreHelper.getVotingPower(address, epnsToken, true)\r\n      setNewDelegateeVotingPower(votingPower)\r\n    }\r\n    catch(err){\r\n    console.log(\"🚀 ~ file: Delegate.tsx ~ line 86 ~ getVotingPower ~ err\", err)\r\n    }\r\n  }\r\n\r\n  const getMyInfo = async () => {\r\n    let bal = await epnsToken.balanceOf(account)\r\n    let decimals =  await epnsToken.decimals()\r\n    let tokenBalance = await Number(bal/Math.pow(10, decimals))\r\n    let newBal = parseFloat(tokenBalance.toLocaleString()).toFixed(3);\r\n    let delegatee = await epnsToken.delegates(account)\r\n    let votes = await epnsToken.getCurrentVotes(account)\r\n    let votingPower = await Number(votes/Math.pow(10, decimals))\r\n    let prettyVotingPower = parseFloat(votingPower.toLocaleString()).toFixed(3);\r\n    setTokenBalance(tokenBalance)\r\n    setPrettyTokenBalance(newBal)\r\n    setDelegatee(delegatee)\r\n    setSelfVotingPower(prettyVotingPower)\r\n  }\r\n\r\n  const delegateAction = async (newDelegatee) => {\r\n    setTxInProgress(true);\r\n\r\n    const isAddress = await isValidAddress(newDelegatee)\r\n    console.log(isAddress)\r\n    if(!isAddress){\r\n      setTxInProgress(false);\r\n      return;\r\n    }\r\n    if (tokenBalance == 0) {\r\n      toast.dark(\"No PUSH to Delegate!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      setTxInProgress(false);\r\n      return;\r\n    }\r\n\r\n    let sendWithTxPromise;\r\n    sendWithTxPromise = epnsToken.delegate(newDelegatee);\r\n    sendWithTxPromise\r\n      .then(async tx => {\r\n\r\n        let txToast = toast.dark(<LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\"/>, {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n\r\n        try {\r\n          await library.waitForTransaction(tx.hash);\r\n\r\n          toast.update(txToast, {\r\n            render: \"Transaction Completed!\",\r\n            type: toast.TYPE.SUCCESS,\r\n            autoClose: 5000\r\n          });\r\n\r\n          setTxInProgress(false);\r\n          setShowDelegateePrompt(false);\r\n        }\r\n        catch(e) {\r\n          toast.update(txToast, {\r\n            render: \"Transaction Failed! (\" + e.name + \")\",\r\n            type: toast.TYPE.ERROR,\r\n            autoClose: 5000\r\n          });\r\n\r\n          setTxInProgress(false);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        toast.dark('Transaction Cancelled!', {\r\n          position: \"bottom-right\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      })\r\n  }\r\n\r\n\r\n\r\n  // handle user action at control center\r\n  const userClickedAt = (controlIndex) => {\r\n    setControlAt(controlIndex);\r\n  }\r\n\r\n  // toast customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Loader\r\n       type=\"Oval\"\r\n       color={color}\r\n       height={30}\r\n       width={30}\r\n      />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  )\r\n\r\n  return (\r\n    <Section>\r\n      <Content theme=\"#f3f3f3\" padding=\"20px 20px 30px 20px\">\r\n        <Item align=\"stretch\" justify=\"flex-start\" margin=\"0px 15px 15px 15px\">\r\n          {(dashboardLoading || !prettyTokenBalance || !selfVotingPower) &&\r\n            <Item padding=\"20px\">\r\n              <Loader type=\"Oval\" color=\"#e20880\" height={40} width={40} />\r\n            </Item>\r\n          }\r\n\r\n          {!dashboardLoading && prettyTokenBalance && selfVotingPower &&\r\n            <Item margin=\"10px 0px 0px 0px\" self=\"stretch\" items=\"stretch\">\r\n              <StatsCard\r\n                align=\"stretch\"\r\n                justify=\"flex-start\"\r\n                self=\"stretch\"\r\n                bg=\"#fff\"\r\n                op=\"1\"\r\n              >\r\n                <StatsHeading bg=\"#e20880\">Governance Dashboard</StatsHeading>\r\n                <StatsContent>\r\n                  <ItemH align=\"stretch\" self=\"stretch\">\r\n                    <Item align=\"center\" self=\"center\" flex=\"initial\" padding=\"10px\">\r\n                      <Blocky>\r\n                        <BlockyInner>\r\n                           <Blockies seed={account.toLowerCase()} opts={{seed: account.toLowerCase(), size: 10, scale: 10}}/>\r\n                        </BlockyInner>\r\n                      </Blocky>\r\n                      <Wallet>\r\n                      {!ensFetched &&\r\n                        <Loader\r\n                           type=\"Oval\"\r\n                           color=\"#FFF\"\r\n                           height={16}\r\n                           width={16}\r\n                        />\r\n                      }\r\n                      {ensFetched && ens &&\r\n                        <>{ens}</>\r\n                      }\r\n                      {ensFetched && !ens &&\r\n                        <>{account.substring(0, 6)}.....{account.substring(account.length - 6)}</>\r\n                      }\r\n                      </Wallet>\r\n                    </Item>\r\n\r\n                    <Item align=\"flex-start\" self=\"stretch\" padding=\"10px\" size=\"16px\">\r\n                      <ItemH flex=\"initial\" padding=\"5px\">\r\n                        <Span weight=\"500\" padding=\"0px 8px 0px 0px\">$PUSH Balance: </Span>\r\n                        <CurvedSpan bg=\"#e20880\" color=\"#fff\" weight=\"600\" padding=\"4px 8px\" textTransform=\"uppercase\">{prettyTokenBalance}</CurvedSpan>\r\n                      </ItemH>\r\n\r\n                      <ItemH flex=\"initial\" padding=\"5px\">\r\n                        <Span weight=\"500\"  padding=\"0px 8px 0px 0px\">Voting Power: </Span>\r\n                        <CurvedSpan bg=\"#35c5f3\" color=\"#fff\" weight=\"600\" padding=\"4px 8px\" textTransform=\"uppercase\">{selfVotingPower}</CurvedSpan>\r\n                      </ItemH>\r\n\r\n                      {delegatee !== \"0x0000000000000000000000000000000000000000\" &&\r\n                        <ItemH flex=\"initial\" padding=\"5px\">\r\n                          <Span padding=\"0px 8px 0px 0px\">Delegated To: </Span>\r\n                          <Span weight=\"600\">{delegatee}</Span>\r\n                        </ItemH>\r\n                      }\r\n                    </Item>\r\n                  </ItemH>\r\n\r\n                  {showDelegateePrompt &&\r\n                    <Item\r\n                      bg=\"#eeeeeeee\"\r\n                      position=\"absolute\"\r\n                      top=\"0\"\r\n                      bottom=\"0\"\r\n                      left=\"0\"\r\n                      right=\"0\"\r\n                    >\r\n                      <Item align=\"stretch\" self=\"stretch\" margin=\"0px 20px 40px 20px\">\r\n                        <Span color=\"#000\" weight=\"400\">Enter delegatee address</Span><br></br>\r\n                        <Input\r\n                          placeholder=\"Enter delegatee address\"\r\n                          radius=\"4px\"\r\n                          padding=\"12px\"\r\n                          self=\"stretch\"\r\n                          bg=\"#fff\"\r\n                          value={newDelegateeAddress}\r\n                          onChange={async(e) => {\r\n                            setNewDelegateeAddress(e.target.value)\r\n                            setNewDelegateeVotingPower(null)\r\n                          }}\r\n                        />\r\n                        {newDelegateeVotingPower && newDelegateeAddress &&\r\n                          <StatsInnerTitle>Voting Power: {newDelegateeVotingPower}</StatsInnerTitle>\r\n                        }\r\n                      </Item>\r\n\r\n                    </Item>\r\n                  }\r\n\r\n                  <Item self=\"stretch\" align=\"flex-end\">\r\n                    <ItemH>\r\n\r\n                      <ButtonAlt\r\n                        bg={txInProgress ? \"#999\" : \"#e20880\"}\r\n                        disabled={txInProgress ? true : false}\r\n                        onClick={() => {\r\n                          if (showDelegateePrompt) {\r\n                            delegateAction(newDelegateeAddress)\r\n                          }\r\n                          else {\r\n                            setShowDelegateePrompt(true)\r\n                          }\r\n                        }}\r\n                        >\r\n                          <Span color=\"#fff\" weight=\"400\">Delegate to Others</Span>\r\n                      </ButtonAlt>\r\n\r\n                      {!showDelegateePrompt &&\r\n                        <ButtonAlt\r\n                          bg={txInProgress ? \"#999\" : \"#51CAF3\"}\r\n                          disabled={txInProgress ? true : false}\r\n                          onClick={() => { delegateAction(account)}}\r\n                        >\r\n                            <Span color=\"#fff\" weight=\"400\">Delegate to Myself</Span>\r\n                        </ButtonAlt>\r\n                      }\r\n\r\n                      <ButtonAlt\r\n                        bg={\"#000\"}\r\n                        onClick={\r\n                          () => {\r\n                            if (showDelegateePrompt) {\r\n                              getVotingPower(newDelegateeAddress)\r\n                            }\r\n                            else {\r\n                              setShowDelegateePrompt(true)\r\n                            }\r\n                          }\r\n                        }\r\n                      >\r\n                        <Span color=\"#fff\" weight=\"400\">Query Voting Power</Span>\r\n                      </ButtonAlt>\r\n\r\n                      {showDelegateePrompt &&\r\n                        <ButtonAlt\r\n                          bg=\"#000\"\r\n                          onClick={() => { setShowDelegateePrompt(false) }}\r\n                        >\r\n                            <Span color=\"#fff\" weight=\"400\">Close</Span>\r\n                        </ButtonAlt>\r\n                      }\r\n                    </ItemH>\r\n\r\n                  </Item>\r\n                </StatsContent>\r\n                <StatsPreview color=\"#e20880\">MY INFO</StatsPreview>\r\n              </StatsCard>\r\n            </Item>\r\n          }\r\n        </Item>\r\n\r\n        <Item align=\"stretch\" justify=\"flex-start\" margin=\"15px 15px 0px 15px\">\r\n          <StatsCard\r\n            align=\"stretch\"\r\n            justify=\"flex-start\"\r\n            self=\"stretch\"\r\n            bg=\"#fff\"\r\n          >\r\n            <StatsHeading bg=\"#35c5f3\">Meet the PUSH Nominees</StatsHeading>\r\n            <NomineeContainer>\r\n              {delegateesLoading ? (\r\n                  <ContainerInfo>\r\n                    <Loader\r\n                      type=\"Oval\"\r\n                      color=\"#35c5f3\"\r\n                      height={40}\r\n                      width={40}\r\n                    />\r\n                  </ContainerInfo>\r\n                ) : (\r\n                  <AbsoluteWrapper>\r\n                    {\r\n                      pushNominees.map((onePushNominee) => {\r\n                        return (\r\n                          <ViewDelegateeItem\r\n                            key={onePushNominee.wallet}\r\n                            delegateeObject={onePushNominee}\r\n                            epnsToken={epnsToken}\r\n                            pushBalance={tokenBalance}\r\n                            theme=\"nominee\"\r\n                          />\r\n                        )\r\n                      })\r\n                    }\r\n                  </AbsoluteWrapper>\r\n                )\r\n              }\r\n            </NomineeContainer>\r\n          </StatsCard>\r\n        </Item>\r\n      </Content>\r\n\r\n      <Content padding=\"20px 20px 0px\">\r\n        <Item align=\"flex-start\" margin=\"0px 15px 0px 15px\">\r\n          <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n            <Span weight=\"200\">PUSH </Span><Span bg=\"#35c5f3\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">DELEGATEES</Span>\r\n          </H2>\r\n          <H3>Let's start <B>governing!!</B> </H3>\r\n        </Item>\r\n\r\n        <Item>\r\n          {dashboardLoading &&\r\n            <ContainerInfo>\r\n              <Loader\r\n                type=\"Oval\"\r\n                color=\"#35c5f3\"\r\n                height={40}\r\n                width={40}\r\n              />\r\n            </ContainerInfo>\r\n          }\r\n\r\n          {!dashboardLoading && controlAt == 0 &&\r\n            <ItemH\r\n              padding=\"0px 20px 20px 20px\"\r\n              self=\"stretch\"\r\n            >\r\n              {pushDelegatees.length == 0  &&\r\n                <Item align=\"flex-start\" self=\"stretch\">\r\n                  <Span padding=\"10px 10px\" margin=\"10px 0px\" bg=\"#666\" color=\"#fff\" weight=\"600\">🤷 Awkward!!</Span>\r\n                  <Span padding=\"10px 10px\" margin=\"10px 0px\" bg=\"#666\" color=\"#fff\" weight=\"600\">Show some 💕 to Nominees to kickstart Governance!</Span>\r\n                </Item>\r\n              }\r\n              {pushDelegatees.length > 0  &&\r\n                pushDelegatees.map((oneDelegatee) => {\r\n                  return (\r\n                    <>\r\n                    <ViewDelegateeItem\r\n                      key={oneDelegatee.wallet}\r\n                      delegateeObject={oneDelegatee}\r\n                      epnsToken={epnsToken}\r\n                      pushBalance={tokenBalance}\r\n                      theme=\"delegate\"\r\n                    />\r\n                    </>\r\n                  );\r\n                })\r\n              }\r\n            </ItemH>\r\n          }\r\n        </Item>\r\n      </Content>\r\n\r\n      {/* FAQs */}\r\n      <Content padding=\"20px 20px 35px\" theme=\"#fff\">\r\n        <Item align=\"stretch\" justify=\"flex-start\" margin=\"-10px 20px 0px 20px\">\r\n\r\n          {/* Question */}\r\n          <Item align=\"stretch\" margin=\"0px 0px 0px 0px\">\r\n            <QnAItem>\r\n              <Question\r\n                onClick={() => {toggleShowAnswer(0)}}\r\n                hover=\"#e20880\"\r\n              >\r\n                <Span>\r\n                  What are PUSH Delegatees?\r\n                </Span>\r\n                <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n              </Question>\r\n\r\n              {showAnswers[0] &&\r\n                <Answer>\r\n                  <Span>\r\n                    Active community members who have at least <b>75,000 $PUSH</b> delegated to them.\r\n                    They will be able to create proposals on Snapshot that are approved on the <AMod href=\"https://gov.epns.io/\"> forum </AMod>\r\n                  </Span>\r\n                </Answer>\r\n              }\r\n            </QnAItem>\r\n\r\n            <QnAItem>\r\n              <Question\r\n                onClick={() => {toggleShowAnswer(1)}}\r\n                hover=\"#e20880\"\r\n              >\r\n                <Span>\r\n                  What are PUSH Nominees\r\n                </Span>\r\n                <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n              </Question>\r\n\r\n              {showAnswers[1] &&\r\n                <Answer>\r\n                  <Span>\r\n                  Active community members who can be delegated $PUSH to vote for proposals Snapshot. If you wish to be PUSH Nominee, submit your nomination \r\n                  <AMod href=\"https://gov.epns.io/t/epns-push-delegatee-nominations/21\"> here. </AMod>\r\n                   Once they get at least <b>75,000 $PUSH </b> delegated to them, they become a PUSH Delegatee.\r\n                  </Span>\r\n                </Answer>\r\n              }\r\n            </QnAItem>\r\n\r\n            <QnAItem>\r\n              <Question\r\n                onClick={() => {toggleShowAnswer(2)}}\r\n                hover=\"#e20880\"\r\n              >\r\n                <Span>\r\n                  How can I become a PUSH Nominee?\r\n                </Span>\r\n                <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n              </Question>\r\n\r\n              {showAnswers[2] &&\r\n                <Answer>\r\n                  <Span>Step-by-step process:</Span>\r\n                  <UL>\r\n                    <LI>\r\n                      <Span>Sign up on:- <AMod href=\"https://gov.epns.io/\" target=\"_blank\" title=\"Join our EPNS's Telegram channel\">EPNS Governance Portal</AMod></Span>\r\n                    </LI>\r\n                    <LI>\r\n                      <Span>Go to:- <AMod href=\"https://gov.epns.io/t/epns-push-delegatee-nominations/21\" target=\"_blank\" title=\"Join our EPNS's Telegram channel\">https://gov.epns.io/t/epns-push-delegatee-nominations/21</AMod></Span>\r\n                    </LI>\r\n                    <LI>\r\n                      <Span>Submit your nomination by replying to the above post in the PROPOSED TEMPLATE.</Span>\r\n                    </LI>\r\n                  </UL>\r\n                  <Span>\r\n                    Now, once your nomination receives minimum of 10 likes,\r\n                    We will be adding your wallet address on our Governance Front end within 5-7 days.\r\n                    And later community members can start delegating votes to you.\r\n                  </Span>\r\n                </Answer>\r\n              }\r\n            </QnAItem>\r\n\r\n            <QnAItem>\r\n              <Question\r\n                onClick={() => {toggleShowAnswer(3)}}\r\n                hover=\"#e20880\"\r\n              >\r\n                <Span>\r\n                  What if I don't wish to be a PUSH Nominee?\r\n                </Span>\r\n                <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n              </Question>\r\n\r\n              {showAnswers[3] &&\r\n                <Answer>\r\n                  <Span>\r\n                    No problem! You can show support to your favourite PUSH Nominees by liking their nominations <AMod href=\"https://gov.epns.io/t/epns-push-delegatee-nominations/21\">here</AMod>.\r\n                  </Span>\r\n                </Answer>\r\n              }\r\n            </QnAItem>\r\n\r\n            <QnAItem>\r\n              <Question\r\n                onClick={() => {toggleShowAnswer(4)}}\r\n                hover=\"#e20880\"\r\n              >\r\n                <Span>\r\n                  Where should I start?\r\n                </Span>\r\n                <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n              </Question>\r\n\r\n              {showAnswers[4] &&\r\n                <Answer>\r\n                  <Span>Visit <AMod href=\"https://gov.epns.io/\" target=\"_blank\" title=\"Join our EPNS's Telegram channel\">EPNS Governance Portal</AMod> and introduce yoursef on the platform in the suggested format.</Span>\r\n\r\n                </Answer>\r\n              }\r\n            </QnAItem>\r\n\r\n            <QnAItem>\r\n              <Question\r\n                onClick={() => {toggleShowAnswer(5)}}\r\n                hover=\"#e20880\"\r\n              >\r\n                <Span>\r\n                  What happens to the delegated voting power when I sell my PUSH tokens?\r\n                </Span>\r\n                <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n              </Question>\r\n\r\n              {showAnswers[5] &&\r\n                <Answer>\r\n                  <Span>If you delegate your voting power to someone/yourself and later you sell your\r\n                    PUSH tokens, then the voting power of those tokens gets revoked. Now the new owner gets to decide whom to delegate to. </Span>\r\n\r\n                </Answer>\r\n              }\r\n            </QnAItem>\r\n\r\n            <QnAItem>\r\n              <Question\r\n                onClick={() => {toggleShowAnswer(6)}}\r\n                hover=\"#e20880\"\r\n              >\r\n                <Span>\r\n                  How can I cast my vote?\r\n                </Span>\r\n                <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n              </Question>\r\n\r\n              {showAnswers[6] &&\r\n                <Answer>\r\n                  <Span>Please visit <AMod href=\"https://snapshot.org/#/epns.eth\" target=\"_blank\" title=\"EPNS Governance - Snapshot Portal\">EPNS Governance - Snapshot Portal</AMod> to view the ongoing on-chain proposals and cast your vote.</Span>\r\n                </Answer>\r\n              }\r\n            </QnAItem>\r\n\r\n            <QnAItem>\r\n              <Question\r\n                onClick={() => {toggleShowAnswer(7)}}\r\n                hover=\"#e20880\"\r\n              >\r\n                <Span>\r\n                  How can I keep up with EPNS Governance?\r\n                </Span>\r\n                <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n              </Question>\r\n\r\n              {showAnswers[7] &&\r\n                <Answer>\r\n                  <Span>Join our <AMod href=\"https://t.me/epnsproject\" target=\"_blank\" title=\"Join our EPNS's Telegram channel\">Telegram</AMod>, follow us on <AMod href=\"https://twitter.com/epnsproject\" target=\"_blank\" title=\"Join our EPNS's Twitter channel\">Twitter</AMod>, and sign up for our 5 minute <AMod href=\"https://epns.substack.com/\" target=\"_blank\" title=\"Join our EPNS's Twitter channel\">weekly product updates</AMod>.</Span>\r\n                </Answer>\r\n              }\r\n            </QnAItem>\r\n          </Item>\r\n        </Item>\r\n      </Content>\r\n    </Section>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  max-height: 80vh;\r\n`\r\n\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`\r\n\r\nconst Items = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n  background: #fafafa;\r\n`\r\nconst Question = styled(Button)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n  background: #fff;\r\n`\r\nconst Answer = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n`\r\n\r\nconst QnAItem = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n  flex: auto;\r\n  margin: 15px 0px;\r\n  border: 1px solid #fafafa;\r\n  border-radius: 10px;\r\n  box-shadow: 0px 5px 20px -10px rgb(0 0 0 / 0.20);\r\n  overflow: hidden;\r\n\r\n  & ${Question} {\r\n    background: transparent;\r\n    justify-content: flex-start;\r\n    text-transform: uppercase;\r\n\r\n    & ${Span} {\r\n      font-weight: 400;\r\n      letter-spacing: 0.2em;\r\n      margin-left: 10px;\r\n      flex: 1;\r\n    }\r\n\r\n    &:hover {\r\n      & ${Span} {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n\r\n  & ${Answer} {\r\n    border: 1px solid #e6e6e6;\r\n    border-top: 1px solid #e6e6e6;\r\n    border-bottom-left-radius: 10px;\r\n    border-bottom-right-radius: 10px;\r\n    padding: 10px 15px;\r\n    align-items: flex-start;\r\n    background: #fff;\r\n\r\n    & ${Span} {\r\n      line-height: 1.5em;\r\n      margin: 10px;\r\n      color: #000 ;\r\n      font-size: 1.05em;\r\n    }\r\n  }\r\n`\r\n\r\nconst AMod = styled(A)`\r\n  color: #e20880;\r\n  font-weight: 500;\r\n`\r\n\r\nconst EpicButton = styled(A)`\r\n  padding: 15px 15px;\r\n  margin-left: 25px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  border-radius: 8px;\r\n  background: linear-gradient(273deg, #674c9f 0%, rgba(226,8,128,1) 100%);\r\n  `\r\n  const ChannelActionButton = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 800;\r\n  // font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${ props => props.disabled && css`\r\n    &:hover {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n    &:active {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n  `}\r\n`\r\n  const GradientButton = styled(ChannelActionButton)`\r\n  // background: #674c9f;\r\n  background: linear-gradient(273deg, #674c9f 0%, rgba(226,8,128,1) 100%);\r\n  `\r\n  const ActionTitle = styled.span`\r\n  ${ props => props.hideit && css`\r\n    visibility: hidden;\r\n  `};\r\n`\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`\r\nconst StatsCard = styled(Item)`\r\n  overflow: hidden;\r\n  min-width: 180px;\r\n\r\n  border-radius: 12px;\r\n  border: 1px solid rgb(225, 225, 225);\r\n\r\n  &:hover {\r\n    opacity: ${props => props.op ? \"0.9\" : props.op}\r\n  }\r\n`;\r\n\r\nconst CenterHeading = styled.h2`\r\n  text-align: center;\r\n`;\r\n\r\nconst PoolContainer = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst StatsHeading = styled(Item)`\r\n  flex: 0;\r\n  align-self: stretch;\r\n  color: #fff;\r\n  top: 0px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.1em;\r\n  font-size: 15px;\r\n  text-align: center;\r\n  padding: 10px 5px;\r\n  right: 0;\r\n  left: 0;\r\n`\r\n\r\nconst NomineeContainer = styled.div`\r\n  padding: 0px 20px 0px 20px;\r\n  position: relative;\r\n  height: 420px;\r\n  overflow-y: hidden;\r\n  overflow-x: auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  /* width */\r\n\r\n  /* Track */\r\n  ::-webkit-scrollbar-track {\r\n    border-radius: 10px;\r\n  }\r\n`;\r\n\r\nconst StatsContent = styled(Item)`\r\n  padding: 20px 20px;\r\n`\r\n\r\nconst AbsoluteWrapper = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: max-content;\r\n  overflow: scroll;\r\n  display: flex;\r\n`\r\n\r\nconst StatsPreview = styled(Span)`\r\n  position: absolute;\r\n  bottom: 5px;\r\n  right: 10px;\r\n  font-weight: 600;\r\n  font-size: 12px;\r\n  opacity: 0.25;\r\n  letter-spacing:0.1em;\r\n  text-transform: uppercase;\r\n  color: ${props => props.color || '#000'};\r\n  z-index: -1;\r\n`\r\n\r\nconst StatsInnerTitle = styled.span`\r\n  // font-weight: bold;\r\n  font-size: 15px;\r\n  letter-spacing: 0.1em;\r\n  align-items: left;\r\n  margin-top: 10px;\r\n`;\r\n\r\n\r\nconst StatsInnerSub = styled.span`\r\n  font-size: 12px;\r\n  color: #999;\r\n  font-weight: 600;\r\n  align-self: flex-end;\r\n`;\r\n\r\nconst ButtonAlt = styled(Button)`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${(props) =>\r\n    props.disabled &&\r\n    css`\r\n      &:hover {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n      &:active {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n    `}\r\n`;\r\n\r\nconst CurvedSpan = styled(Span)`\r\n  font-size: 14px;\r\n`;\r\n\r\n// css styles\r\nconst Blocky = styled.div`\r\n  position: relative;\r\n  width: 96px;\r\n  height: 96px;\r\n  border-radius: 100%;\r\n  overflow: hidden;\r\n  transform: scale(0.85);\r\n  outline-width: 2px;\r\n  outline-color: rgba(225,225,225,1);\r\n`\r\n\r\nconst BlockyInner = styled.div`\r\n`\r\n\r\nconst Wallet = styled.span`\r\n  margin: 10px 10px;\r\n  padding: 8px 15px;\r\n  height: 16px;\r\n  display: none;\r\n  align-items: baseline;\r\n  justify-content: center;\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  color: #fff;\r\n  border-radius: 15px;\r\n  background: #333;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\n\r\n// Export Default\r\nexport default Delegate;\r\n","import EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\nimport { ethers } from \"ethers\";\r\nimport { bigNumber, bigNumberify } from 'ethers/utils'\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\n\r\n// STATIC SINGLETON\r\nexport const ChannelEvents = {\r\n    ADD_CHANNEL_ANY: \"AddChannelAny\",\r\n    ADD_CHANNEL_SELF: \"AddChannelSelf\",\r\n    UPDATE_CHANNEL_ANY: \"UpdateChannelAny\",\r\n    UPDATE_CHANNEL_SELF: \"UpdateChannelSelf\",\r\n    SUBSCRIBER_ANY_CHANNEL: \"SubscriberAnyChannel\",\r\n    SUBSCRIBER_SELF_CHANNEL: \"SubscriberSelfChannel\",\r\n    UNSUBSCRIBER_ANY_CHANNEL: \"UnsubscriberAnyChannel\",\r\n    UNSUBSCRIBER_SELF_CHANNEL: \"UnsubscriberSelfChannel\",\r\n}\r\n\r\nexport default class ChannelsDataStore {\r\n    static instance = ChannelsDataStore.instance || new ChannelsDataStore();\r\n\r\n    state = {\r\n      channelsCount: -1,\r\n      channelsMeta: {},\r\n      channelsJson: {},\r\n\r\n      callbacks: [],\r\n\r\n      account: null,\r\n      epnsReadProvider: null,\r\n    }\r\n\r\n    // init\r\n    init = (account, epnsReadProvider) => {\r\n      // set account\r\n      this.state.account = account;\r\n\r\n      // First attach listeners then overwrite the old one if any\r\n      this.resetChannelsListeners();\r\n      this.state.epnsReadProvider = epnsReadProvider;\r\n      this.initChannelsListenersAsync();\r\n\r\n      // next get store channels count\r\n      this.getChannelsCountAsync();\r\n    }\r\n\r\n    // RESET LISTENERS\r\n    resetChannelsListeners = () => {\r\n      // only proceed if a read provider is attached\r\n      if (this.state.epnsReadProvider) {\r\n        this.state.epnsReadProvider.removeAllListeners(\"AddChannel\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"UpdateChannel\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"Subscribe\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"Unsubscribe\");\r\n      }\r\n    }\r\n\r\n    // init LISTENERS\r\n    initChannelsListenersAsync = async () => {\r\n      // Add Listeners\r\n      await this.listenForAddChannelAnyAsync();\r\n      await this.listenForAddChannelSelfAsync();\r\n\r\n      await this.listenForUpdateChannelAnyAsync();\r\n      await this.listenForUpdateChannelSelfAsync();\r\n\r\n      await this.listenForSubscribeAnyAsync();\r\n      await this.listenForSubscribeSelfAsync();\r\n      await this.listenForUnsubscribeAnyAsync();\r\n      await this.listenForUnsubscribeSelfAsync();\r\n    }\r\n\r\n    // 1. Add Any Channel Listeners\r\n    listenForAddChannelAnyAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.AddChannel(null, null);\r\n\r\n      contract.on(filter, async (channel, ipfs) => {\r\n        // Do own stuff\r\n        await this.incrementChannelsCountAsync(1);\r\n\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.ADD_CHANNEL_ANY]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.ADD_CHANNEL_ANY])) {\r\n            if (callback) { callback(channel, ipfs); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 2. Add Self Channel Listener\r\n    listenForAddChannelSelfAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.AddChannel(this.state.account, null);\r\n\r\n      contract.on(filter, async (channel, ipfs) => {\r\n        // Do own stuff\r\n        // Nothing to do, just do callback\r\n\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.ADD_CHANNEL_SELF]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.ADD_CHANNEL_SELF])) {\r\n            if (callback) { callback(channel, ipfs); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 3. Update Any Channel Listener\r\n    listenForUpdateChannelAnyAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.UpdateChannel(null, null);\r\n\r\n      contract.on(filter, async (channel, ipfs) => {\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_ANY]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_ANY])) {\r\n            if (callback) { callback(channel, ipfs); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 4. Update Self Channel Listener\r\n    listenForUpdateChannelSelfAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.UpdateChannel(this.state.account, null);\r\n\r\n      contract.on(filter, async (channel, ipfs) => {\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_SELF]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_SELF])) {\r\n            if (callback) { callback(channel, ipfs); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 5. Subscriber Any\r\n    listenForSubscribeAnyAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.Subscribe(null, null);\r\n\r\n      contract.on(filter, async (channel, user) => {\r\n        // Do own stuff\r\n        if (this.state.channelsMeta[channel]) {\r\n          const channelID = this.state.channelsMeta[channel];\r\n          let count = this.state.channelsMeta[channelID].memberCount.toNumber();\r\n          count = count + 1;\r\n          this.state.channelsMeta[channelID].memberCount = bigNumberify(count);\r\n        }\r\n\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.SUBSCRIBER_ANY_CHANNEL]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.SUBSCRIBER_ANY_CHANNEL])) {\r\n            if (callback) { callback(channel, user); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 6. Subscriber Self\r\n    listenForSubscribeSelfAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.Subscribe(this.state.account, null);\r\n\r\n      contract.on(filter, async (channel, user) => {\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.SUBSCRIBER_SELF_CHANNEL]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.SUBSCRIBER_SELF_CHANNEL])) {\r\n            if (callback) { callback(channel, user); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 7. Unsubscribe Any\r\n    listenForUnsubscribeAnyAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.Unsubscribe(null, null);\r\n\r\n      contract.on(filter, async (channel, user) => {\r\n        // Do own stuff\r\n        if (this.state.channelsMeta[channel]) {\r\n          const channelID = this.state.channelsMeta[channel];\r\n          let count = this.state.channelsMeta[channelID].memberCount.toNumber();\r\n          count = count - 1;\r\n          this.state.channelsMeta[channelID].memberCount = bigNumberify(count);\r\n        }\r\n\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.UNSUBSCRIBER_ANY_CHANNEL]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.UNSUBSCRIBER_ANY_CHANNEL])) {\r\n            if (callback) { callback(channel, user); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 8. Unsubscribe Self\r\n    listenForUnsubscribeSelfAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.Unsubscribe(this.state.account, null);\r\n\r\n      contract.on(filter, async (channel, user) => {\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.UNSUBSCRIBER_SELF_CHANNEL]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.UNSUBSCRIBER_SELF_CHANNEL])) {\r\n            if (callback) { callback(channel, user); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // FOR CALLBACKS\r\n    addCallbacks = (callbackType, callbackID, callback) => {\r\n      // first check if callback already exists\r\n      if (!this.state.callbacks[callbackType]) {\r\n        this.state.callbacks[callbackType] = {};\r\n      }\r\n\r\n      if (!this.state.callbacks[callbackType][callbackID]) {\r\n        this.state.callbacks[callbackType][callbackID] = callback;\r\n      }\r\n    }\r\n\r\n    removeCallbacks = (callbackType, callbackID) => {\r\n      // first check if callback already exists\r\n      if (this.state.callbacks[callbackType][callbackID]) {\r\n        this.state.callbacks[callbackType][callbackID] = null;\r\n      }\r\n    }\r\n\r\n    // CHANNELS COUNT\r\n    getChannelsCountAsync = async () => {\r\n      const enableLogs = 0;\r\n\r\n      return new Promise (async (resolve, reject) => {\r\n        if (this.state.channelsCount == -1) {\r\n          // Count not set, get and set it first\r\n          const count = EPNSCoreHelper.getTotalNumberOfChannels(this.state.epnsReadProvider)\r\n            .then(response => {\r\n              this.state.channelsCount = response;\r\n\r\n              if (enableLogs) console.log(\"getChannelsCountAsync() --> %o\", response);\r\n              resolve(this.state.channelsCount)\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getChannelsCountAsync() --> %o\", err);\r\n              reject(err);\r\n            });\r\n        }\r\n        else {\r\n          resolve(this.state.channelsCount);\r\n        }\r\n      });\r\n    }\r\n\r\n    incrementChannelsCountAsync = async (incrementCount) => {\r\n      return new Promise ((resolve, reject) => {\r\n        this.getChannelsCountAsync()\r\n          .then(response => {\r\n            this.state.channelsCount = response + incrementCount;\r\n            console.log(\"incrementChannelsCountAsync() --> %d\", this.state.channelsCount);\r\n            resolve(this.state.channelsCount)\r\n          })\r\n          .catch(err => { console.log(\"!!!Error, incrementChannelsCountAsync() --> %o\", err); reject(err); });\r\n      });\r\n\r\n    }\r\n\r\n    // CHANNELS META FUNCTIONS\r\n    // To get channels meta\r\n    getChannelsMetaAsync = async (atIndex, numChannels) => {\r\n      return new Promise (async (resolve, reject) => {\r\n        // get total number of channels\r\n        const channelsCount = await this.getChannelsCountAsync();\r\n\r\n        if (atIndex == -1) {\r\n          atIndex = channelsCount - 1;\r\n        }\r\n\r\n        if (numChannels == -1) {\r\n          numChannels = channelsCount;\r\n        }\r\n\r\n        // Get channels\r\n        let channelsMeta = [];\r\n        let channelsDummy = [];\r\n\r\n        // prefil and then refil\r\n        let count = 0;\r\n        for (let i = 0; i < numChannels; i++) {\r\n          const assignedChannelID = atIndex - i;\r\n          channelsDummy[count] = assignedChannelID;\r\n          count = count + 1;\r\n        }\r\n\r\n        const promises = channelsDummy.map(async (channelID) => {\r\n          // Match the cache\r\n          await this.getChannelMetaAsync(channelID)\r\n            .then(response => {\r\n              const mappings = { ...response };\r\n              mappings.id = channelID;\r\n\r\n              channelsMeta = [mappings, ...channelsMeta];\r\n            })\r\n            .catch(err => console.log(\"!!!Error (but skipping), getChannelMetaAsync() --> %o\", err))\r\n        });\r\n\r\n        // wait until all promises are resolved\r\n        await Promise.all(promises);\r\n\r\n        channelsMeta.sort((a, b) => {\r\n          if (a.id < b.id) return -1;\r\n          if (a.id > b.id) return 1;\r\n          return 0;\r\n        });\r\n\r\n        // return channels meta\r\n        console.log(\"getChannelsMetaAsync(From %d to %d) --> %o\", atIndex - numChannels + 1, atIndex, channelsMeta);\r\n        resolve(channelsMeta);\r\n      });\r\n    }\r\n\r\n    // To get a single channel meta via id\r\n    getChannelMetaAsync = async (channelID) => {\r\n      return new Promise (async (resolve, reject) => {\r\n        if (this.state.channelsMeta[channelID]) {\r\n          console.log(\"getChannelMetaAsync() [CACHED] --> %o\", this.state.channelsMeta[channelID]);\r\n          resolve(this.state.channelsMeta[channelID]);\r\n        }\r\n        else {\r\n          let channelAddress;\r\n\r\n          await EPNSCoreHelper.getChannelAddressFromID(channelID, this.state.epnsReadProvider)\r\n            .then(async response => {\r\n              channelAddress = response;\r\n              await this.getChannelMetaViaAddressAsync(channelAddress)\r\n                .then(response => {\r\n                  // update the channel cache before resolving\r\n                  this.state.channelsMeta[channelID] = response;\r\n                  this.state.channelsMeta[channelAddress] = channelID;\r\n\r\n                  // resolve\r\n                  console.log(\"getChannelMetaAsync() [Address: %s] --> %o\", channelAddress, response);\r\n                  resolve(response);\r\n                })\r\n            })\r\n            .catch(err => { console.log(\"!!!Error, getChannelMetaAsync() --> %o\", err); reject(err); })\r\n        }\r\n      });\r\n    }\r\n\r\n    // To get a single channel meta via address\r\n    getChannelMetaViaAddressAsync = async (channelAddress) => {\r\n      return new Promise (async (resolve, reject) => {\r\n        if (this.state.channelsMeta[channelAddress]) {\r\n          const channelID = this.state.channelsMeta[channelAddress];\r\n\r\n          console.log(\"getChannelMetaViaAddressAsync() [CACHED] --> %o\", this.state.channelsMeta[channelID]);\r\n          resolve(this.state.channelsMeta[channelID]);\r\n        }\r\n        else {\r\n          // Can't cache this :(, no way to know channel id\r\n          await EPNSCoreHelper.getChannelInfo(channelAddress, this.state.epnsReadProvider)\r\n            .then(response => {\r\n              // resolve\r\n              console.log(\"getChannelMetaViaAddressAsync() [Address: %s] --> %o\", channelAddress, response);\r\n              resolve(response);\r\n            })\r\n            .catch(err => { console.log(\"!!!Error, getChannelMetaViaAddressAsync() --> %o\", err); reject(err); })\r\n        }\r\n      });\r\n    }\r\n\r\n    // CHANNELS INFO FUNCTIONS\r\n    // To get a single channel meta via id\r\n    getChannelJsonAsync = async (channelAddress) => {\r\n      return new Promise (async (resolve, reject) => {\r\n        if (this.state.channelsJson[channelAddress]) {\r\n          console.log(\"getChannelJsonAsync() [CACHED] --> %o\", this.state.channelsJson[channelAddress]);\r\n          resolve(this.state.channelsJson[channelAddress]);\r\n        }\r\n        else {\r\n          await EPNSCoreHelper.getChannelJsonFromChannelAddress(channelAddress, this.state.epnsReadProvider)\r\n            .then(response => {\r\n              // First set the cache\r\n              this.state.channelsJson[channelAddress] = response;\r\n\r\n              // resolve\r\n              console.log(\"getChannelJsonAsync() [Address: %s] --> %o\", channelAddress, response);\r\n              resolve(response);\r\n            })\r\n            .catch(err => { console.log(\"!!!Error, getChannelJsonAsync() --> %o\", err); reject(err); })\r\n        }\r\n      });\r\n    }\r\n\r\n}\r\n","import EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\nimport { ethers } from \"ethers\";\r\nimport { bigNumber } from 'ethers/utils'\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\n\r\n// STATIC SINGLETON\r\nexport const UserEvents = {\r\n    SUBSCRIBED: \"Subscribed\",\r\n    UNSUBSCRIBED: \"Unsubscribed\",\r\n    PUBLIC_KEY_BROADCASTED: \"PublicKeyBroadcasted\",\r\n    CREATED_CHANNEL: \"CreatedChannel\",\r\n    DEACTIVATE_CHANNEL: \"DeactivateChannel\",\r\n}\r\n\r\nexport default class UsersDataStore {\r\n    static instance = UsersDataStore.instance || new UsersDataStore();\r\n\r\n    state = {\r\n      usersCount: -1,\r\n      userMeta: null,\r\n      ownerMeta: null,\r\n\r\n      callbacks: [],\r\n\r\n      account: null,\r\n      epnsReadProvider: null,\r\n    }\r\n\r\n    // init\r\n    init = (account, epnsReadProvider) => {\r\n      // set account\r\n      this.state.account = account;\r\n\r\n      // First attach listeners then overwrite the old one if any\r\n      this.resetUsersListeners();\r\n      this.state.epnsReadProvider = epnsReadProvider;\r\n      this.initUsersListenersAsync();\r\n\r\n      // next get store user count & user meta\r\n      this.getOwnerMetaAsync();\r\n      this.getUsersCountAsync();\r\n      this.getUserMetaAsync();\r\n    }\r\n\r\n    // RESET LISTENERS\r\n    resetUsersListeners = () => {\r\n      // only proceed if a read provider is attached\r\n      if (this.state.epnsReadProvider) {\r\n        this.state.epnsReadProvider.removeAllListeners(\"Subscribe\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"Unsubscribe\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"PublicKeyRegistered\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"AddChannel\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"DeactivateChannel\");\r\n      }\r\n\r\n      // reset user meta as well\r\n      this.state.userMeta = null;\r\n    }\r\n\r\n    // init LISTENERS\r\n    initUsersListenersAsync = async () => {\r\n      // Add Listeners\r\n      await this.listenForSubscribedAsync();\r\n      await this.listenForUnsubscribedAsync();\r\n\r\n      if (!this.state.userMeta || (this.state.userMeta && !this.state.userMeta.publicKeyRegistered)) {\r\n        await this.listenForPublicKeyBroadcastAsync();\r\n      }\r\n    }\r\n\r\n    // 1. Listen for Subscribe Async\r\n    listenForSubscribedAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.Subscribe(null, this.state.account);\r\n\r\n      if (this.state.userMeta) {\r\n        this.state.userMeta.subscribedCount = this.state.userMeta.subscribedCount.add(1);\r\n      }\r\n\r\n      contract.on(filter, async (channel, user) => {\r\n        // then perform callbacks\r\n        if (this.state.callbacks[UserEvents.SUBSCRIBED]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[UserEvents.SUBSCRIBED])) {\r\n            if (callback) { callback(channel, user); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 2. Listen for Unsubscribe Async\r\n    listenForUnsubscribedAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.Unsubscribe(null, this.state.account);\r\n\r\n      if (this.state.userMeta) {\r\n        this.state.userMeta.subscribedCount = this.state.userMeta.subscribedCount.sub(1);\r\n      }\r\n\r\n      contract.on(filter, async (channel, user) => {\r\n        // then perform callbacks\r\n        if (this.state.callbacks[UserEvents.UNSUBSCRIBED]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[UserEvents.UNSUBSCRIBED])) {\r\n            if (callback) { callback(channel, user); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 3. Listen For Public Key Broadcast\r\n    listenForPublicKeyBroadcastAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.PublicKeyRegistered(this.state.account, null);\r\n\r\n      if (this.state.userMeta) {\r\n        this.state.userMeta.publicKeyRegistered = true;\r\n      }\r\n\r\n      contract.once(filter, async (channel, user) => {\r\n        // then perform callbacks\r\n        if (this.state.callbacks[UserEvents.UNSUBSCRIBED]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[UserEvents.UNSUBSCRIBED])) {\r\n            if (callback) { callback(channel, user); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // FOR CALLBACKS\r\n    addCallbacks = (callbackType, callbackID, callback) => {\r\n      // first check if callback already exists\r\n      if (!this.state.callbacks[callbackType]) {\r\n        this.state.callbacks[callbackType] = {};\r\n      }\r\n\r\n      if (!this.state.callbacks[callbackType][callbackID]) {\r\n        this.state.callbacks[callbackType][callbackID] = callback;\r\n      }\r\n    }\r\n\r\n    removeCallbacks = (callbackType, callbackID) => {\r\n      // first check if callback already exists\r\n      if (this.state.callbacks[callbackType][callbackID]) {\r\n        this.state.callbacks[callbackType][callbackID] = null;\r\n      }\r\n    }\r\n\r\n    // GET OWNER META\r\n    getOwnerMetaAsync = async () => {\r\n      const enableLogs = 0;\r\n\r\n      return new Promise ((resolve, reject) => {\r\n        if (this.state.ownerMeta) {\r\n          if (enableLogs) console.log(\"getOwnerMetaAsync() [CACHED] --> %o\", this.state.ownerMeta);\r\n          resolve(this.state.ownerMeta);\r\n        }\r\n        else {\r\n          EPNSCoreHelper.getOwnerInfo(this.state.epnsReadProvider)\r\n            .then(response => {\r\n              this.state.ownerMeta = response;\r\n\r\n              if (enableLogs) console.log(\"getOwnerMetaAsync() --> %o\", response);\r\n              resolve(this.state.ownerMeta);\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getOwnerMetaAsync() --> %o\", err);\r\n              reject(err);\r\n            });\r\n        }\r\n      });\r\n    }\r\n\r\n    // USERS COUNT\r\n    getUsersCountAsync = async () => {\r\n      return new Promise (async (resolve, reject) => {\r\n        if (this.state.channelsCount == -1) {\r\n          // Count not set, get and set it first\r\n          const count = EPNSCoreHelper.getTotalNumberOfUsers(this.state.epnsReadProvider)\r\n            .then(response => {\r\n              this.state.usersCount = response;\r\n              console.log(\"getUsersCountAsync() --> %o\", response);\r\n              resolve(this.state.usersCount)\r\n            })\r\n            .catch(err => { console.log(\"!!!Error, getUsersCountAsync() --> %o\", err); reject(err); });\r\n        }\r\n        else {\r\n          resolve(this.state.usersCount);\r\n        }\r\n      });\r\n    }\r\n\r\n    incrementUsersCountAsync = async (incrementCount) => {\r\n      return new Promise ((resolve, reject) => {\r\n        this.getUsersCountAsync()\r\n          .then(response => {\r\n            this.state.usersCount = response + incrementCount;\r\n            console.log(\"incrementChannelsCountAsync() --> %d\", this.state.usersCount);\r\n            resolve(this.state.usersCount);\r\n          })\r\n          .catch(err => { console.log(\"!!!Error, getUsersCountAsync() --> %o\", err); reject(err); });\r\n      });\r\n    }\r\n\r\n    // GET USER META\r\n    getUserMetaAsync = async () => {\r\n      const enableLogs = 0;\r\n\r\n      return new Promise ((resolve, reject) => {\r\n        if (this.state.userMeta) {\r\n          if (enableLogs) console.log(\"getUserMetaAsync() [CACHED] --> %o\", this.state.userMeta);\r\n          resolve(this.state.userMeta);\r\n        }\r\n        else {\r\n          EPNSCoreHelper.getUserInfo(this.state.account, this.state.epnsReadProvider)\r\n            .then(response => {\r\n              this.state.userMeta = response;\r\n\r\n              if (enableLogs) console.log(\"getUserMetaAsync() --> %o\", this.state.userMeta);\r\n              resolve(this.state.userMeta);\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getUserMetaAsync() --> %o\", err);\r\n              reject(err);\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n}\r\n","import React from \"react\";\r\nimport ReactGA from 'react-ga';\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport {Section, Content, Item, ItemH, ItemBreak, A, H1, H2, H3, Image, P, Span, Anchor, Button, Showoff, FormSubmision, Input, TextField} from 'components/SharedStyling';\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { ethers } from \"ethers\";\r\n\r\nimport Loader from 'react-loader-spinner'\r\n\r\nimport EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\n\r\nimport Airdrop from \"segments/Airdrop\";\r\nimport YieldFarming from 'segments/YieldFarming';\r\nimport NFT from 'segments/NFT';\r\nimport PushGovernance from 'segments/PushGovernance';\r\n\r\nimport ChannelsDataStore, { ChannelEvents } from \"singletons/ChannelsDataStore\";\r\nimport UsersDataStore, { UserEvents } from \"singletons/UsersDataStore\";\r\n\r\n\r\n// Create Header\r\nfunction Home({ setBadgeCount, bellPressed }) {\r\n  ReactGA.pageview('/home');\r\n\r\n  const { active, error, account, library, chainId } = useWeb3React();\r\n\r\n  const [epnsReadProvider, setEpnsReadProvider] = React.useState(null);\r\n  const [epnsWriteProvider, setEpnsWriteProvider] = React.useState(null);\r\n\r\n  const [controlAt, setControlAt] = React.useState(0);\r\n  const [adminStatusLoaded, setAdminStatusLoaded] = React.useState(false);\r\n  const [channelAdmin, setChannelAdmin] = React.useState(false);\r\n  const [channelJson, setChannelJson] = React.useState([]);\r\n\r\n\r\n\r\n  // React.useEffect(() => {\r\n  //   const contractInstance = new ethers.Contract(addresses.epnscore, abis.epnscore, library);\r\n  //   setEpnsReadProvider(contractInstance);\r\n\r\n  //   if (!!(library && account)) {\r\n  //     let signer = library.getSigner(account);\r\n  //     const signerInstance = new ethers.Contract(addresses.epnscore, abis.epnscore, signer);\r\n  //     setEpnsWriteProvider(signerInstance);\r\n  //   }\r\n\r\n  // }, [account]);\r\n\r\n  // React.useEffect(() => {\r\n  //   // Reset when account refreshes\r\n  //   setChannelAdmin(false);\r\n  //   setAdminStatusLoaded(false);\r\n  //   userClickedAt(0);\r\n  //   setChannelJson([]);\r\n\r\n  //   // EPNS Read Provider Set\r\n  //   if (epnsReadProvider != null) {\r\n  //     // Instantiate Data Stores\r\n  //     UsersDataStore.instance.init(account, epnsReadProvider);\r\n  //     ChannelsDataStore.instance.init(account, epnsReadProvider);\r\n\r\n  //     checkUserForChannelRights();\r\n  //   }\r\n\r\n  // }, [epnsReadProvider]);\r\n\r\n\r\n  // // Revert to Feedbox on bell pressed\r\n  // React.useEffect(() => {\r\n  //   setControlAt(4);\r\n  // }, [bellPressed]);\r\n\r\n  // handle user action at control center\r\n  const userClickedAt = (controlIndex) => {\r\n    setControlAt(controlIndex);\r\n  }\r\n\r\n  //Start Listening...\r\n  const listenerForChannelRights = async () => {\r\n    ChannelsDataStore.instance.addCallbacks(\r\n      ChannelEvents.ADD_CHANNEL_SELF,\r\n      \"FromCreateChannel\",\r\n      () => {\r\n        checkUserForChannelRights();\r\n      }\r\n    );\r\n  }\r\n\r\n  // Check if a user is a channel or not\r\n  const checkUserForChannelRights = async () => {\r\n    // Check if account is admin or not and handle accordingly\r\n    EPNSCoreHelper.getChannelJsonFromUserAddress(account, epnsReadProvider)\r\n      .then(response => {\r\n        console.log(response);\r\n        setChannelJson(response);\r\n        setChannelAdmin(true);\r\n        setAdminStatusLoaded(true);\r\n      })\r\n      .catch(e => {\r\n        setChannelAdmin(false);\r\n        setAdminStatusLoaded(true);\r\n      });\r\n\r\n    // Start listening\r\n    listenerForChannelRights();\r\n  }\r\n\r\n  // Render\r\n  return (\r\n    <Container>\r\n      <Controls>\r\n        <ControlButton index={0} active={controlAt == 0 ? 1 : 0} border=\"#e20880\"\r\n          onClick={() => {\r\n            userClickedAt(0)\r\n          }}\r\n        >\r\n          <ControlImage src=\"./svg/yield.svg\" active={controlAt == 0 ? 1 : 0} />\r\n          <ControlText active={controlAt == 0 ? 1 : 0}>Yield Farming</ControlText>\r\n        </ControlButton>\r\n\r\n        {/*\r\n        <ControlButton index={1} active={controlAt == 1 ? 1 : 0} border=\"#35c5f3\"\r\n          onClick={() => {\r\n            userClickedAt(1)\r\n          }}\r\n        >\r\n          <ControlImage src=\"./svg/gratitude.svg\" active={controlAt == 1 ? 1 : 0} />\r\n          <ControlText active={controlAt == 1 ? 1 : 0}>Gratitude Drop</ControlText>\r\n        </ControlButton>\r\n        */}\r\n\r\n        <ControlButton index={1} active={controlAt == 1 ? 1 : 0} border=\"#35c5f3\"\r\n          onClick={() => {\r\n            userClickedAt(1)\r\n          }}\r\n        >\r\n          <ControlImage src=\"./svg/delegate.svg\" active={controlAt == 1 ? 1 : 0} />\r\n          <ControlText active={controlAt == 1 ? 1 : 0}>Push Governance</ControlText>\r\n        </ControlButton>\r\n\r\n        <ControlButton index={2} active={controlAt == 2 ? 1 : 0} border=\"#674c9f\"\r\n          onClick={() => {\r\n            userClickedAt(2)\r\n          }}\r\n        >\r\n          <ControlImage src=\"./svg/rockstars.svg\" active={controlAt == 2 ? 1 : 0} />\r\n          <ControlText active={controlAt == 2 ? 1 : 0}>Rockstars of EPNS</ControlText>\r\n        </ControlButton>\r\n\r\n        <ControlButton index={4} active={controlAt == 4 ? 1 : 0} border=\"#e20880\"\r\n          onClick={() => {\r\n            window.open(\"https://app.epns.io\", \"_blank\")\r\n          }}\r\n        >\r\n          <ControlImage src=\"./svg/epnslogo.svg\" active={controlAt == 4 ? 1 : 0} />\r\n          <ControlText active={controlAt == 4 ? 1 : 0}>#PushNotifs  </ControlText>\r\n        </ControlButton>\r\n\r\n      </Controls>\r\n      <Interface>\r\n        <Section>\r\n          {controlAt == 0 &&\r\n            <YieldFarming />\r\n          }\r\n          {/*{controlAt == 1 &&\r\n            <Airdrop />\r\n          }*/}\r\n          {controlAt == 1 &&\r\n            <PushGovernance\r\n              epnsReadProvider={epnsReadProvider}\r\n              epnsWriteProvide={epnsWriteProvider}\r\n            />\r\n          }\r\n          {controlAt == 2 &&\r\n            <NFT\r\n              epnsReadProvider={epnsReadProvider}\r\n              epnsWriteProvide={epnsWriteProvider}\r\n            />\r\n          }\r\n          {controlAt == 3 &&\r\n            <></>\r\n          }\r\n        </Section>\r\n\r\n      </Interface>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css style\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  display: block;\r\n  flex-direction: column;\r\n  min-height: calc(100vh - 100px);\r\n`\r\n\r\nconst Controls = styled.div`\r\n  flex: 0;\r\n  display: flex;\r\n  flex-direction: row;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst ControlButton = styled.div`\r\n  flex: 1 1 10%;\r\n  height: 120px;\r\n  min-width: 100px;\r\n  background: #fff;\r\n\r\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\r\n  border-radius: 15px;\r\n  border: 1px solid rgb(225,225,225);\r\n\r\n  border-bottom: 10px solid rgb(180,180,180);\r\n  margin: 20px;\r\n  overflow: hidden;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  border-bottom: 10px solid ${(props) => props.active ? props.border : \"rgb(180,180,180)\"};\r\n\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\n\r\nconst ControlImage = styled.img`\r\n  height: 30%;\r\n  margin-right: 15px;\r\n  filter: ${(props) => props.active ? \"brightness(1)\" : \"brightness(0)\"};\r\n  opacity: ${(props) => props.active ? \"1\" : \"0.25\"};\r\n\r\n  transition: transform .2s ease-out;\r\n  ${ props => props.active && css`\r\n    transform: scale(2) translate(-20px, 0px);\r\n    opacity: 0.4;\r\n  `};\r\n`\r\n\r\nconst ControlText = styled.label`\r\n  font-size: 16px;\r\n  font-weight: 200;\r\n  opacity: ${(props) => props.active ? \"1\" : \"0.75\"};\r\n\r\n  transition: transform .2s ease-out;\r\n  ${ props => props.active && css`\r\n    transform: scale(1.3) translate(-10px, 0px);\r\n  `};\r\n`\r\n\r\nconst ControlChannelContainer = styled.div`\r\n  margin: 0px 20px;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  display: flex;\r\n`\r\n\r\nconst ControlChannelImage = styled.img`\r\n    width: 20%;\r\n    margin-bottom: 10px;\r\n    transition: transform .2s ease-out;\r\n    ${ props => props.active && css`\r\n      transform: scale(3.5) translate(-40px, 5px);\r\n      opacity: 0.2;\r\n      z-index: 1;\r\n    `};\r\n`\r\n\r\nconst ControlChannelText = styled.label`\r\n  font-size: 16px;\r\n  font-weight: 300;\r\n  opacity: ${(props) => props.active ? \"1\" : \"0.75\"};\r\n  transition: transform .2s ease-out;\r\n  background: -webkit-linear-gradient(#db268a, #34c6f3);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  z-index: 2;\r\n  ${ props => props.active && css`\r\n    transform: scale(1.1) translate(0px, -20px);\r\n  `};\r\n\r\n`\r\n\r\nconst Interface = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n\r\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\r\n  border-radius: 20px;\r\n  border: 1px solid rgb(225,225,225);\r\n\r\n  margin: 15px;\r\n  overflow: hidden;\r\n`\r\n\r\n// Export Default\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\r\n\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport Loader from 'react-loader-spinner'\r\nimport Blockies from \"components/BlockiesIdenticon\";\r\n\r\n//   <Blockies opts={{seed: \"foo\", color: \"#dfe\", bgcolor: \"#a71\", size: 15, scale: 3, spotcolor: \"#000\"}}/>\r\n\r\n// Create Header\r\nfunction Profile() {\r\n  const { active, error, account, library, chainId } = useWeb3React();\r\n\r\n  const [address, setAddress] = React.useState('');\r\n  const [ens, setENS] = React.useState('');\r\n  const [ensFetched, setENSFetched] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (account && account != '') {\r\n      // Check if the address is the same\r\n      if (address !== account) {\r\n        setENS('');\r\n        setENSFetched(false);\r\n\r\n        // get ens\r\n        library\r\n          .lookupAddress(account).then(function(name) {\r\n            setENS(name);\r\n            setENSFetched(true);\r\n            setAddress(account);\r\n          })\r\n          .catch(() => {\r\n            setENSFetched(true);\r\n            setAddress(account);\r\n          })\r\n      }\r\n\r\n    }\r\n  }, [account]);\r\n\r\n  // to create blockies\r\n\r\n  return (\r\n    <>\r\n    {account && account !== '' && !error &&\r\n      <Container>\r\n        <Blocky>\r\n          <BlockyInner>\r\n             <Blockies seed={account.toLowerCase()} opts={{seed: account.toLowerCase(), size: 7, scale: 7}}/>\r\n          </BlockyInner>\r\n        </Blocky>\r\n        <Wallet>\r\n        {!ensFetched &&\r\n          <Loader\r\n      \t     type=\"Oval\"\r\n      \t     color=\"#FFF\"\r\n      \t     height={16}\r\n      \t     width={16}\r\n      \t  />\r\n        }\r\n        {ensFetched && ens &&\r\n          <>{ens}</>\r\n        }\r\n        {ensFetched && !ens &&\r\n          <>{account.substring(0, 6)}.....{account.substring(account.length - 6)}</>\r\n        }\r\n        </Wallet>\r\n      </Container>\r\n    }\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.button`\r\n  margin: 0;\r\n  padding: 0;\r\n  background: none;\r\n  border: 0;\r\n  outline: 0;\r\n  justify-content: flex-start;\r\n  flex: 1,\r\n  flex-direction: row;\r\n  align-items: center;\r\n  display: flex;\r\n`\r\n\r\nconst Blocky = styled.div`\r\n  position: relative;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 100%;\r\n  overflow: hidden;\r\n  transform: scale(0.85);\r\n  outline-width: 2px;\r\n  outline-color: rgba(225,225,225,1);\r\n`\r\n\r\nconst BlockyInner = styled.div`\r\n`\r\n\r\nconst Wallet = styled.span`\r\n  margin: 0px 10px;\r\n  padding: 8px 15px;\r\n  height: 16px;\r\n  display: flex;\r\n  align-items: baseline;\r\n  justify-content: center;\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  color: #fff;\r\n  border-radius: 15px;\r\n  background: rgb(226,8,128);\r\n  background: linear-gradient(107deg, rgba(226,8,128,1) 30%, rgba(103,76,159,1) 70%, rgba(53,197,243,1) 100%);\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\n\r\n// Export Default\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport styled, { css, keyframes } from 'styled-components';\r\nimport { AnimateOnChange } from 'react-animation';\r\n\r\n// Create Header\r\nfunction Bell({ badgeCount, bellPressedCB, width, height }) {\r\n  const [badge, setBadge] = React.useState(0);\r\n  const [ring, setRing] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    // Set new badge count and ring the bell\r\n    setBadge(badgeCount);\r\n\r\n    if (badge > 0) {\r\n      setResetRinger();\r\n    }\r\n  }, [badgeCount]);\r\n\r\n  const setResetRinger = () => {\r\n    setRing(true);\r\n\r\n    setTimeout(() => {\r\n        setRing(false)\r\n    }, 500);\r\n  }\r\n\r\n  return (\r\n    <Container\r\n      onClick={() => {\r\n        if (bellPressedCB) {bellPressedCB();}\r\n      }}\r\n      width={width}\r\n      height={height}\r\n    >\r\n      <BellImage ring={ring} src=\"./bell.png\" className=\"tadaaa\" ringme={ring} width={width} height={height} />\r\n      <BellImageAbs src=\"./bellball.png\" width={width} height={height} />\r\n      <BellImageAbs src=\"./ring.png\" width={width} height={height} />\r\n      {badge != 0 &&\r\n        <AnimateOnChange\r\n          animationIn=\"fadeIn\"\r\n          animationOut=\"fadeOut\"\r\n          durationOut={200}\r\n        >\r\n          <Badge>{badge}</Badge>\r\n        </AnimateOnChange>\r\n      }\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  background: transparent;\r\n  border: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 10px;\r\n  position: relative;\r\n  height: ${props => props.height || 40}px;\r\n  width: ${props => props.width || 40}px;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\n\r\nconst tadaaa = keyframes`\r\n  0% {\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    -ms-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1);\r\n  }\r\n\r\n  10%, 20% {\r\n    -webkit-transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\r\n    -ms-transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\r\n    transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\r\n  }\r\n\r\n  30%, 50%, 70%, 90% {\r\n    -webkit-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\r\n    -ms-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\r\n    transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\r\n  }\r\n\r\n  40%, 60%, 80% {\r\n    -webkit-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\r\n    -ms-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\r\n    transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\r\n  }\r\n\r\n  100% {\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    -ms-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1);\r\n  }\r\n`;\r\n\r\nconst BellImage = styled.img`\r\n  position: absolute;\r\n  height: ${props => props.height || 40}px;\r\n  width: ${props => props.width || 40}px;\r\n\r\n  transition: transform .2s ease-out;\r\n  ${ props => props.ringme && css`\r\n    animation: ${tadaaa} 1s ease-out;\r\n  `};\r\n\r\n\r\n`\r\n\r\nconst BellImageAbs = styled(BellImage)`\r\n  left: 0,\r\n`\r\n\r\nconst Badge = styled.span`\r\n  position: absolute;\r\n  font-size: 10px;\r\n  color: #fff;\r\n  padding: 2px 4px;\r\n  border-radius: 100%;\r\n  background: rgba(208.0, 44.0, 30.0, 1.0);\r\n  top: 0px;\r\n  left: 5px;\r\n  font-weight: bold;\r\n`\r\n\r\n// Export Default\r\nexport default Bell;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from \"styled-components\";\r\nimport {Section, Content, Item, ItemH, Button} from 'components/SharedStyling';\r\n\r\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\r\nimport {\r\n  NoEthereumProviderError,\r\n  UserRejectedRequestError as UserRejectedRequestErrorInjected\r\n} from '@web3-react/injected-connector'\r\nimport { Web3Provider } from 'ethers/providers'\r\n\r\nimport Profile from 'components/Profile';\r\nimport Bell from 'components/Bell';\r\n\r\n\r\n// Create Header\r\nfunction Header({ badgeCount, bellPressedCB }) {\r\n  const context = useWeb3React<Web3Provider>()\r\n\r\n  const { active, error, account, chainId } = useWeb3React();\r\n  const { deactivate } = context\r\n\r\n  const [showLoginControls, setShowLoginControls] = React.useState(false);\r\n\r\n  function getErrorMessage(error: Error) {\r\n    if (error instanceof NoEthereumProviderError) {\r\n      return 'Web3 not enabled, install MetaMask on desktop or visit from a dApp browser on mobile'\r\n    } else if (error instanceof UnsupportedChainIdError) {\r\n      return \"Unsupported Network, please connect to Mainnet\"\r\n    } else if (\r\n      error instanceof UserRejectedRequestErrorInjected\r\n    ) {\r\n      return 'Please authorize this website to access the dApp'\r\n    } else {\r\n      console.error(error)\r\n      return 'An unknown error occurred. Check the console for more details'\r\n    }\r\n  }\r\n\r\n  const bellPressed = () => {\r\n    setShowLoginControls(!showLoginControls);\r\n  }\r\n\r\n  const disconnect = () => {\r\n    setShowLoginControls(false);\r\n    deactivate();\r\n  }\r\n\r\n  return (\r\n    <HeaderContainer\r\n      direction=\"row\"\r\n      padding=\"10px 15px\"\r\n    >\r\n      <ItemH\r\n        justify=\"flex-start\"\r\n        flex=\"0\"\r\n      >\r\n        {active && !error &&\r\n          <Profile />\r\n        }\r\n        {!active &&\r\n          <Logo src=\"epns.png\" />\r\n        }\r\n      </ItemH>\r\n\r\n      <ItemH\r\n        justify=\"flex-end\"\r\n      >\r\n        {active && !error &&\r\n          <Bell\r\n            badgeCount={badgeCount}\r\n            bellPressedCB={bellPressed}\r\n            width={32}\r\n            height={32}\r\n          />\r\n        }\r\n\r\n        {showLoginControls &&\r\n          <Item\r\n            position=\"absolute\"\r\n          >\r\n            <Button\r\n              bg=\"#000\"\r\n              size=\"12px\"\r\n              spacing=\"0.2em\"\r\n              textTransform=\"uppercase\"\r\n              weight=\"600\"\r\n              radius=\"20px\"\r\n              onClick={() => disconnect()}\r\n            >\r\n              Disconnect\r\n            </Button>\r\n          </Item>\r\n        }\r\n\r\n        <ItemH\r\n          justify=\"flex-end\"\r\n          flex=\"initial\"\r\n        >\r\n          {!!error &&\r\n            <PrimaryTheme>{getErrorMessage(error)}</PrimaryTheme>\r\n          }\r\n          {!active && !error &&\r\n            <ThirdTheme>Please connect to a Web3 Network</ThirdTheme>\r\n          }\r\n          <Connection phase={active ? 'active' : error ? 'error' : 'waiting'} />\r\n        </ItemH>\r\n      </ItemH>\r\n    </HeaderContainer>\r\n  );\r\n}\r\n\r\n// CSS Styles\r\nconst HeaderContainer = styled(Section)`\r\n  @media (max-width: 1440px) {\r\n    background: rgb(255,255,255);\r\n  }\r\n`\r\n\r\nconst Logo = styled.img`\r\n  height: 40px;\r\n`\r\n\r\nconst Notice = styled.span`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n`\r\n\r\nconst PrimaryTheme = styled(Notice)`\r\n  background: #e20880;\r\n`\r\n\r\nconst ThirdTheme = styled(Notice)`\r\n  background: #674c9f;\r\n`\r\n\r\nconst Connection = styled.span`\r\n  height: 10px;\r\n  width: 10px;\r\n  border-radius: 100%;\r\n  flex-shrink: 0;\r\n\r\n  ${props => props.phase === 'active' && css`\r\n    background: #77DD77;\r\n  `};\r\n\r\n  ${props => props.phase === 'waiting' && css`\r\n    background: #FFAE42;\r\n  `};\r\n\r\n  ${props => props.phase === 'error' && css`\r\n    background: #DC143C;\r\n  `};\r\n`\r\n\r\n// Export Default\r\nexport default Header;\r\n","import React from \"react\";\r\nimport ReactGA from 'react-ga';\r\n\r\nimport styled from 'styled-components';\r\nimport {Section, Content, Item, ItemH, Span, H2, H3, B, A} from 'components/SharedStyling';\r\n\r\nimport Loader from 'react-loader-spinner'\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nimport { AbstractConnector } from '@web3-react/abstract-connector'\r\nimport { Web3ReactProvider, useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\r\nimport {\r\n  NoEthereumProviderError,\r\n  UserRejectedRequestError as UserRejectedRequestErrorInjected\r\n} from '@web3-react/injected-connector'\r\nimport { Web3Provider } from 'ethers/providers'\r\n\r\nimport { useEagerConnect, useInactiveListener } from 'hooks'\r\nimport {\r\n  injected,\r\n  walletconnect,\r\n  portis,\r\n  trezor,\r\n  ledger\r\n} from 'connectors'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { ethers } from \"ethers\";\r\n\r\nimport Home from 'pages/Home';\r\nimport Header from 'segments/Header';\r\n\r\nimport * as dotenv from \"dotenv\";\r\ndotenv.config();\r\n\r\nconst web3Connectors = {\r\n  Injected: {obj: injected, logo: './svg/login/metamask.svg', title: 'MetaMask'},\r\n  WalletConnect: {obj: walletconnect, logo: './svg/login/walletconnect.svg', title: 'Wallet Connect'},\r\n  Trezor: {obj: trezor, logo: './svg/login/trezor.svg', title: 'Trezor'},\r\n  Ledger: {obj: ledger, logo: './svg/login/ledger.svg', title: 'Ledger'},\r\n  Portis: {obj: portis, logo: './svg/login/portis.svg', title: 'Portis'},\r\n}\r\n\r\nfunction getErrorMessage(error: Error) {\r\n  if (error instanceof NoEthereumProviderError) {\r\n    return 'No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.'\r\n  } else if (error instanceof UnsupportedChainIdError) {\r\n    return \"You're connected to an unsupported network.\"\r\n  } else if (\r\n    error instanceof UserRejectedRequestErrorInjected\r\n  ) {\r\n    return 'Please authorize this website to access your Ethereum account.'\r\n  } else {\r\n    console.error(error)\r\n    return 'An unknown error occurred. Check the console for more details.'\r\n  }\r\n}\r\n\r\nfunction getLibrary(provider, connector) {\r\n  return new ethers.providers.Web3Provider(provider); // this will vary according to whether you use e.g. ethers or web3.js\r\n}\r\n\r\nexport default function() {\r\n  return (\r\n    <Web3ReactProvider getLibrary={getLibrary}>\r\n      <App />\r\n    </Web3ReactProvider>\r\n  )\r\n}\r\n\r\nfunction ChainId() {\r\n  const { chainId } = useWeb3React()\r\n\r\n  return (\r\n    <>\r\n      <span>Chain Id</span>\r\n      <span role=\"img\" aria-label=\"chain\">\r\n        ⛓\r\n      </span>\r\n      <span>{Number.isInteger(chainId) ? chainId : ''}</span>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nfunction App() {\r\n  const context = useWeb3React<Web3Provider>()\r\n  const { connector, library, chainId, account, activate, deactivate, active, error } = context\r\n\r\n  const [ badgeCount, setBadgeCount ] = React.useState(0);\r\n  const [ bellPressed, setBellPressed ] = React.useState(0);\r\n\r\n  // Initialize GA\r\n  ReactGA.initialize('UA-165415629-4');\r\n  ReactGA.pageview('/login');\r\n\r\n  // handle logic to recognize the connector currently being activated\r\n  const [activatingConnector, setActivatingConnector] = React.useState<AbstractConnector>()\r\n  React.useEffect(() => {\r\n    if (activatingConnector && activatingConnector === connector) {\r\n      setActivatingConnector(undefined)\r\n    }\r\n  }, [activatingConnector, connector])\r\n\r\n  // handle logic to eagerly connect to the injected ethereum provider, if it exists and has granted access already\r\n  const triedEager = useEagerConnect()\r\n\r\n  // handle logic to connect in reaction to certain events on the injected ethereum provider, if it exists\r\n  useInactiveListener(!triedEager || !!activatingConnector)\r\n\r\n  return (\r\n      <>\r\n        <HeaderContainer>\r\n          <Header\r\n            badgeCount={badgeCount}\r\n            bellPressedCB={() => {setBellPressed(bellPressed + 1)}}\r\n          />\r\n        </HeaderContainer>\r\n\r\n        <ParentContainer>\r\n        {(active) && !error && (\r\n          <HomeContainer>\r\n            <Home\r\n              setBadgeCount={setBadgeCount}\r\n              bellPressed={bellPressed}\r\n            />\r\n          </HomeContainer>\r\n\r\n        )}\r\n\r\n        {!active &&\r\n          <Item>\r\n            <ProviderLogo src=\"./epnshomelogo.png\" srcSet={\"./epnshomelogo@2x.png 2x, ./epnshomelogo@2x.png 3x\"} />\r\n            <Item\r\n              bg=\"#fafafa\"\r\n              border=\"1px solid #ddd\"\r\n              padding=\"15px\"\r\n              radius=\"12px\"\r\n            >\r\n              <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n                <Span bg=\"#e20880\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Connect</Span><Span weight=\"200\"> Your Wallet</Span>\r\n              </H2>\r\n\r\n              <ItemH\r\n                maxWidth=\"800px\"\r\n                align=\"stretch\"\r\n              >\r\n                {Object.keys(web3Connectors).map(name => {\r\n                  const currentConnector = web3Connectors[name].obj\r\n                  const activating = currentConnector === activatingConnector\r\n                  const connected = currentConnector === connector\r\n                  const disabled = !triedEager || !!activatingConnector || connected || !!error\r\n                  const image = web3Connectors[name].logo\r\n                  const title = web3Connectors[name].title\r\n\r\n                  return (\r\n                    <ProviderButton\r\n                      disabled={disabled}\r\n                      key={name}\r\n                      onClick={() => {\r\n                        setActivatingConnector(currentConnector)\r\n                        activate(currentConnector)\r\n                      }}\r\n                      border=\"#35c5f3\"\r\n                    >\r\n                      <ProviderImage src={image} />\r\n\r\n                      <Span\r\n                        spacing=\"0.1em\"\r\n                        textTransform=\"uppercase\"\r\n                        size=\"12px\"\r\n                        weight=\"600\"\r\n                        padding=\"10px\"\r\n                      >\r\n                        {title}\r\n                      </Span>\r\n                    </ProviderButton>\r\n                  )\r\n                })}\r\n              </ItemH>\r\n            </Item>\r\n\r\n            <Span margin=\"10px\" size=\"14px\">\r\n              By unlocking your wallet, <B>You agree</B> to our <A href=\"https://epns.io/tos\" target=\"_blank\">Terms of Service</A> and our <A href=\"https://epns.io/privacy\" target=\"_blank\">Privacy Policy</A>.\r\n            </Span>\r\n          </Item>\r\n        }\r\n        </ParentContainer>\r\n\r\n        <ToastContainer\r\n          position=\"bottom-right\"\r\n          autoClose={false}\r\n          newestOnTop\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n        />\r\n      </>\r\n  );\r\n}\r\n\r\n\r\n// CSS STYLES\r\nconst HeaderContainer = styled.header`\r\n  left: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 999;\r\n`\r\n\r\nconst ParentContainer = styled.div`\r\n  flex-wrap: wrap;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  margin: 80px 20px 50px 20px;\r\n  flex: 1;\r\n`\r\n\r\nconst HomeContainer = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  align-self: center;\r\n  width: 100%;\r\n  max-width: 1100px;\r\n`\r\n\r\nconst ProviderLogo = styled.img`\r\n  width: 15vw;\r\n  align-self: center;\r\n  display: flex;\r\n  margin: 10px 20px 20px 20px;\r\n  min-width: 200px;\r\n`\r\n\r\nconst ProviderButton = styled.button`\r\n  flex: 1 1 0;\r\n  min-width: 280px;\r\n  background: #fff;\r\n  outline: 0;\r\n\r\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\r\n  border-radius: 15px;\r\n  border: 1px solid rgb(225,225,225);\r\n\r\n  margin: 20px;\r\n  overflow: hidden;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 10px;\r\n\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n    border: 1px solid ${props => props.border}\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n    border: 1px solid ${props => props.border}\r\n  }\r\n`\r\n\r\nconst ProviderImage = styled.img`\r\n  width: 32px;\r\n  max-height: 32px;\r\n  padding: 10px;\r\n`\r\n\r\nconst ProviderLabel = styled.span`\r\n  font-size: 12px;\r\n  margin: 5px;\r\n`\r\n\r\nconst StyledContainer = styled(ToastContainer).attrs({\r\n  // custom props\r\n})`\r\n  .Toastify__toast-container {}\r\n  .Toastify__toast {}\r\n  .Toastify__toast--error {}\r\n  .Toastify__toast--warning {}\r\n  .Toastify__toast--success {}\r\n  .Toastify__toast-body {\r\n    font-size: 12px;\r\n  }\r\n  .Toastify__progress-bar {}\r\n`;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\"No internet connection found. App is running in offline mode.\");\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {ApolloClient, ApolloProvider, InMemoryCache} from \"@apollo/client\";\r\n\r\nimport './index.css';\r\n\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport { Web3ReactProvider } from '@web3-react/core'\r\nimport { ethers } from \"ethers\";\r\n\r\nimport * as dotenv from \"dotenv\";\r\ndotenv.config();\r\n\r\n// You should replace this uri with your own and put it into a .env file\r\nconst client = new ApolloClient({\r\n  uri: \"https://api.thegraph.com/subgraphs/name/epnsproject/epnsstaging\",\r\n  cache: new InMemoryCache()\r\n});\r\n\r\nReactDOM.render(\r\n\r\n    <ApolloProvider client={client}>\r\n      <App />\r\n    </ApolloProvider>,\r\n    document.getElementById(\"root\"),\r\n\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from \"react\";\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { ethers, utils, BigNumber} from \"ethers\";\r\nimport { parseEther, bigNumber } from 'ethers/utils'\r\nconst claims = require(\"config/claims.json\")\r\n\r\n// Airdrop Helper Functions\r\nconst AirdropHelper = {\r\n    combinedHash : (first, second) => {\r\n        if (!first) {\r\n          return second\r\n        }\r\n        if (!second) {\r\n          return first\r\n        }\r\n      \r\n        return Buffer.from(\r\n          utils.solidityKeccak256(['bytes32', 'bytes32'], [first, second].sort(Buffer.compare)).slice(2),\r\n          'hex'\r\n        )\r\n    },\r\n      \r\n    toNode : (index, account, amount) => {\r\n    const pairHex = utils.solidityKeccak256(['uint256', 'address', 'uint256'], [index, account, amount])\r\n    return Buffer.from(pairHex.slice(2), 'hex')\r\n    },\r\n      \r\n    verifyProof : (\r\n    index,\r\n    account,\r\n    amount,\r\n    proof,\r\n    root\r\n    ) => {\r\n    let pair = AirdropHelper.toNode(index, account, amount)\r\n    for (const item of proof) {\r\n        pair = AirdropHelper.combinedHash(pair, item)\r\n    }\r\n    \r\n    return pair.equals(root)\r\n    },\r\n      \r\n    getNextLayer : (elements) => {\r\n    return elements.reduce((layer, el, idx, arr) => {\r\n        if (idx % 2 === 0) {\r\n        // Hash the current element with its pair element\r\n        layer.push(AirdropHelper.combinedHash(el, arr[idx + 1]))\r\n        }\r\n    \r\n        return layer\r\n    }, [])\r\n    },\r\n      \r\n    getRoot : (balances) => {\r\n    let nodes = balances\r\n        .map(({ account, amount, index }) => AirdropHelper.toNode(index, account, amount))\r\n        // sort by lexicographical order\r\n        .sort(Buffer.compare)\r\n    \r\n    // deduplicate any eleents\r\n    nodes = nodes.filter((el, idx) => {\r\n        return idx === 0 || !nodes[idx - 1].equals(el)\r\n    })\r\n    \r\n    const layers = []\r\n    layers.push(nodes)\r\n    \r\n    // Get next layer until we reach the root\r\n    while (layers[layers.length - 1].length > 1) {\r\n        layers.push(AirdropHelper.getNextLayer(layers[layers.length - 1]))\r\n    }\r\n    \r\n    return layers[layers.length - 1][0]\r\n    },\r\n\r\n\r\n    verifyAddress: async (user, contract) => {\r\n        const enableLogs = 1;\r\n        const merkleRootHex = claims.merkleRoot\r\n        const merkleRoot = Buffer.from(merkleRootHex.slice(2), 'hex')\r\n        if(claims.claims[user]){\r\n            const claim = claims.claims[user]\r\n        const proof = claim.proof.map((p) => Buffer.from(p.slice(2), 'hex'))\r\n        const verified = (AirdropHelper.verifyProof(claim.index, user, claim.amount, proof, merkleRoot))\r\n        let txPromise = await contract.isClaimed(claim.index)\r\n        const isClaimed = await txPromise\r\n        const claimable = !isClaimed\r\n        const BNamount = BigNumber.from(claim.amount)\r\n        const amount = BNamount.toNumber()\r\n        // const amount = ethers.utils.parseEther(num)\r\n        return({ index: claim.index, account: user, amount, proof, merkleRoot, verified, claimable})\r\n        }\r\n        else\r\n        return({verified: false})\r\n    },\r\n\r\n  \r\n\r\n}\r\n\r\nexport default AirdropHelper;\r\n","(function() {\r\n\t// The random number is a js implementation of the Xorshift PRNG\r\n\tvar randseed = new Array(4); // Xorshift: [x, y, z, w] 32 bit values\r\n\r\n\tfunction seedrand(seed) {\r\n\t\tfor (var i = 0; i < randseed.length; i++) {\r\n\t\t\trandseed[i] = 0;\r\n\t\t}\r\n\t\tfor (var i = 0; i < seed.length; i++) {\r\n\t\t\trandseed[i%4] = ((randseed[i%4] << 5) - randseed[i%4]) + seed.charCodeAt(i);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction rand() {\r\n\t\t// based on Java's String.hashCode(), expanded to 4 32bit values\r\n\t\tvar t = randseed[0] ^ (randseed[0] << 11);\r\n\r\n\t\trandseed[0] = randseed[1];\r\n\t\trandseed[1] = randseed[2];\r\n\t\trandseed[2] = randseed[3];\r\n\t\trandseed[3] = (randseed[3] ^ (randseed[3] >> 19) ^ t ^ (t >> 8));\r\n\r\n\t\treturn (randseed[3]>>>0) / ((1 << 31)>>>0);\r\n\t}\r\n\r\n\tfunction createColor() {\r\n\t\t//saturation is the whole color spectrum\r\n\t\tvar h = Math.floor(rand() * 360);\r\n\t\t//saturation goes from 40 to 100, it avoids greyish colors\r\n\t\tvar s = ((rand() * 60) + 40) + '%';\r\n\t\t//lightness can be anything from 0 to 100, but probabilities are a bell curve around 50%\r\n\t\tvar l = ((rand()+rand()+rand()+rand()) * 25) + '%';\r\n\r\n\t\tvar color = 'hsl(' + h + ',' + s + ',' + l + ')';\r\n\t\treturn color;\r\n\t}\r\n\r\n\tfunction createImageData(size) {\r\n\t\tvar width = size; // Only support square icons for now\r\n\t\tvar height = size;\r\n\r\n\t\tvar dataWidth = Math.ceil(width / 2);\r\n\t\tvar mirrorWidth = width - dataWidth;\r\n\r\n\t\tvar data = [];\r\n\t\tfor(var y = 0; y < height; y++) {\r\n\t\t\tvar row = [];\r\n\t\t\tfor(var x = 0; x < dataWidth; x++) {\r\n\t\t\t\t// this makes foreground and background color to have a 43% (1/2.3) probability\r\n\t\t\t\t// spot color has 13% chance\r\n\t\t\t\trow[x] = Math.floor(rand()*2.3);\r\n\t\t\t}\r\n\t\t\tvar r = row.slice(0, mirrorWidth);\r\n\t\t\tr.reverse();\r\n\t\t\trow = row.concat(r);\r\n\r\n\t\t\tfor(var i = 0; i < row.length; i++) {\r\n\t\t\t\tdata.push(row[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tfunction buildOpts(opts) {\r\n\t\tvar newOpts = {};\r\n\r\n\t\tnewOpts.seed = opts.seed || Math.floor((Math.random()*Math.pow(10,16))).toString(16);\r\n\r\n\t\tseedrand(newOpts.seed);\r\n\r\n\t\tnewOpts.size = opts.size || 8;\r\n\t\tnewOpts.scale = opts.scale || 4;\r\n\t\tnewOpts.color = opts.color || createColor();\r\n\t\tnewOpts.bgcolor = opts.bgcolor || createColor();\r\n\t\tnewOpts.spotcolor = opts.spotcolor || createColor();\r\n\r\n\t\treturn newOpts;\r\n\t}\r\n\r\n\tfunction renderIcon(opts, canvas) {\r\n\t\topts = buildOpts(opts || {});\r\n\t\tvar imageData = createImageData(opts.size);\r\n\t\tvar width = Math.sqrt(imageData.length);\r\n\r\n\t\tcanvas.width = canvas.height = opts.size * opts.scale;\r\n\r\n\t\tvar cc = canvas.getContext('2d');\r\n\t\tcc.fillStyle = opts.bgcolor;\r\n\t\tcc.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\tcc.fillStyle = opts.color;\r\n\r\n\t\tfor(var i = 0; i < imageData.length; i++) {\r\n\r\n\t\t\t// if data is 0, leave the background\r\n\t\t\tif(imageData[i]) {\r\n\t\t\t\tvar row = Math.floor(i / width);\r\n\t\t\t\tvar col = i % width;\r\n\r\n\t\t\t\t// if data is 2, choose spot color, if 1 choose foreground\r\n\t\t\t\tcc.fillStyle = (imageData[i] == 1) ? opts.color : opts.spotcolor;\r\n\r\n\t\t\t\tcc.fillRect(col * opts.scale, row * opts.scale, opts.scale, opts.scale);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn canvas;\r\n\t}\r\n\r\n\tfunction createIcon(opts) {\r\n\t\tvar canvas = document.createElement('canvas');\r\n\r\n\t\trenderIcon(opts, canvas);\r\n\r\n\t\treturn canvas;\r\n\t}\r\n\r\n\tvar api = {\r\n\t\tcreate: createIcon,\r\n\t\trender: renderIcon\r\n\t};\r\n\r\n\tif (typeof module !== \"undefined\") {\r\n\t\tmodule.exports = api;\r\n\t}\r\n\tif (typeof window !== \"undefined\") {\r\n\t\t window.blockies = api;\r\n\t}\r\n\r\n})();\r\n"],"sourceRoot":""}